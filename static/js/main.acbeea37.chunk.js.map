{"version":3,"sources":["pages/Donations.js","pages/Bitcoins.js","libs/engines/3d/three.js","libs/engines/3d/units/LevControls.js","libs/engines/data/store/StoreContext.js","components/ThreeScene.js","libs/engines/3d/Unit.js","libs/utils/listenersClass.js","libs/utils/isTouchDevice.js","libs/utils/tapEvent.js","libs/utils/colorTheme.js","libs/engines/3d/units/Graph/index.js","libs/engines/3d/units/Graph/HeatGraph.js","img/heat32.png","libs/engines/3d/units/GraphPosCalculator/GraphCloth.js","libs/engines/physics/PhysicalUnit.js","libs/utils/objectUtils.js","libs/engines/data/store/models/index.js","libs/engines/data/store/models/edge.js","libs/engines/data/store/models/node.js","libs/utils/social.js","libs/engines/data/store/models/person.js","libs/engines/data/store/models/concept.js","libs/engines/data/store/Neo4j/index.js","libs/engines/3d/units/GraphPosCalculator/index.js","libs/myScene.js","components/ExternalLink.js","libs/utils/myDate.js","libs/utils/countable.js","pages/About.js","libs/utils/copyToClipboard.js","libs/engines/data/hardcoded/meta/namesRecognition.js","components/intermediate/Neo4j.js","components/Form/Dropdown/DefaultDropdown.js","components/Form/Input/index.js","components/Form/Dropdown/InputDropdown.js","components/Form/Dropdown/index.js","components/Emoji/index.js","components/Emoji/list.js","components/Emoji/custom/greenfrog.png","components/Emoji/custom/arsenyan.png","components/interface/NameSearch.js","components/Form/Select/index.js","components/Form/Checkbox.js","components/interface/Feed/KissTime.js","components/Form/DatePicker.js","pages/Kontrol/Form.js","pages/Kontrol/EditNode.js","pages/Kontrol/index.js","libs/utils/preventMobileScrolling.js","components/interface/UserNameLink.js","components/interface/List.js","libs/utils/openInNewTab.js","libs/utils/vkAPI.js","components/interface/User.js","components/interface/Edge.js","libs/utils/math.js","components/interface/MobileExpander.js","components/interface/RadioHeader/index.js","components/interface/Feed/index.js","libs/utils/sort.js","components/interface/Stats/index.js","components/interface/Menu/index.js","libs/utils/colorFromWeight.js","components/interface/WeightColorsStyle.js","components/interface/TextInterface.js","components/withRouterAndRef.js","components/Loader/kiss.png","components/Loader/index.js","libs/utils/iOS.js","img/Icon.png","img/telegramLogo.svg","components/interface/HeatMap.js","img/heat2h.png","components/interface/ControlsHelp.js","components/easterEgg/PoweredByNGINX.js","components/Layout.js","routes.js","components/Helmet/config.js","components/Helmet/index.js","components/Auth.jsx","libs/utils/transliterate.js","libs/utils/createSortedSet.js","libs/utils/downloadFile.js","libs/engines/data/hardcoded/meta/edgesTypes.js","libs/engines/data/store/storeClass.js","libs/utils/stringTransforms.js","App.js","libs/engines/data/store/index.js","serviceWorker.js","index.js"],"names":["Donations","props","state","title","src","width","height","frameborder","allowtransparency","scrolling","Component","Bitcoins","className","window","THREE","require","LevControls","object","domElement","this","undefined","document","enabled","target","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MIDDLE","target0","clone","position0","position","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","STATE","NONE","offset","quat","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","max","min","makeSafe","radius","scale","add","panOffset","setFromSpherical","lookAt","multiplyScalar","set","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","passive","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","onKeyDown","type","startEvent","endEvent","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_DOLLY_PAN","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","delta","pow","k","abs","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","body","isPerspectiveCamera","targetDistance","length","tan","fov","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","console","warn","translateZ","vector","handleMouseDownPan","event","clientX","clientY","preventDefault","focus","button","ctrlKey","metaKey","shiftKey","handleMouseDownRotate","handleMouseDownDolly","addEventListener","subVectors","x","y","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","stopPropagation","handleMouseWheel","needsUpdate","keyCode","handleKeyDown","touches","pageX","pageY","handleTouchStartRotate","dx","dy","sqrt","handleTouchStartDollyPan","handleTouchMoveRotate","handleTouchMoveDollyPan","prototype","Object","create","constructor","defineProperties","center","get","noZoom","value","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","StoreContext","React","createContext","ThreeScene","initUnits","units","renderer","scene","camera","interaction","data","sendData","setNode","myScene","forEach","unitName","unit","disabled","unitsToggled","disposeUnits","children","remove","toggleUnits","animate","unregisteredTransitions","transitions","transition","index","currentFrame","numberOfFrames","push","alpha","variable","lerp","transitionIndex","slice","render","frameId","requestAnimationFrame","idleAnimation","controls","setCamera","newTarget","Vector3","z","newPosition","normalize","lengthSq","ceil","registerTransition","idle","active","cameraRotationSpeed","cameraAngleXZ","randomNode","context","store","nodes","round","random","id","cameraOffsetXZ","sin","cameraOffsetY","cos","toggleIdle","Timeout","clearTimeout","setTimeout","acos","ref","viewerRef","createRef","ViewerDiv","current","aspect","setSize","resizeObs","ResizeObserver","updateDimensions","bind","observe","WebGLRenderer","antialias","setClearColor","setPixelRatio","appendChild","Scene","PerspectiveCamera","nodeToShow","pos","Interaction","addUpdateListener","cancelAnimationFrame","contextType","Unit","listenersClass","addInitListener","fn","initListeners","initialized","callInitListeners","listener","updateListeners","callUpdateListeners","createEvent","e","timer","ms","touchStarted","registerTapHandler","global","unregisterTapHandler","tapHandler","on","accessor","matchMedia","currentTheme","matches","Graph","addTheme","color","themeGroup","Group","fontColor","isTouchDevice","node","createNodeSprite","theme","sprite","SpriteText","name","replace","fontFace","cursor","tapEvent","updateTheme","visible","finalMesh","TextureLoader","load","texture","material","MeshBasicMaterial","map","bufferGeometry","BufferGeometry","setAttribute","BufferAttribute","Float32Array","getGeometry","uv","Mesh","HeatGraph","classes","GraphCloth","recalculate","deltaTime","edges","forces","velocities","force","velocity","velocityAttenuation","node0","index0","node1","index1","weight","intermolecularForce","clampLength","maxVectorLength","edge","edgeResistanceForce","overflow","overflowForceDistanceFromCenter","overflowForceK","distanceFromCenter","returnToCenterForceK","clampDistanceFromCenter","normal","forceOverflow","maxWeight","staticPos","getRecalculatedPos","toArray","connections","maxWeightIndex","maxWeightId","log","Array","from","K","isFinite","subVector","currentLength","idealLength","weight0","weight1","localWeight0","localWeight1","edgeLength","deformation","filterKeys","item","model","_","pickBy","key","includes","flatten","obj","parentName","reduce","a","b","deflatten","firstLevelProps","secondLevelProps","newObj","split","properyName","undefinedToEmptyString","emptyStringToUndefined","flattenModel","hasOwnProperty","fields","editableFields","local","match","newInstance","newInstanceType","default","deflattenDataByModel","entries","isArray","encode","instance","encodeType","identity","JSON","stringify","parsed","parseFloat","parseInt","isNaN","canBeString","options","encodeMany","instances","encodeJSONstring","decodeType","row","coordinates","parse","decodeMany","results","decode","isPerson","commited","told","published","hidden","userName","link","emoji","hashtag","hashtag2","specialSite","specialSiteName","specialSiteEmoji","hiddenConnections","mates","aka","socialLinks","tg","label","vk","vk2","inst","inst2","yt","yt2","clubhouse","noLink","twit","twit2","fb","fb2","steam","behance","dribbble","discord","soundcloud","twitch","ticktok","tiktok2","tiktok3","skype","linkedin","phone","github","spotify","social","iq","iq2","eq","mentalDisorder","gender","canBeUndefined","dead","offended","fWHR","SHR","shoulder","hip","political","LR","LA","school","post","statements","axios","auth","username","password","getNodes","statement","connectedNodes","singleNodes","personModel","getNode","decodedConnecttedNodes","decodedSingleNodes","foundArray","getEdges","edgeModel","createNode","resNode","createEdge","resEdge","nodeId","updateNodes","nodess","filter","res","setEdge","deleteNode","deleteEdge","GraphPosCalculator","generateInterval","setInterval","frameNumber","positions","vertices","verticesBuffer","array","indexOf","geometry","dynamic","interval","line","LineSegments","clearInterval","heatGraph","graphCalc","href","to","newTab","rel","myDate","string","lang","dateJS","Date","newString","substring","date","getTime","newDate","getDate","getMonth","getFullYear","day","month","year","modifiedDate","setDate","setMonth","setFullYear","setMinutes","getMinutes","setHours","getHours","monthStringForDate","monthStringShort","time","capitalize","isToday","isYesterday","getSeconds","today","floor","months","pastMonths","number","word","pastSeconds","countable","pastMinutes","pastHours","pastDays","pastWeeks","pastYears","result","clippedDate","addYear","addMonth","addDay","addHour","addMinute","getDay","charAt","toUpperCase","About","memeDate","siteDate","memeDateString","pastCounterShort","siteDateString","setState","articles","text","ExternalLink","newWindow","article","str","el","createElement","select","execCommand","removeChild","maleNameList","endsWith","femaleNameList","changeFromNameList","inputNameList","nameList","subName","changedNamesNumber","indexStr","nameOrFn","search","person","toLowerCase","index2","resolvedName","changeGender","genderDetermined","Neo4j","addCurrentData","nodeString","nodeModel","edgeString","copyToJSON","clearedNodes","mate","copyToClipboard","getAllData","copyData","onClick","copyPos","copyUV","DefaultDropdown","close","setOpened","renderOptions","option","style","setValue","opened","valueRender","placeholder","Radium","Input","inputFieldRef","blur","onChange","onBlur","errorMessage","required","onFocus","showReset","InputDropdown","typedValue","neverTypedFlag","updateOptions","keepValue","relativeOptionsList","oldPropValue","Dropdown","externalAreaClick","parentElement","dropdownAreaRef","dropdownRef","input","emojisArray","symbol","role","EmojiByName","NameSearch","currentOptions","optionsNumber","innerHeight","backgroundColor","Select","optionIn","timeIsDefined","minute","hour","second","numbersToInput","range","after","numbersFromMyDateInstance","myDateInstance","DatePicker","recalcDate","newState","seconds","addZero","encodeTime","toStringDot","prevValue","Form","renderKey","Checkbox","EditNode","createEmptyNode","currentModel","flattenNewInstance","threeSceneRef","conceptModel","setNodeId","save","nodeFromStore","delete","onEnterPress","nameSearchRef","isNew","dates","Kontrol","componentDidMount","textInterfaceRef","openWorkspace","pushEdge","publishedInstantly","createEmptyEdge","nodeNameInState","arrayName","KISS","MARRIED","DEBATED","SEX","DATE","BREAKUP","mateIndex","edgeId","editingEdge","toggleCalc","recalcInProcess","pauseCalc","pause","saveCalc","nodeA","nodeB","renderPropValue","prop","user","gay","simple","emojiLink","items","shown","part","minItems","openInNewTab","url","tab","open","vkServiceKey","getPostsByHashtag","owner_id","sortByTypePriority","User","updateNumberOfHashtagPosts","renderSocialLinks","renderProps","propsMap","showSecretLinks","copied","Emoji","IQ","empathy","justice","ruler","bmim","bmif","married","sposes","sex","heart","heartBroken","breakup","womanBan","debated","kiss","history","setSortBy","sortBy","orderDesc","renderConnections","folder","sort","multiplier","aName","localeCompare","connection","UserNameLink","typeEmoji","nodeProps","spose","withRouter","Edge","renderEmoji","location","pathname","dateType","format","clamp","MobileExpander","updateMaxHeight","maxHeight","prevousState","initialY","screenY","currentY","prevousY","calculateDeltaY","speed","heightStyle","draggableArrowRef","prevLocation","RadioHeader","switchOption","currentOption","newURL","prevURL","affectURL","buttons","content","initialOption","initialOptionFromURL","matchingURLparams","param","getDerivedStateFromProps","Feed","slowEdgesParser","days","dayIndex","groupByDays","mapNodesToEdges","renderKisses","entry","KissTime","renderShowMore","mergedArray","currentArray","currentlyShown","additionalArray","edgesArraysByOption","optionsEmoji","compare_fn","splice","first","last","middle","cmp","binarySearch","Stats","renderMarriages","renderDates","renderBreakUps","renderDebated","renderIQ","renderEQ","renderMass","renderHeight","renderBMImale","renderBMIfemale","renderMentalDisorder","renderDead","renderTriggered","renderGay","renderGenderless","renderAttrMale","am","renderAttrFemale","af","kisses","marriages","unrecognized","mass","male","female","triggered","gene","winner","Menu","news","stats","colorsLightTheme","r","g","colorsDarkTheme","colorInterpolation","colors","start","end","tone","newColor","toString","WeightColorsStyle","weightSet","scopeSelector","rules","colorFromWeight","mediaQueries","TextInterface","updateDeviceWidth","deviceWidth","innerWidth","pushHistory","nodeName","desktopSpread","showFooter","showSearch","isAboutPage","footer","nodeElem","contentWithFooter","interfaceRef","searchBarRef","unregisterListeners","WrappedComponent","InnerComponentWithRef","forwardRef","rest","ComponentWithRouter","withRef","Loader","init","hide","show","display","transparent","opacity","alt","checkInterval","iOS","iDevices","navigator","platform","pop","HeatMap","heatMapHeight","nodeUV","heatMapRef","marginTop","pointer","ControlsHelp","onScroll","scroll","scrollAttenuationTimeout","renderTouch","renderDesktop","flags","antiFlags","control","flag","click","shift","oneFinger","twoFinger","threeElem","getElementsByClassName","Layout","scrollTo","nodeLink","edgeLink","bla","edgeToShow","storeConnected","onpopstate","handleBrowserHistoryButtons","onpushstate","currentNodeId","PoweredByNGINX","spritesCreated","path","component","defaults","headers","Helmet","Auth","sessionToken","cookies","Cookies","checkUser","deviceInfo","deviceDetect","newSessionToken","logout","isEmpty","checkIfLogged","tries","chars","transliterate","char","join","replaceCyrillic","objectsArray","property","Set","downloadFile","filename","encodeURIComponent","edgesTypes","getData","prefix","metaData","potentialPartners","attractiveness","bmi","toFixed","gayPartners","iqSet","createSortedSet","mentalDisorderSet","calcNodeUV","distribution","calcUserName","startsWith","calcLink","defaultData","filteredNodes","badlyFilteredNodes","updateAfter","isEdge","setGeometry","App","stateRefs","storeClass","Provider","routes","route","Boolean","hostname","ReactDOM","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.acbeea37.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Donations extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n    }\n  }\n\n  render() {\n    return (\n      <iframe\n        title=\"yandex money\"\n        src=\"https://money.yandex.ru/quickpay/shop-widget?writer=seller&targets=%D0%BD%D0%B0%20%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D1%82%D0%B8%D0%B5%20%D0%9D%D0%B0%D1%83%D0%BA%D0%B8&targets-hint=&default-sum=&button-text=11&hint=&successURL=&quickpay=shop&account=410013026058450\"\n        width=\"423\"\n        height=\"222\"\n        frameborder=\"0\"\n        allowtransparency=\"true\"\n        scrolling=\"no\"\n      />\n    )\n  }\n}\n\nexport default Donations\n","import React, { Component } from 'react';\n\nclass Bitcoins extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"mt-5 mx-5\">\n        <b className=\"text-dark\">\n          35KtQ9DUVFAjofZZDA9XRfbapsEV1RCbQ8\n        </b>\n      </div>\n    )\n  }\n}\n\nexport default Bitcoins\n","import * as THREE from 'three'\n\nwindow.THREE = THREE\n\nrequire('three/examples/js/controls/OrbitControls')\n\nexport default THREE","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\n\nimport * as THREE from 'three'\n\n// export default class {\n  function LevControls( object, domElement ) {\n\n    this.object = object;\n\n    this.domElement = ( domElement !== undefined ) ? domElement : document;\n\n    // Set to false to disable this control\n    this.enabled = true;\n\n    // \"target\" sets the location of focus, where the object orbits around\n    this.target = new THREE.Vector3();\n\n    // How far you can dolly in and out ( PerspectiveCamera only )\n    this.minDistance = 0;\n    this.maxDistance = Infinity;\n\n    // How far you can zoom in and out ( OrthographicCamera only )\n    this.minZoom = 0;\n    this.maxZoom = Infinity;\n\n    // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n    this.minPolarAngle = 0; // radians\n    this.maxPolarAngle = Math.PI; // radians\n\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n    this.minAzimuthAngle = - Infinity; // radians\n    this.maxAzimuthAngle = Infinity; // radians\n\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n    this.enableDamping = false;\n    this.dampingFactor = 0.25;\n\n    // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n    this.enableZoom = true;\n    this.zoomSpeed = 1.0;\n\n    // Set to false to disable rotating\n    this.enableRotate = true;\n    this.rotateSpeed = 1.0;\n\n    // Set to false to disable panning\n    this.enablePan = true;\n    this.panSpeed = 1.0;\n    this.screenSpacePanning = true; // if true, pan in screen-space\n    this.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n    this.autoRotate = false;\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n    // Set to false to disable use of the keys\n    this.enableKeys = true;\n\n    // The four arrow keys\n    this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n    // Mouse buttons\n    this.mouseButtons = { LEFT: THREE.MOUSE.LEFT, MIDDLE: THREE.MOUSE.MIDDLE, RIGHT: THREE.MOUSE.RIGHT };\n\n    // for reset\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object.zoom;\n\n    //\n    // public methods\n    //\n\n    this.getPolarAngle = function () {\n\n      return spherical.phi;\n\n    };\n\n    this.getAzimuthalAngle = function () {\n\n      return spherical.theta;\n\n    };\n\n    this.saveState = function () {\n\n      scope.target0.copy( scope.target );\n      scope.position0.copy( scope.object.position );\n      scope.zoom0 = scope.object.zoom;\n\n    };\n\n    this.reset = function () {\n\n      scope.target.copy( scope.target0 );\n      scope.object.position.copy( scope.position0 );\n      scope.object.zoom = scope.zoom0;\n\n      scope.object.updateProjectionMatrix();\n      scope.dispatchEvent( changeEvent );\n\n      scope.update();\n\n      state = STATE.NONE;\n\n    };\n\n    // this method is exposed, but perhaps it would be better if we can make it private...\n    this.update = function () {\n\n      var offset = new THREE.Vector3();\n\n      // so camera.up is the orbit axis\n      var quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n      var quatInverse = quat.clone().inverse();\n\n      var lastPosition = new THREE.Vector3();\n      var lastQuaternion = new THREE.Quaternion();\n\n      return function update() {\n\n        var position = scope.object.position;\n\n        offset.copy( position ).sub( scope.target );\n\n        // rotate offset to \"y-axis-is-up\" space\n        offset.applyQuaternion( quat );\n\n        // angle from z-axis around y-axis\n        spherical.setFromVector3( offset );\n\n        if ( scope.autoRotate && state === STATE.NONE ) {\n\n          rotateLeft( getAutoRotationAngle() );\n\n        }\n\n        spherical.theta += sphericalDelta.theta;\n        spherical.phi += sphericalDelta.phi;\n\n        // restrict theta to be between desired limits\n        spherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n        // restrict phi to be between desired limits\n        spherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n        spherical.makeSafe();\n\n\n        spherical.radius *= scale;\n\n        // restrict radius to be between desired limits\n        spherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n        // move target to panned location\n        scope.target.add( panOffset );\n\n        offset.setFromSpherical( spherical );\n\n        // rotate offset back to \"camera-up-vector-is-up\" space\n        offset.applyQuaternion( quatInverse );\n\n        position.copy( scope.target ).add( offset );\n\n        scope.object.lookAt( scope.target );\n\n        if ( scope.enableDamping === true ) {\n\n          sphericalDelta.theta *= ( 1 - scope.dampingFactor );\n          sphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n          panOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n        } else {\n\n          sphericalDelta.set( 0, 0, 0 );\n\n          panOffset.set( 0, 0, 0 );\n\n        }\n\n        scale = 1;\n\n        // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if ( zoomChanged ||\n          lastPosition.distanceToSquared( scope.object.position ) > EPS ||\n          8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n          scope.dispatchEvent( changeEvent );\n\n          lastPosition.copy( scope.object.position );\n          lastQuaternion.copy( scope.object.quaternion );\n          zoomChanged = false;\n\n          return true;\n\n        }\n\n        return false;\n\n      };\n\n    }();\n\n    this.dispose = function () {\n\n      scope.domElement.removeEventListener( 'contextmenu', onContextMenu, { passive: false } );\n      scope.domElement.removeEventListener( 'mousedown', onMouseDown, { passive: false } );\n      scope.domElement.removeEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n      scope.domElement.removeEventListener( 'touchstart', onTouchStart, { passive: false } );\n      scope.domElement.removeEventListener( 'touchend', onTouchEnd, { passive: false } );\n      scope.domElement.removeEventListener( 'touchmove', onTouchMove, { passive: false } );\n\n      document.removeEventListener( 'mousemove', onMouseMove, { passive: false } );\n      document.removeEventListener( 'mouseup', onMouseUp, { passive: false } );\n\n      window.removeEventListener( 'keydown', onKeyDown, { passive: false } );\n\n      //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n    };\n\n    //\n    // internals\n    //\n\n    var scope = this;\n\n    var changeEvent = { type: 'change' };\n    var startEvent = { type: 'start' };\n    var endEvent = { type: 'end' };\n\n    var STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY_PAN: 4 };\n\n    var state = STATE.NONE;\n\n    var EPS = 0.000001;\n\n    // current position in spherical coordinates\n    var spherical = new THREE.Spherical();\n    var sphericalDelta = new THREE.Spherical();\n\n    var scale = 1;\n    var panOffset = new THREE.Vector3();\n    var zoomChanged = false;\n\n    var rotateStart = new THREE.Vector2();\n    var rotateEnd = new THREE.Vector2();\n    var rotateDelta = new THREE.Vector2();\n\n    var panStart = new THREE.Vector2();\n    var panEnd = new THREE.Vector2();\n    var panDelta = new THREE.Vector2();\n\n    var dollyStart = new THREE.Vector2();\n    var dollyEnd = new THREE.Vector2();\n    var dollyDelta = new THREE.Vector2();\n\n    function getAutoRotationAngle() {\n\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n    }\n\n    function getZoomScale(delta) {\n\n      if (typeof delta === \"undefined\")\n        return Math.pow( 0.95, scope.zoomSpeed );\n\n      // console.log(delta)\n      const k = Math.min(50, Math.abs(delta)) ** (delta > 0 ? .5 : .7) * 3\n      return Math.pow( 0.95, scope.zoomSpeed * k );\n\n    }\n\n    function rotateLeft( angle ) {\n\n      sphericalDelta.theta -= angle;\n\n    }\n\n    function rotateUp( angle ) {\n\n      sphericalDelta.phi -= angle;\n\n    }\n\n    var panLeft = function () {\n\n      var v = new THREE.Vector3();\n\n      return function panLeft( distance, objectMatrix ) {\n\n        v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n        v.multiplyScalar( - distance );\n\n        panOffset.add( v );\n\n      };\n\n    }();\n\n    var panUp = function () {\n\n      var v = new THREE.Vector3();\n\n      return function panUp( distance, objectMatrix ) {\n\n        if ( scope.screenSpacePanning === true ) {\n\n          v.setFromMatrixColumn( objectMatrix, 1 );\n\n        } else {\n\n          v.setFromMatrixColumn( objectMatrix, 0 );\n          v.crossVectors( scope.object.up, v );\n\n        }\n\n        v.multiplyScalar( distance );\n\n        panOffset.add( v );\n\n      };\n\n    }();\n\n    // deltaX and deltaY are in pixels; right and down are positive\n    var pan = function () {\n\n      var offset = new THREE.Vector3();\n\n      return function pan( deltaX, deltaY ) {\n\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n        if ( scope.object.isPerspectiveCamera ) {\n\n          // perspective\n          var position = scope.object.position;\n          offset.copy( position ).sub( scope.target );\n          var targetDistance = offset.length();\n\n          // half of the fov is center to top of screen\n          targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n          // we use only clientHeight here so aspect ratio does not distort speed\n          panLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n          panUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n        } else if ( scope.object.isOrthographicCamera ) {\n\n          // orthographic\n          panLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n          panUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n        } else {\n\n          // camera neither orthographic nor perspective\n          console.warn( 'WARNING: LevControls.js encountered an unknown camera type - pan disabled.' );\n          scope.enablePan = false;\n\n        }\n\n      };\n\n    }();\n\n    // function dollyIn( dollyScale ) {\n\n    //   if ( scope.object.isPerspectiveCamera ) {\n\n    //     scale /= dollyScale;\n\n    //   } else if ( scope.object.isOrthographicCamera ) {\n\n    //     scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n    //     scope.object.updateProjectionMatrix();\n    //     zoomChanged = true;\n\n    //   } else {\n\n    //     console.warn( 'WARNING: LevControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n    //     scope.enableZoom = false;\n\n    //   }\n\n    // }\n\n    // function dollyOut( dollyScale ) {\n\n    //   if ( scope.object.isPerspectiveCamera ) {\n\n    //     scale *= dollyScale;\n\n    //   } else if ( scope.object.isOrthographicCamera ) {\n\n    //     scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n    //     scope.object.updateProjectionMatrix();\n    //     zoomChanged = true;\n\n    //   } else {\n\n    //     console.warn( 'WARNING: LevControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n    //     scope.enableZoom = false;\n\n    //   }\n\n    // }\n\n    function translateZ ( delta ) {\n      // const delta = typeof e.deltaY !== \"undefined\" ? -e.deltaY : (1 - e.scale)\n      var vector = new THREE.Vector3(0, 0, -1)\n      .applyQuaternion(object.quaternion)\n      .multiplyScalar((1 - delta) * 2)\n      object.position.add(vector)\n      scope.target.add(vector)\n      scope.update()\n    }\n\n    //\n    // event callbacks - update the object state\n    //\n\n    function handleMouseDownRotate( event ) {\n\n      //console.log( 'handleMouseDownRotate' );\n\n      rotateStart.set( event.clientX, event.clientY );\n\n    }\n\n    function handleMouseDownDolly( event ) {\n\n      //console.log( 'handleMouseDownDolly' );\n\n      dollyStart.set( event.clientX, event.clientY );\n\n    }\n\n    function handleMouseDownPan( event ) {\n\n      //console.log( 'handleMouseDownPan' );\n\n      panStart.set( event.clientX, event.clientY );\n\n    }\n\n    function handleMouseMoveRotate( event ) {\n\n      //console.log( 'handleMouseMoveRotate' );\n\n      rotateEnd.set( event.clientX, event.clientY );\n\n      rotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n      rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n      rotateStart.copy( rotateEnd );\n\n      scope.update();\n\n    }\n\n    function handleMouseMoveDolly( event ) {\n\n      //console.log( 'handleMouseMoveDolly' );\n\n      dollyEnd.set( event.clientX, event.clientY );\n\n      dollyDelta.subVectors( dollyEnd, dollyStart );\n\n      if ( dollyDelta.y > 0 ) {\n\n        // dollyIn( getZoomScale() );\n        translateZ( 1 / getZoomScale(dollyDelta.y) );\n\n      } else if ( dollyDelta.y < 0 ) {\n\n        // dollyOut( getZoomScale() );\n        translateZ( getZoomScale(dollyDelta.y) );\n\n      }\n\n      dollyStart.copy( dollyEnd );\n\n      scope.update();\n\n    }\n\n    function handleMouseMovePan( event ) {\n\n      //console.log( 'handleMouseMovePan' );\n\n      panEnd.set( event.clientX, event.clientY );\n\n      panDelta.subVectors( panEnd, panStart )\n      .multiplyScalar( 1 + (panDelta.length() ** .5) / 5 )\n      .multiplyScalar( scope.panSpeed );\n\n      pan( panDelta.x, panDelta.y );\n\n      panStart.copy( panEnd );\n\n      scope.update();\n\n    }\n\n    function handleMouseUp( event ) {\n\n      // console.log( 'handleMouseUp' );\n\n    }\n\n    function handleMouseWheel( event ) {\n\n      // console.log( 'handleMouseWheel' );\n\n      if ( event.deltaY < 0 ) {\n\n        // dollyOut( getZoomScale() );\n        translateZ( getZoomScale(event.deltaY) )\n\n      } else if ( event.deltaY > 0 ) {\n\n        // dollyIn( getZoomScale() );\n        translateZ( 1 / getZoomScale(event.deltaY) )\n\n      }\n\n      scope.update();\n\n    }\n\n    function handleKeyDown( event ) {\n\n      // console.log( 'handleKeyDown' );\n\n      var needsUpdate = false;\n\n      switch ( event.keyCode ) {\n\n        case scope.keys.UP:\n          pan( 0, scope.keyPanSpeed );\n          needsUpdate = true;\n          break;\n\n        case scope.keys.BOTTOM:\n          pan( 0, - scope.keyPanSpeed );\n          needsUpdate = true;\n          break;\n\n        case scope.keys.LEFT:\n          pan( scope.keyPanSpeed, 0 );\n          needsUpdate = true;\n          break;\n\n        case scope.keys.RIGHT:\n          pan( - scope.keyPanSpeed, 0 );\n          needsUpdate = true;\n          break;\n\n        default:\n          ;\n\n      }\n\n      if ( needsUpdate ) {\n\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault();\n\n        scope.update();\n\n      }\n\n\n    }\n\n    function handleTouchStartRotate( event ) {\n\n      //console.log( 'handleTouchStartRotate' );\n\n      rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n    }\n\n    function handleTouchStartDollyPan( event ) {\n\n      //console.log( 'handleTouchStartDollyPan' );\n\n      if ( scope.enableZoom ) {\n\n        var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n        var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n        var distance = Math.sqrt( dx * dx + dy * dy );\n\n        dollyStart.set( 0, distance );\n\n      }\n\n      if ( scope.enablePan ) {\n\n        var x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n        var y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n        panStart.set( x, y );\n\n      }\n\n    }\n\n    function handleTouchMoveRotate( event ) {\n\n      //console.log( 'handleTouchMoveRotate' );\n\n      rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n      rotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n      rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n      rotateStart.copy( rotateEnd );\n\n      scope.update();\n\n    }\n\n    function handleTouchMoveDollyPan( event ) {\n\n      //console.log( 'handleTouchMoveDollyPan' );\n\n      if ( scope.enableZoom ) {\n\n        var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n        var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n        var distance = Math.sqrt( dx * dx + dy * dy );\n\n        dollyEnd.set( 0, distance );\n\n        const delta = dollyEnd.y - dollyStart.y\n        const k = Math.min(25, Math.abs(delta)) ** (delta < 0 ? .35 : .7) * 2\n        dollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed * k ) );\n\n        // dollyIn( dollyDelta.y );\n        translateZ( 1 / dollyDelta.y )\n\n        dollyStart.copy( dollyEnd );\n\n      }\n\n      if ( scope.enablePan ) {\n\n        var x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n        var y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n        panEnd.set( x, y );\n\n        panDelta.subVectors( panEnd, panStart )\n        .multiplyScalar( .5 + (panDelta.length() ** .5) / 3.5 )\n        .multiplyScalar( scope.panSpeed );\n\n        pan( panDelta.x, panDelta.y );\n\n        panStart.copy( panEnd );\n\n      }\n\n      scope.update();\n\n    }\n\n    function handleTouchEnd( event ) {\n\n      //console.log( 'handleTouchEnd' );\n\n    }\n\n    //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n    function onMouseDown( event ) {\n\n      if ( scope.enabled === false ) return;\n\n      // Prevent the browser from scrolling.\n\n      event.preventDefault();\n\n      // Manually set the focus since calling preventDefault above\n      // prevents the browser from setting it automatically.\n\n      scope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n      switch ( event.button ) {\n\n        case scope.mouseButtons.LEFT:\n\n          if ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n            if ( scope.enablePan === false ) return;\n\n            handleMouseDownPan( event );\n\n            state = STATE.PAN;\n\n          } else {\n\n            if ( scope.enableRotate === false ) return;\n\n            handleMouseDownRotate( event );\n\n            state = STATE.ROTATE;\n\n          }\n\n          break;\n\n        case scope.mouseButtons.MIDDLE:\n\n          if ( scope.enableZoom === false ) return;\n\n          handleMouseDownDolly( event );\n\n          state = STATE.DOLLY;\n\n          break;\n\n        case scope.mouseButtons.RIGHT:\n\n          if ( scope.enablePan === false ) return;\n\n          handleMouseDownPan( event );\n\n          state = STATE.PAN;\n\n          break;\n\n        default:\n            ;\n    \n\n      }\n\n      if ( state !== STATE.NONE ) {\n\n        document.addEventListener( 'mousemove', onMouseMove, { passive: false } );\n        document.addEventListener( 'mouseup', onMouseUp, { passive: false } );\n\n        scope.dispatchEvent( startEvent );\n\n      }\n\n    }\n\n    function onMouseMove( event ) {\n\n      if ( scope.enabled === false ) return;\n\n      event.preventDefault();\n\n      switch ( state ) {\n\n        case STATE.ROTATE:\n\n          if ( scope.enableRotate === false ) return;\n\n          handleMouseMoveRotate( event );\n\n          break;\n\n        case STATE.DOLLY:\n\n          if ( scope.enableZoom === false ) return;\n\n          handleMouseMoveDolly( event );\n\n          break;\n\n        case STATE.PAN:\n\n          if ( scope.enablePan === false ) return;\n\n          handleMouseMovePan( event );\n\n          break;\n\n        default:\n            ;\n    \n\n      }\n\n    }\n\n    function onMouseUp( event ) {\n\n      if ( scope.enabled === false ) return;\n\n      handleMouseUp( event );\n\n      document.removeEventListener( 'mousemove', onMouseMove, { passive: false } );\n      document.removeEventListener( 'mouseup', onMouseUp, { passive: false } );\n\n      scope.dispatchEvent( endEvent );\n\n      state = STATE.NONE;\n\n    }\n\n    function onMouseWheel( event ) {\n\n      if ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      scope.dispatchEvent( startEvent );\n\n      handleMouseWheel( event );\n\n      scope.dispatchEvent( endEvent );\n\n    }\n\n    function onKeyDown( event ) {\n\n      if ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n      handleKeyDown( event );\n\n    }\n\n    function onTouchStart( event ) {\n\n      if ( scope.enabled === false ) return;\n\n      event.preventDefault();\n\n      switch ( event.touches.length ) {\n\n        case 1:\t// one-fingered touch: rotate\n\n          if ( scope.enableRotate === false ) return;\n\n          handleTouchStartRotate( event );\n\n          state = STATE.TOUCH_ROTATE;\n\n          break;\n\n        case 2:\t// two-fingered touch: dolly-pan\n\n          if ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n          handleTouchStartDollyPan( event );\n\n          state = STATE.TOUCH_DOLLY_PAN;\n\n          break;\n\n        default:\n\n          state = STATE.NONE;\n\n      }\n\n      if ( state !== STATE.NONE ) {\n\n        scope.dispatchEvent( startEvent );\n\n      }\n\n    }\n\n    function onTouchMove( event ) {\n\n      if ( scope.enabled === false ) return;\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      switch ( event.touches.length ) {\n\n        case 1: // one-fingered touch: rotate\n\n          if ( scope.enableRotate === false ) return;\n          if ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?\n\n          handleTouchMoveRotate( event );\n\n          break;\n\n        case 2: // two-fingered touch: dolly-pan\n\n          if ( scope.enableZoom === false && scope.enablePan === false ) return;\n          if ( state !== STATE.TOUCH_DOLLY_PAN ) return; // is this needed?\n\n          handleTouchMoveDollyPan( event );\n\n          break;\n\n        default:\n\n          state = STATE.NONE;\n\n      }\n\n    }\n\n    function onTouchEnd( event ) {\n\n      if ( scope.enabled === false ) return;\n\n      handleTouchEnd( event );\n\n      scope.dispatchEvent( endEvent );\n\n      state = STATE.NONE;\n\n    }\n\n    function onContextMenu( event ) {\n\n      if ( scope.enabled === false ) return;\n\n      event.preventDefault();\n\n    }\n\n    //\n\n    scope.domElement.addEventListener( 'contextmenu', onContextMenu, { passive: false } );\n\n    scope.domElement.addEventListener( 'mousedown', onMouseDown, { passive: false } );\n    scope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n    scope.domElement.addEventListener( 'touchstart', onTouchStart, { passive: false } );\n    scope.domElement.addEventListener( 'touchend', onTouchEnd, { passive: false } );\n    scope.domElement.addEventListener( 'touchmove', onTouchMove, { passive: false } );\n\n    window.addEventListener( 'keydown', onKeyDown, { passive: false } );\n\n    // force an update at start\n\n    this.update();\n\n  };\n\n  LevControls.prototype = Object.create( THREE.EventDispatcher.prototype );\n  LevControls.prototype.constructor = LevControls;\n\n  Object.defineProperties( LevControls.prototype, {\n\n    center: {\n\n      get: function () {\n\n        console.warn( 'THREE.LevControls: .center has been renamed to .target' );\n        return this.target;\n\n      }\n\n    },\n\n    // backward compatibility\n\n    noZoom: {\n\n      get: function () {\n\n        console.warn( 'THREE.LevControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n        return ! this.enableZoom;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.LevControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n        this.enableZoom = ! value;\n\n      }\n\n    },\n\n    noRotate: {\n\n      get: function () {\n\n        console.warn( 'THREE.LevControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n        return ! this.enableRotate;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.LevControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n        this.enableRotate = ! value;\n\n      }\n\n    },\n\n    noPan: {\n\n      get: function () {\n\n        console.warn( 'THREE.LevControls: .noPan has been deprecated. Use .enablePan instead.' );\n        return ! this.enablePan;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.LevControls: .noPan has been deprecated. Use .enablePan instead.' );\n        this.enablePan = ! value;\n\n      }\n\n    },\n\n    noKeys: {\n\n      get: function () {\n\n        console.warn( 'THREE.LevControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n        return ! this.enableKeys;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.LevControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n        this.enableKeys = ! value;\n\n      }\n\n    },\n\n    staticMoving: {\n\n      get: function () {\n\n        console.warn( 'THREE.LevControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n        return ! this.enableDamping;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.LevControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n        this.enableDamping = ! value;\n\n      }\n\n    },\n\n    dynamicDampingFactor: {\n\n      get: function () {\n\n        console.warn( 'THREE.LevControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n        return this.dampingFactor;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.LevControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n        this.dampingFactor = value;\n\n      }\n\n    }\n\n  } );\n\nexport default LevControls","import React from 'react'\n\nconst StoreContext = React.createContext(\"new store()\")\nexport default StoreContext","import React, { Component } from 'react'\n\nimport { Interaction } from 'three.interaction'\nimport ResizeObserver from 'resize-observer-polyfill'\n\nimport THREE from 'libs/engines/3d/three'\nimport LevControls from 'libs/engines/3d/units/LevControls'\nimport StoreContext from 'libs/engines/data/store/StoreContext'\nimport isProduction from 'libs/utils/isProduction'\n\n\nconst targetToCamera = 5\n\nclass ThreeScene extends Component {\n  constructor(props) {\n    super(props)\n    this.viewerRef = new React.createRef()\n    this.transitions = []\n\n    this.units = {}\n\n    this.idle = {\n      active: false,\n      cameraAngleXZ: 0,\n      cameraOffsetXZ: targetToCamera,\n      cameraOffsetY: 0,\n      cameraRotationSpeed: 0,\n    }\n  }\n\n  updateDimensions() {\n    const ViewerDiv = this.viewerRef && this.viewerRef.current\n    if (!this.renderer || !ViewerDiv || !this.camera)\n      return\n    this.camera.aspect = ViewerDiv.clientWidth / ViewerDiv.clientHeight\n    this.camera.updateProjectionMatrix()\n    this.renderer.setSize(ViewerDiv.clientWidth, ViewerDiv.clientHeight)\n    this.controls.update()\n\n    // if (ViewerDiv.clientWidth < 500 || ViewerDiv.clientHeight < 500)\n    //   this.renderer.setPixelRatio(1)\n    // else\n    //   this.renderer.setPixelRatio(1)\n  }\n\n  componentDidMount() {\n    //REGISTER Camera Idle\n    if (isProduction()) {\n      this.toggleIdle()\n      window.addEventListener( 'click', this.toggleIdle, { passive: true } )\n      window.addEventListener( 'touchstart', this.toggleIdle, { passive: true } )\n      window.addEventListener( 'mouseup', this.toggleIdle, { passive: true } )\n      window.addEventListener( 'contextmenu', this.toggleIdle, { passive: true } )\n      window.addEventListener( 'mousedown', this.toggleIdle, { passive: true } )\n      window.addEventListener( 'wheel', this.toggleIdle, { passive: true } )\n      window.addEventListener( 'touchstart', this.toggleIdle, { passive: true } )\n      window.addEventListener( 'touchend', this.toggleIdle, { passive: true } )\n      window.addEventListener( 'touchmove', this.toggleIdle, { passive: true } )\n      window.addEventListener( 'keydown', this.toggleIdle, { passive: true } )\n    }\n\n    this.resizeObs = new ResizeObserver(this.updateDimensions.bind(this))\n      .observe(this.viewerRef.current)\n\n    const ViewerDiv = this.viewerRef.current\n    const width = ViewerDiv.clientWidth\n    const height = ViewerDiv.clientHeight\n\n    //ADD RENDERER\n    this.renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true })\n    // this.renderer.setClearColor('#f6f6f6')\n    // this.renderer.setClearColor('#fafafa')\n    // this.renderer.setClearColor('#000')\n    this.renderer.setClearColor(0x000000, 0)\n    this.renderer.setSize(width, height)\n    // if (width < 500 || height < 500)\n    this.renderer.setPixelRatio(isProduction() ? 2 : 1)\n    // this.renderer.sortObjects = false\n    ViewerDiv.appendChild(this.renderer.domElement)\n\n    //ADD SCENE\n    this.scene = new THREE.Scene()\n\n    //ADD CAMERA\n    this.camera = new THREE.PerspectiveCamera(\n      75,\n      width / height,\n      0.1,\n      1000\n    )\n    this.controls = new LevControls( this.camera, ViewerDiv )\n    this.controls.panSpeed = 1.5\n    this.controls.enableKeys = false\n    this.camera.position.z = targetToCamera\n    this.controls.update()\n\n    if (this.props.nodeToShow && this.props.setNode) {\n      this.props.setNode(this.props.nodeToShow.id, false)\n      //setCamera() doesn't fire in setNode...\n      this.setCamera(\n        this.props.nodeToShow.pos,\n        false\n      )\n    }\n\n    this.interaction = new Interaction(this.renderer, this.scene, this.camera)\n\n    this.initUnits()\n    this.context.store.addUpdateListener(() => {\n      this.disposeUnits()\n      this.initUnits()\n    })\n\n    if (!this.frameId)\n      this.frameId = requestAnimationFrame(this.animate)\n  }\n\n  componentWillUnmount(){\n    this.disposeUnits()\n    cancelAnimationFrame(this.frameId)\n    // this.viewerRef.removeChild(this.renderer.domElement)\n  }\n\n  initUnits = () => {\n    this.units = {}\n    const props = {\n      THREE: THREE,\n      renderer: this.renderer,\n      scene: this.scene,\n      camera: this.camera,\n      interaction: this.interaction,\n      ...this.props.data, //TODO adequately\n      sendData: this.props.sendData,\n      setNode: this.props.setNode,\n    }\n\n    Object.keys(this.props.myScene.units)\n      .forEach(unitName => {\n        const unit = this.props.myScene.units[unitName]\n\n        if (!unit.disabled ^ this.unitsToggled)\n          this.units[unitName] = new unit.unit(props)\n      })\n        \n  }\n\n  disposeUnits = () => {\n    Object.keys(this.units)\n      .forEach(unitName => this.units[unitName].dispose())\n    //REDO THIS SHIT: units should unregister themselves\n    while(this.scene.children.length > 0)\n      this.scene.remove(this.scene.children[0])\n  }\n\n  toggleUnits = () => {\n    this.disposeUnits()\n    this.unitsToggled = !this.unitsToggled\n    this.initUnits()\n  }\n\n  animate = () => {\n    Object.keys(this.units).forEach(unitName => this.units[unitName].animate())\n\n    //VECTOR TRANSITIONS\n    let unregisteredTransitions = []\n    this.transitions.forEach((transition, index) => {\n      if (transition.currentFrame === transition.numberOfFrames)\n        unregisteredTransitions.push(index)\n      else {\n        const alpha = 1 / (transition.numberOfFrames - transition.currentFrame)\n        transition.variable.lerp(transition.value, alpha)\n        transition.currentFrame++\n      }\n    })\n    unregisteredTransitions.forEach(transitionIndex =>\n      this.transitions = [\n        ...this.transitions.slice(0, transitionIndex),\n        ...this.transitions.slice(transitionIndex + 1)\n      ]\n    )\n\n\n    this.renderer.render(this.scene, this.camera)\n    this.frameId = window.requestAnimationFrame(this.animate)\n\n    this.idleAnimation()\n\n    this.controls.update()\n  }\n\n  setCamera = (target, transition = true) => {\n    // this.camera.position.fromArray(position)\n    // this.controls.target.fromArray(target)\n    // const newPosition = new THREE.Vector3(...position)\n    // console.log(target)\n    if (typeof target === \"undefined\" || this.transitions.length > 0)\n      return\n    const newTarget = new THREE.Vector3(target.x, target.y, target.z)\n    const newPosition = newTarget.clone()\n      .add(this.camera.position.clone()\n        .sub(this.controls.target)\n        .normalize()\n        .multiplyScalar(targetToCamera)\n      )\n\n    if (transition) {\n      let numberOfFrames = new THREE.Vector3()\n        .subVectors(newPosition, this.camera.position)\n        .lengthSq() ** .25 * 3\n      numberOfFrames = Math.ceil(numberOfFrames)\n \n      this.registerTransition(this.camera.position, newPosition, numberOfFrames)\n      this.registerTransition(this.controls.target, newTarget, numberOfFrames)\n    }\n    else {\n      this.camera.position.copy(newPosition)\n      this.controls.target.copy(newTarget)\n    }\n\n    this.controls.update()\n  }\n\n  registerTransition = (variable, value, numberOfFrames) => {\n    this.transitions.push({\n      variable: variable,\n      value: value,\n      numberOfFrames: numberOfFrames || 10,\n      currentFrame: 0,\n    })\n  }\n\n  idleAnimation = () => {\n    if (this.idle.active) {\n      if (this.idle.cameraRotationSpeed < .025)\n        this.idle.cameraRotationSpeed += .00017\n\n      this.idle.cameraAngleXZ += this.idle.cameraRotationSpeed\n      if (this.idle.cameraAngleXZ >= Math.PI * 2) {\n        this.idle.cameraAngleXZ = 0\n        const randomNode = this.context.store.get().nodes[\n          Math.round(Math.random() * (this.context.store.get().nodes.length - 1))\n        ]\n        this.props.setNode(randomNode.id, true, true)\n      }\n      this.camera.position.set(\n        this.controls.target.x + this.idle.cameraOffsetXZ * Math.sin(this.idle.cameraAngleXZ),\n        this.controls.target.y + this.idle.cameraOffsetY,\n        this.controls.target.z + this.idle.cameraOffsetXZ * Math.cos(this.idle.cameraAngleXZ)\n      )\n    }\n  }\n\n  toggleIdle = () => {\n    this.idle.active = false\n    this.idle.cameraRotationSpeed = 0\n\n    if (this.idle.Timeout)\n      clearTimeout(this.idle.Timeout)\n\n    this.idle.Timeout = setTimeout(() => {\n      this.idle.cameraOffsetXZ = ((this.controls.target.x - this.camera.position.x) ** 2 + (this.controls.target.z - this.camera.position.z) ** 2) ** .5\n      this.idle.cameraOffsetY = this.camera.position.y - this.controls.target.y\n      let angle = Math.acos((this.camera.position.z - this.controls.target.z) / this.idle.cameraOffsetXZ)\n\n      if (this.camera.position.x - this.controls.target.x < 0)\n        angle = Math.PI * 2 - angle\n\n      if (angle >= 0 && angle <= Math.PI * 2)\n        this.idle.cameraAngleXZ = angle\n\n      this.idle.active = true\n    }, 120000)\n  }\n  \n  render = () => (\n    <div\n      className=\"Viewer\"\n      ref={this.viewerRef}\n    />\n  )\n}\n\nThreeScene.contextType = StoreContext\n\nexport default ThreeScene","export default class Unit {\n  constructor(props) {\n    this.props = props\n  }\n  animate() {}\n  dispose() {}\n}","export default class listenersClass {\n  constructor() {\n    this.initialized = false\n    this.initListeners = []\n    this.updateListeners = []\n  }\n\n  addInitListener = fn => {\n    this.initListeners.push(fn)\n    this.initialized && this.callInitListeners()\n  }\n\n  callInitListeners = () => {\n    this.initialized = true\n    this.initListeners.forEach(listener => listener())\n    // this.updateListeners.forEach(listener => listener())\n    this.initListeners = []\n  }\n\n  addUpdateListener = fn => {\n    this.updateListeners.push(fn)\n  }\n\n  callUpdateListeners = () => {\n    this.updateListeners.forEach(listener => listener())\n  }\n}","export default () => {\n  try {  \n    document.createEvent(\"TouchEvent\")  \n    return true  \n  } catch (e) {  \n    return false  \n  }  \n}\n","export default (element, fn, startEvent = 'touchstart', endEvent = 'touchend', ms = 200) => {\n  var timer,\n    touchStarted = false,\n    // spriteUUID,\n    vector\n\n  const registerTapHandler = e => {\n    // spriteUUID = e.intersects[0].object.uuid\n    vector = e.data.global.clone()\n    timer = setTimeout(() => unregisterTapHandler(), ms)\n    touchStarted = true\n  }\n\n  const unregisterTapHandler = () => {\n    touchStarted = false\n    clearTimeout(timer)\n  }\n\n  const tapHandler = e => {\n    if (touchStarted && vector && (vector.sub(e.data.global).length() < 0.001)) {\n      fn()\n    }\n    unregisterTapHandler()\n  }\n\n  element.on(startEvent, registerTapHandler)\n  element.on(endEvent, tapHandler)\n}","const accessor =\n  window.matchMedia &&\n  (window.matchMedia('(prefers-color-scheme: dark)') ||\n  window.matchMedia('(prefers-color-scheme: light)')) &&\n  (window.matchMedia('(prefers-color-scheme: dark)') ||\n  window.matchMedia('(prefers-color-scheme: light)'))\n\nconst currentTheme = () =>\n  accessor.matches\n  ? \"dark\" : \"light\"\n\nconst addThemeEventListener = fn =>\n  //somehow Safari doesn't have .addEventListener, but event still fires\n  accessor && accessor.addEventListener && accessor\n  .addEventListener(\"change\", fn)\n\nconst removeThemeEventListener = fn =>\n  accessor && accessor.removeEventListener && accessor\n  .removeEventListener(\"change\", fn)\n\nexport {\n  currentTheme,\n  addThemeEventListener,\n  removeThemeEventListener,\n}\n","import classes from 'multiple-extend'\nimport SpriteText from 'three-spritetext'\n\n// import UserSprite from 'libs/engines/3d/units/UserSprite'\n\nimport Unit from 'libs/engines/3d/Unit'\nimport listenersClass from 'libs/utils/listenersClass'\nimport isTouchDevice from 'libs/utils/isTouchDevice'\n\nimport HeatGraph from './HeatGraph'\n\nimport tapEvent from 'libs/utils/tapEvent'\n// import { currentTheme, addThemeEventListener } from 'libs/utils/colorTheme'\nimport { currentTheme } from 'libs/utils/colorTheme'\n// import isProduction from 'libs/utils/isProduction'\n\n\nexport default class Graph extends classes(Unit, listenersClass) {\n  constructor(props) {\n    super(props)\n    const { store, scene } = props\n\n    HeatGraph(store, scene)\n\n    this.currentTheme = currentTheme()\n    this.theme = {}\n    this.addTheme(this.currentTheme)\n  }\n\n  addTheme = color => {\n    const { THREE, scene } = this.props\n    const { nodes } = this.props.store.get()\n    var themeGroup = new THREE.Group()\n    var fontColor = color === \"light\" ? 'black' : 'white'\n\n    nodes\n      .slice(0, isTouchDevice() ? 555 : 55555)\n      .forEach(node =>\n        themeGroup.add(this.createNodeSprite(node, fontColor, this.props)))\n    // themeGroup.renderOrder = 1\n    scene.add(themeGroup)\n    this.theme[color] = themeGroup\n    // addThemeEventListener(this.updateTheme)\n  }\n\n  createNodeSprite = (node, color, props) => {\n    let sprite\n    // if (!node.avatar) {\n      // sprite = new UserSprite({\n      //   material: {\n      //     color: color,\n      //     fog: false,\n      //   },\n      //   redrawInterval: false,\n      //   textSize: .25,\n      //   // minFontSize: 32,\n      //   minFontSize: 16,\n      //   // maxFontSize: 64,\n      //   maxFontSize: 16,\n      //   texture: {\n      //     // fontFamily: 'Arial, Helvetica, sans-serif',\n      //     // fontFamily: `'SPb', -apple-system, system-ui, Roboto, \"Open Sans\", \"Helvetica Neue\", sans-serif`,\n      //     fontFamily: `'Arc', -apple-system, system-ui, Roboto, \"Open Sans\", \"Helvetica Neue\", sans-serif`,\n      //     text: (node.name || \"\").replace(' ', '\\n'), //REDO THIS SHIT TEST some nodes has no name?!\n      //   },  \n      // })\n      sprite = new SpriteText(\n        (node.name || \"\").replace(' ', '\\n'), //REDO THIS SHIT TEST some nodes has no name?!\n        .25,\n        color,\n        {\n          color: color,\n          fontFace: `'Arc', -apple-system, system-ui, Roboto, \"Open Sans\", \"Helvetica Neue\", sans-serif`\n        }\n      )\n\n      // sprite.position.set(node.pos.x, node.pos.y, node.pos.z + .5)\n      sprite.position.set(node.pos.x, node.pos.y, node.pos.z)\n      // scene.add(sprite)\n      sprite.cursor = 'pointer'\n      tapEvent(sprite, () => props.setNode(node.id))\n      tapEvent(sprite, () => props.setNode(node.id), 'mousedown', 'mouseup')\n\n      return sprite\n    // } else {\n    //   new THREE.TextureLoader().load( node.avatar, spriteMap => {\n    //     spriteMap.minFilter = THREE.LinearFilter //disable when power of 2 textures\n    //     var spriteMaterial = new THREE.SpriteMaterial( { map: spriteMap, color: 0xffffff } );\n    //     sprite = new THREE.Sprite( spriteMaterial );\n    //     let aspect = Math.max(spriteMap.image.height / spriteMap.image.width, 1)\n    //     let k = Math.log(aspect, 3) ** .1\n    //     sprite.scale.set(k, aspect * k, k)\n\n    //     sprite.position.set(node.pos.x, node.pos.y, node.pos.z + .03)\n    //     scene.add(sprite)\n    //     sprite.cursor = 'pointer'      \n    //     tapEvent(sprite, () => props.setNode(node.id))\n    //     tapEvent(sprite, () => props.setNode(node.id), 'mousedown', 'mouseup')\n    //   } )\n    // }\n  }\n\n\n  updateTheme = () => {\n    const theme = currentTheme()\n\n    if (this.currentTheme !== theme) {\n      if (theme === \"light\") {\n        if (typeof this.theme[\"light\"] === \"undefined\")\n          this.addTheme(\"light\")\n        this.theme[\"light\"].visible = true\n        this.theme[\"dark\"].visible = false\n      } else {\n        if (typeof this.theme[\"dark\"] === \"undefined\")\n          this.addTheme(\"dark\")\n        this.theme[\"light\"].visible = false\n        this.theme[\"dark\"].visible = true\n      }\n      this.currentTheme = theme\n    }\n  }\n\n  animate = () => {\n    this.updateTheme()\n    !this.initialized && this.callInitListeners()\n  }\n  dispose() {}\n}\n","import THREE from 'libs/engines/3d/three'\nimport heatMap from 'img/heat32.png'\nimport isProduction from 'libs/utils/isProduction'\n\n\nconst heatMapOffset = {\n  uOffset: [0, 6 / 32],\n  vOffset: [1 / 4, 1 / 4],\n}\nconst interpolateUOffset = u => u * (1 - heatMapOffset.uOffset[0] - heatMapOffset.uOffset[1]) + heatMapOffset.uOffset[0]\nconst interpolateVOffset = v => v * (1 - heatMapOffset.vOffset[0] - heatMapOffset.vOffset[1]) + heatMapOffset.vOffset[0]\n\nexport default (store, scene) => {\n  var finalMesh\n  // let textureLoader = new THREE.TextureLoader()\n  new THREE.TextureLoader()\n    .load(heatMap, texture => {\n      // texture.magFilter = THREE.NearestFilter;\n      // texture.minFilter = THREE.LinearMipMapLinearFilter;\n      let material = new THREE.MeshBasicMaterial( { map: texture } )\n      // let material = new ShaderMaterial({\n      //   fragmentShader: `\n      //     void main()\t{\n      //       gl_FragColor = vec4(vec3(min(x, y)), 1.);\n      //     }\n      //     `,\n      //   vertexShader: `\n      //     void main()\t{\n      //       gl_Position = vec4( position, 1.0 );\n      //     }\n      //   `,\n      //   uniforms: {\n      //     texture: { type: \"t\", value: texture }\n      //   },      \n      // })\n\n      if (isProduction()) {\n        let bufferGeometry = new THREE.BufferGeometry()\n        bufferGeometry.setAttribute( 'position', new THREE.BufferAttribute( new Float32Array(store.getGeometry().position), 3 ) )\n        bufferGeometry.setAttribute( 'uv', new THREE.BufferAttribute( new Float32Array(store.getGeometry().uv), 2 ) )\n\n        finalMesh = new THREE.Mesh(bufferGeometry, material)\n      } else {\n        store.get().edges\n        .forEach(edge => {\n          const node0 = store.get().nodes.map(node => node.id).indexOf(edge.node0)\n          const node1 = store.get().nodes.map(node => node.id).indexOf(edge.node1)\n          if (node0 === -1) {\n            console.log(edge.node0)\n            console.log(edge)\n          }\n          if (node1 === -1) {\n            console.log(edge.node1)\n            console.log(edge)\n          }\n        })\n\n        let edges = store.get().edges\n          .filter(edge => edge.type === \"KISS\" || edge.type === \"DEBATED\")      \n          .map(edge => ({\n            type: edge.type,\n            node0: store.get().nodes.map(node => node.id).indexOf(edge.node0),\n            node1: store.get().nodes.map(node => node.id).indexOf(edge.node1),\n          }))\n    \n        let nodes = store.get().nodes\n          .map(node => ({\n            vector: new THREE.Vector3(node.pos.x, node.pos.y, node.pos.z),\n            weight: node.connections,\n            uv: node.uv,\n          }))\n\n        let bufferGeometry = new THREE.BufferGeometry()\n          .fromGeometry(cylinderGraphGeometry(nodes, edges, 3))\n\n        finalMesh = new THREE.Mesh(bufferGeometry, material)\n\n        store.setGeometry({\n          position: finalMesh.toJSON().geometries[0].data.attributes.position.array,\n          uv: finalMesh.toJSON().geometries[0].data.attributes.uv.array,\n        })\n      }\n\n      scene.add(finalMesh)\n    })\n  // let material = new THREE.MeshBasicMaterial( { color: 0xfff000 } )\n  // let bufferGeometry = new THREE.BufferGeometry()\n  //   .fromGeometry(cylinderGraphGeometry(nodes, edges, 3))\n  // finalMesh = new THREE.Mesh(bufferGeometry, material)\n\n  // return finalMesh\n}\n\nconst cylinderVertices = (R, length, segments, weight0, weight1, disabled) => {\n  var vertices = [segments * 2 * 3]\n  var uvs = [segments * 2 * 2]\n\n  for (var i = 0; i < segments; i++) {\n    const angle = Math.PI * 2 * i / segments\n    const x = Math.sin(angle) * R\n    const y = length\n    const z = Math.cos(angle) * R\n\n    vertices[i * 6]     = x\n    vertices[i * 6 + 1] = 0\n    vertices[i * 6 + 2] = z\n    vertices[i * 6 + 3] = x\n    vertices[i * 6 + 4] = y\n    vertices[i * 6 + 5] = z\n\n    uvs[i * 4]     = interpolateUOffset(weight0)\n    uvs[i * 4 + 1] = interpolateVOffset(disabled ? 1 : 0)\n    uvs[i * 4 + 2] = interpolateUOffset(weight1)\n    uvs[i * 4 + 3] = interpolateVOffset(disabled ? 1 : 0)\n  }\n\n  return {\n    vertices: new Float32Array(vertices),\n    uvs: new Float32Array(uvs),\n  }\n}\n\nconst cylinderGraphGeometry = (nodes, edges, segments) => {\n  const up = new THREE.Vector3(0, 1, 0)\n  let node0\n  let node1\n  let subVectors = new THREE.Vector3()\n  let normal = new THREE.Vector3()\n  let quaternion = new THREE.Quaternion()\n\n  let indices = [segments * 6]\n  for (let i = 0; i < segments; i++) {\n    indices[i * 6]     = i * 2 \n    indices[i * 6 + 1] = (i * 2 + 2) % (segments * 2)\n    indices[i * 6 + 2] = (i * 2 + 1)\n    indices[i * 6 + 3] = (i * 2 + 1)\n    indices[i * 6 + 4] = (i * 2 + 2) % (segments * 2)\n    indices[i * 6 + 5] = (i * 2 + 3) % (segments * 2)\n  }\n\n  let indicesAttribute = new THREE.BufferAttribute(new Uint8Array(indices), 1)\n\n\n  let cylinderMeshes = edges.map(edge => {\n    node0 = nodes[edge.node0]\n    node1 = nodes[edge.node1]\n\n    if (typeof edge.node0 !== \"number\" || typeof edge.node1 !== \"number\") {\n      console.log(\"edge error\")\n      console.log(edge)\n    }\n\n    subVectors.subVectors(node1.vector, node0.vector)\n    normal.copy(subVectors).normalize()\n    quaternion.setFromUnitVectors(up, normal)\n\n    let cylinderData = cylinderVertices(.05, subVectors.length(), segments, node0.uv, node1.uv, edge.type === \"DEBATED\")\n    let cylinder = new THREE.BufferGeometry()\n    cylinder.setAttribute('position', new THREE.BufferAttribute(cylinderData.vertices, 3))\n    cylinder.setAttribute('uv', new THREE.BufferAttribute(cylinderData.uvs, 2))\n    cylinder.setIndex(indicesAttribute)\n    \n    //have to convert BufferGeometry into Geometry to .merge() meshes\n    let cylinderMesh = new THREE.Mesh(new THREE.Geometry().fromBufferGeometry(cylinder))\n    cylinderMesh.translateX(node0.vector.x)\n    cylinderMesh.translateY(node0.vector.y)\n    cylinderMesh.translateZ(node0.vector.z)\n    cylinderMesh.applyQuaternion(quaternion)\n    \n    return cylinderMesh\n  })\n  \n  let mergedGeometry = new THREE.Geometry()\n  cylinderMeshes.forEach(mesh =>\n    mergedGeometry.mergeMesh(mesh)\n  )\n\n  return mergedGeometry\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAACCAIAAAC2fEmeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMTEtMTRUMTI6NTYrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA0LTI2VDA0OjQxOjEwKzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA0LTI2VDA0OjQxOjEwKzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmFlYTJkNmUxLTE4YjQtNDVhMC1iZTZlLTNmMzNlYzViMThhMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDphZWEyZDZlMS0xOGI0LTQ1YTAtYmU2ZS0zZjMzZWM1YjE4YTEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphZWEyZDZlMS0xOGI0LTQ1YTAtYmU2ZS0zZjMzZWM1YjE4YTEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmFlYTJkNmUxLTE4YjQtNDVhMC1iZTZlLTNmMzNlYzViMThhMSIgc3RFdnQ6d2hlbj0iMjAxOS0xMS0xNFQxMjo1NiswMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+B14d9wAAAGJJREFUCJm1zrENgkAAAMD70rgFQxgZgDAASzjGr2RjR0JDacICBKi00Bi1MhHent6b4EKM0T+FY56GRTc7Jz2frXlHyZ7NYKmlEw2PgiooguzLhZGeyXN0m9yvXm/tYd39AQMeIQMpqBieAAAAAElFTkSuQmCC\"","import THREE from 'libs/engines/3d/three'\n\nimport PhysicalUnit from 'libs/engines/physics/PhysicalUnit'\n\nexport default class GraphCloth extends PhysicalUnit {\n  constructor(props) {\n    super(props)\n\n    this.maxWeight = 0\n    props.nodes.forEach((node, index) => {\n      if (node.connections > this.maxWeight) {\n        this.maxWeight = node.connections\n        this.maxWeightIndex = index\n        this.maxWeightId = node.id\n      }\n    })\n    console.log(this.maxWeight)\n    // this.nodes\n    //   .forEach(node => node.vector.sub(this.nodes[this.maxWeightIndex].vector))\n\n    this.nodes = props.nodes\n    // .filter(node => node.connections > 0) //TODO TOFIX\n      .map(node => ({\n        id: node.id,\n        vector: //node.pos ? \n        // new THREE.Vector3(node.pos.x, node.pos.y, node.pos.z)\n        // :\n        new THREE.Vector3(\n          // node.posRaw.x * 2.15,\n          // node.posRaw.y * 2.15,\n          // Math.random() * (60 - node.connections) / 15\n          node.pos.x - props.nodes[this.maxWeightIndex].pos.x,\n          node.pos.y - props.nodes[this.maxWeightIndex].pos.y,\n          node.pos.z - props.nodes[this.maxWeightIndex].pos.z\n        ),\n        weight: node.connections > 0 ? node.connections : .5, //TODO\n        staticPos: node.staticPos,\n      }))\n    \n\n    this.edges = props.edges\n    this.forces = Array\n      .from(Array(this.nodes.length))\n      .map(() => new THREE.Vector3())\n    this.velocities = Array\n      .from(Array(this.nodes.length))\n      .map(() => new THREE.Vector3())\n  }\n\n  recalculate = deltaTime => {\n    let { nodes, edges, forces, velocities } = this\n\n    //FORCE RECALCULATE\n    forces.forEach(force => force.multiplyScalar(0))\n\n    //VELOCITY ATTENUATION\n    velocities.forEach(velocity => velocity.multiplyScalar(.25 + velocityAttenuation ** velocity.lengthSq()))\n\n    //INTERMOLECULAR FORCES\n    nodes\n      .slice(0, -1)\n      .forEach((node0, index0) => {\n        nodes.slice(index0)\n          .forEach((node1, index1) => {\n            //\n            if (\n              (node0.weight === 1 && node1.weight !== 1) ||\n              (node1.weight === 1 && node0.weight !== 1)\n            )\n              return\n            let force = intermolecularForce(node0, node1)\n            forces[index0]\n            .sub(force)\n            .clampLength(0, maxVectorLength)\n            forces[index0 + index1]\n            .add(force)\n            .clampLength(0, maxVectorLength)\n          })\n      })\n\n    //EDGE RESISTANCE FORCES\n    edges.forEach(edge => {\n      const node0 = nodes[edge.node0]\n      const node1 = nodes[edge.node1]\n      const force = edgeResistanceForce(node0, node1)\n      \n      forces[edge.node0]\n      .add(force)\n      .clampLength(0, maxVectorLength)\n      forces[edge.node1]\n      .sub(force)\n      .clampLength(0, maxVectorLength)\n    })\n\n    //RETURN INTO TESTING SPHERE FORCE\n    nodes.forEach((node, index) => {\n      const distanceFromCenter = node.vector.length()\n      const overflow = distanceFromCenter - overflowForceDistanceFromCenter\n      if (overflow > 0) {\n        const force = node.vector\n        .clone().normalize()\n        .multiplyScalar(-overflow / overflowForceDistanceFromCenter * overflowForceK)\n        forces[index]\n        .add(force)\n        .clampLength(0, maxVectorLength)\n      }\n    })\n    //RETURN TO CENTER FORCE\n    nodes.forEach((node, index) => {\n      const distanceFromCenter = node.vector.lengthSq()\n      const force = node.vector\n      .clone().normalize()\n      .multiplyScalar(distanceFromCenter * (node.weight ** .5) * returnToCenterForceK)\n      forces[index]\n      .sub(force)\n      .clampLength(0, maxVectorLength)\n    })\n    //CLAMP FORCES\n    nodes.forEach((node, index) => {\n      const distanceFromCenter = node.vector.length()\n      if (distanceFromCenter > clampDistanceFromCenter) {\n        const normal = node.vector.clone().normalize()\n        const forceOverflow = forces[index].clone().dot(normal)\n        if (forceOverflow > 0)  \n          forces[index].sub(normal.clone().multiplyScalar(forceOverflow))\n      }\n    })\n    //UP FORCE FOR Nihilisst_R4VE cover3\n    // nodes.forEach((node, index) => {\n    //   const force = new THREE.Vector3(0, (node.vector.y < 0 ? 3 : 1) / ((node.vector.y ** 1.55) + .05) * 555, 0)\n    //   forces[index]\n    //   .add(force)\n    //   .clampLength(0, maxVectorLength)\n    // })\n    \n    //RECALCULATE VELOCITIES\n    velocities.forEach((velocity, index) => {\n      let force = forces[index]\n      const node = nodes[index]\n      //force here gets mutated, but I don't care, I won't use it again\n      velocity\n      .add(force.multiplyScalar(deltaTime / node.weight))\n      .clampLength(0, maxVectorLength)\n    })\n\n    //RECALCULATE POSITIONS\n    nodes.forEach((node, index) => {\n      if (node.weight === this.maxWeight)\n        return\n      const velocity = velocities[index]\n      if (!node.staticPos)\n        node.vector\n        .add(velocity.clone().multiplyScalar(deltaTime))\n      // .clampLength(0, clampDistanceFromCenter)\n    })\n  }\n\n  getRecalculatedPos = () => this.nodes\n    .map(node => ({\n      id: node.id,\n      pos: node.vector.toArray(),\n    }))\n}\n\n\nconst velocityAttenuation = .975\n\nconst overflowForceK = 10\nconst overflowForceDistanceFromCenter = 45\nconst clampDistanceFromCenter = 60\nconst returnToCenterForceK = 0\n\nconst maxVectorLength = 50000\n\nconst edgeLengthK = .5\nconst edgeLength = (weight0, weight1) => {\n  const localWeight0 = weight0 + 2\n  const localWeight1 = weight1 + 2\n  return ((localWeight0 * localWeight1) ** .5) * edgeLengthK\n}\n\nconst intermolecularForceK = 25\nconst intermolecularForce = (node0, node1) => {\n  let distance = node0.vector.clone().sub(node1.vector)\n  const weightInfluence = (node0.weight * node1.weight) ** 1\n  let K = -1 * intermolecularForceK * weightInfluence / distance.lengthSq()\n  if (!isFinite(K))\n    K = -10000\n  return distance\n  .normalize()\n  .multiplyScalar(K)\n  .clampLength(0, maxVectorLength)\n}\n\nconst edgeResistanceK = 4200\nconst edgeResistanceForce = (node0, node1) => {\n  let subVector = node0.vector.clone().sub(node1.vector)\n  const currentLength = subVector.length()\n  const idealLength = edgeLength(node0.weight, node1.weight)\n  const deformation = (idealLength - currentLength) / idealLength\n\n  return subVector\n  .normalize()\n  .multiplyScalar(deformation * edgeResistanceK)\n  .clampLength(0, maxVectorLength)\n}","export default class PhysicalUnit {\n  constructor(props) {\n    this.props = props\n  }\n  \n  recalculate = deltaTime => {}\n\n  dispose() {}\n}","import _ from 'lodash'\n\nconst filterKeys = (item, model) => \n  _.pickBy(item, (value, key) => Object.keys(model).includes(key))\n\nconst flatten = (obj, parentName = \"\") =>\n  Object.keys(obj).length > 0 ?\n    Object.keys(obj).map(key => {\n      if (typeof obj[key] !== \"object\")\n        return ({[parentName + key]: obj[key]})\n      else\n        return flatten(obj[key], parentName + key + \".\")\n    })\n    .reduce((a, b) => ({...a, ...b}))\n    :\n    {}\n\nconst deflatten = obj => {\n  const firstLevelProps = _.pickBy(obj, (value, key) => !key.includes(\".\"))\n  const secondLevelProps = _.pickBy(obj, (value, key) => key.includes(\".\"))\n  let newObj = firstLevelProps\n\n  Object.keys(secondLevelProps).forEach(key => {\n    const parentName = key.split(\".\")[0]\n    const properyName = key.slice(parentName.length + 1)\n\n    if (typeof newObj[parentName] === \"undefined\")\n      newObj[parentName] = {}\n    \n    newObj[parentName] = {\n      ...newObj[parentName],\n      [properyName]: obj[key],\n    }\n  })\n\n  return Object.keys(newObj).length > 0 ?\n    Object.keys(newObj)\n      .map(key => typeof newObj[key] === \"object\" ?\n        {[key]: deflatten(newObj[key])}\n        :\n        {[key]: newObj[key]}\n      )\n      .reduce((a, b) => ({...a, ...b}))\n    :\n    {}\n}\n\nconst undefinedToEmptyString = obj =>\n  Object.keys(obj)\n    .map(key => ({[key]: typeof obj[key] === \"undefined\" ? \"\" : obj[key]}))\n    .reduce((a, b) => ({...a, ...b}))\n\nconst emptyStringToUndefined = obj =>\n  Object.keys(obj)\n    .map(key => ({[key]: obj[key] === \"\" ? undefined : obj[key]}))\n    .reduce((a, b) => ({...a, ...b}))\nconst emptyDataToUndefined = obj =>\n  Object.keys(obj)\n    .map(key => ({\n      [key]: (Object.entries(obj).length === 0 && obj.constructor === Object) ||\n             (Array.isArray(obj[key]) && obj[key].length === 0) ?\n        undefined : obj[key]\n    }))\n    .reduce((a, b) => ({...a, ...b}))\n\n\nexport {\n  filterKeys,\n  flatten,\n  deflatten,\n  undefinedToEmptyString,\n  emptyStringToUndefined,\n  emptyDataToUndefined,\n}","import _ from 'lodash'\n\nimport {\n  deflatten,\n  filterKeys,\n  undefinedToEmptyString,\n  emptyStringToUndefined,\n  emptyDataToUndefined,\n} from 'libs/utils/objectUtils'\nimport isProduction from 'libs/utils/isProduction'\n\n\nconst flattenModel = (model, parentName = \"\") => \n  Object.keys(model).length > 0 ?\n    Object.keys(model).map(key => {\n      if (model[key].hasOwnProperty(\"type\")) {\n        switch (model[key].type) {\n          case \"point3d\":\n            return flattenModel({\n              x: {type: \"number\"},\n              y: {type: \"number\"},\n              z: {type: \"number\"},\n            }, parentName + key + \".\")\n          case \"object\":\n            return flattenModel(model[key].fields, parentName + key + \".\")\n          default:\n            return ({[parentName + key]: model[key]})\n        }          \n      } else\n        return flattenModel(model[key], parentName + key + \".\")\n    })\n    .reduce((a, b) => ({...a, ...b}))\n    :\n    {}\n\nconst editableFields = model =>\n  _.pickBy(model, (value, key) =>\n    !model[key].local &&\n    !model[key].type.match(/\\b(id|ref|array)\\b/g)\n  )\n\nconst flattenEditableModel = model =>\n  editableFields(flattenModel(model))\n\n//CREATE NEW INSTANCE\nconst newInstance = model =>\n  Object.keys(model)\n    .map(key => ({\n      [key]: newInstanceType(model, key)\n    }))\n    .reduce((a, b) => ({...a, ...b}))\n\n  const newInstanceType = (model, key) => {\n    if (model[key].default)\n      return model[key].default\n\n    switch (model[key].type) {\n      case \"number\":\n        return undefined\n      case \"string\":\n        return undefined\n      case \"boolean\":\n        return undefined\n      case \"object\":\n        if (model[key].fields)\n          return newInstance(model[key].fields)\n        return {}\n      case \"array\":\n        return []\n      case \"date\":\n        return undefined\n      case \"point3d\":\n        return {\n          x: 0,\n          y: 0,\n          z: 0,\n        }\n      default:\n        return undefined\n    }\n  }\n\nconst flattenNewInstance = model =>\n  undefinedToEmptyString(newInstance(flattenModel(model)))\n\nconst flattenEditableNewInstance = model =>\n  undefinedToEmptyString(newInstance(editableFields(flattenModel(model))))\n\nconst deflattenDataByModel = (data, model) => \n  emptyDataToUndefined(\n    deflatten(\n      emptyStringToUndefined(\n        filterKeys(data, flattenModel(model)))))\n\n//ENCODE FOR DB\nconst encode = (model, instance) =>\n  Object.keys(model)\n    .map(key => ({\n      [key]: encodeType(model, instance, key)\n    }))\n    // .reduce((a, b) => ({...a, ...b}))\n    .reduce((a, b) => _.pickBy({...a, ...b}, _.identity))\n\n  const encodeType = (model, instance, key) => {\n    if (model[key].local)\n      return undefined\n\n    const value = instance[key]\n\n    switch (model[key].type) {\n      case \"point3d\":\n        return `point({x:${value.x}, y:${value.y}, z:${value.z}})`\n      case \"object\":\n        return value && JSON.stringify(value)\n      case \"array\":\n        return value && JSON.stringify(value)\n      case \"id\":\n        return undefined\n      case \"ref\":\n        return undefined\n      case \"number\":\n        let parsed = value\n\n        if (typeof value === \"string\")\n          parsed = value.includes(\".\") ? parseFloat(value) : parseInt(value)\n\n        if (isNaN(parsed))\n          return model[key].canBeString ? value : undefined\n        return parsed\n      case \"select\":\n        if (typeof value === \"undefined\" && typeof model[key].default !== \"undefined\")\n          return model[key].default\n        if (model[key].options?.includes(value))\n          return value\n        return undefined\n      default:\n        return value\n    }\n  }\n  \nconst encodeMany = (model, instances) =>\n  encodeJSONstring(\n    instances.map(instance => encode(model, instance))\n  )\n\nconst encodeJSONstring = obj =>\n  isProduction() ?\n    JSON.stringify(obj)\n    :\n    JSON.stringify(obj)\n      .replace(/\"point/g, \"point\")\n      .replace(/}\\)\"/g, \"})\")\n      .replace(/(?<!\\\\)\\\"([^(\\\")\"]+)(?<!\\\\)\\\":/g,\"$1:\")\n      // REDO THIS SHIT PARSE\n\n//DECODE FROM DB\nconst decode = (model, instance) =>\n  Object.keys(model)\n    .map(key => ({\n      [key]: decodeType(model, instance, key)\n    }))\n    // .reduce((a, b) => ({...a, ...b}))\n    .reduce((a, b) =>\n      _.pickBy({...a, ...b},\n        (value, key) =>\n          typeof value !== \"undefined\" && value !== null))\n\n  const decodeType = (model, instance, key) => {\n    const value = instance.row[0][key]\n\n    switch (model[key].type) {\n      case \"point3d\":\n        const pos = value.coordinates\n        return {\n          x: pos[0],\n          y: pos[1],\n          z: pos[2],\n        }\n      case \"object\":\n        return value && JSON.parse(value)\n      case \"array\":\n        return value && JSON.parse(value)\n      case \"social\":\n        return value && JSON.parse(value)\n      default:\n        return value\n    }\n  }\n\nconst decodeMany = (model, instances) => \n  instances?.data?.results[0]?.data.map(instance => decode(model, instance))\n\n\nconst isPerson = obj => obj.hasOwnProperty(\"pos\") //REDO THIS SHIT: for labels other than Person / Concept\n\n\nexport {\n  flattenModel,\n  editableFields,\n  flattenEditableModel,\n  newInstance,\n  flattenNewInstance,\n  flattenEditableNewInstance,\n  deflattenDataByModel,\n\n  encode,\n  encodeMany,\n  encodeJSONstring,\n  decode,\n  decodeMany,\n\n  isPerson,\n}","export default {\n  id: {type: \"id\"},\n  type: {type: \"select\", options: [\n    \"KISS\",\n    \"SEX\",\n    \"MARRIED\",\n    \"DEBATED\",\n    \"DATE\",\n    \"BREAKUP\",\n    // \"FRIENDSHIP\",\n    // \"CHIVALRY\",\n    // \"STATE\", //for connections with non-Persons (Labels)\n  ], default: \"KISS\"},\n  node0: {type: \"ref\"},\n  node1: {type: \"ref\"},\n  commited: {type: \"date\"},\n  told: {type: \"date\"},\n  published: {type: \"date\"},\n  hidden: {type: \"boolean\"},\n}","export default {\n  id: {type: \"id\"},\n  // type: {type: \"select\", options: [ //weeeeell it is partly supported by Cypher syntax\n  //   \"Person\",\n  //   \"Label\"\n  // ], default: \"Person\"},\n\n  name: {type: \"string\"},\n  userName: {type: \"string\"}, //used as link if defined\n  link: {type: \"string\", local: true},\n  emoji: {type: \"string\"},\n  hashtag: {type: \"string\"},\n  hashtag2: {type: \"string\"},\n  specialSite: {type: \"string\"},\n  specialSiteName: {type: \"string\"},\n  specialSiteEmoji: {type: \"string\"},\n\n  connections: {type: \"number\", local: true},\n  hiddenConnections: {type: \"number\"},\n  mates: {type: \"ref\"},\n\n  aka: {type: \"array\"},\n}","const socialLinks = {\n  tg: {\n    label: \"tg\",\n    link: \"t.me\",\n  },\n  vk: {\n    label: \"vk\",\n    link: \"vk.com\",\n  },\n  vk2: {\n    label: \"vk\",\n    link: \"vk.com\",\n  },\n  inst: {\n    label: \"inst\",\n    link: \"instagram.com\",\n  },\n  inst2: {\n    label: \"inst\",\n    link: \"instagram.com\",\n  },\n  yt: {\n    label: \"yt\",\n    link: \"www.youtube.com\",\n  },\n  yt2: {\n    label: \"yt\",\n    link: \"www.youtube.com\",\n  },\n  clubhouse: {\n    label: \"clubhouse\",\n    link: \"www.joinclubhouse.com\",\n    noLink: userName => `clubhouse: @${userName}`,\n  },\n  twit: {\n    label: \"twit\",\n    link: \"twitter.com\",\n  },\n  twit2: {\n    label: \"twit\",\n    link: \"twitter.com\",\n  },\n  fb: {\n    label: \"fb\",\n    link: \"www.facebook.com\",\n  },\n  fb2: {\n    label: \"fb\",\n    link: \"www.facebook.com\",\n  },\n  steam: {\n    label: \"steam\",\n    link: \"steamcommunity.com\",\n  },\n  behance: {\n    label: \"behance\",\n    link: \"behance.net\",\n  },\n  dribbble: {\n    label: \"dribbble\",\n    link: \"dribbble.com\",\n  },\n  discord: {\n    label: \"discord\",\n    link: \"discordapp.com\",\n    // disabled: true\n    noLink: userName => `discord: @${userName}`\n  },\n  soundcloud: {\n    label: \"soundcloud\",\n    link: \"soundcloud.com\"\n  },\n  twitch: {\n    label: \"twitch\",\n    link: \"twitch.tv\"\n  },\n  ticktok: {\n    label: \"tiktok\",\n    link: \"tiktok.com\"\n  }, //REDO THIS SHIT: It's tiktok\n  tiktok2: {\n    label: \"tiktok\",\n    link: \"tiktok.com\"\n  },\n  tiktok3: {\n    label: \"tiktok\",\n    link: \"tiktok.com\"\n  },\n  skype: {\n    label: \"skype\",\n    link: \"skype.com\",\n    disabled: true\n  },\n  linkedin: {\n    label: \"linkedin\",\n    link: \"linkedin.com/in\"\n  },\n  phone: {\n    label: \"phone\",\n    link: \"\",\n    disabled: true\n  },\n  github: {\n    label: 'gh',\n    link: 'github.com',\n  },\n  spotify: {\n    label: 'spotify',\n    link: 'open.spotify.com/user',\n  },\n}\n\nconst parseLinks = social => social &&\n  Object.keys(social)\n    .filter(key => !socialLinks[key].disabled)\n    .map(key => socialLinks[key] && ({\n      url: (socialLinks[key].link + (key !== \"ticktok\" && !key.includes(\"ticktok\") ? \"/\" : \"/@\") + social[key]),\n      userName: social[key],\n      label: socialLinks[key].label,\n      noLink: socialLinks[key].noLink?.(social[key]),\n    }))\n      \n\nexport {\n  socialLinks,\n  parseLinks,\n}","import node from './node'\nimport { socialLinks } from 'libs/utils/social'\n\n\nexport default {\n  ...node,\n  uv: {type: \"number\", local: true},\n  social: {\n    type: \"object\",\n    fields: Object.keys(socialLinks)\n      .map(key => ({[key]: {type: \"string\"}}))\n      .reduce((a, b) => ({...a, ...b}))\n  },\n\n  staticPos: {type: \"boolean\"},\n  pos: {type: \"point3d\"},\n  iq: {type: \"number\", canBeString: true},\n  iq2: {type: \"number\", canBeString: true},\n  eq: {type: \"number\"},\n  mentalDisorder: {type: \"string\"},\n  gender: {type: \"select\", options: [\n    \"m\",\n    \"f\"\n  ], canBeUndefined: true},\n  dead: {type: \"boolean\"},\n  offended: {type: \"boolean\"},\n  height: {type: \"number\"},\n  weight: {type: \"number\"},\n  fWHR: {type: \"number\"},\n  SHR: {\n    type: \"object\",\n    fields: {\n      shoulder: {type: \"number\"},\n      hip: {type: \"number\"},\n    }\n  },\n  political: {\n    type: \"object\",\n    fields: {\n      LR: {type: \"number\"},\n      LA: {type: \"number\"},\n    }\n  },\n  school: {type: \"string\"},\n}\n","import node from './node'\n\nexport default {\n  ...node\n}","import axios from 'axios'\n\nimport {\n  encode,\n  encodeMany,\n  encodeJSONstring,\n  decode,\n  decodeMany\n} from 'libs/engines/data/store/models'\n\nimport edgeModel from 'libs/engines/data/store/models/edge'\nimport personModel from 'libs/engines/data/store/models/person'\nimport conceptModel from 'libs/engines/data/store/models/concept'\n\n\nconst post = async statements =>\n  axios\n    .post(\"http://localhost:7474/db/data/transaction/commit\",\n      {statements: statements},\n      {auth: {\n        username: \"neo4j\",\n        password: \"dermo123\"\n      }}\n    )\n\nconst getNodes = async () => {\n  const connectedNodes = await post([{\n    // iq: coalesce((node.iq2 + toInteger(node.iq)) / 2, node.iq)\n    //REDO THIS SHIT\n    statement: `\n      MATCH (node:Person)-[edge]-(mate:Person)\n      WITH node AS node, edge AS edge, mate AS mate\n      MATCH (mate)-[mateKiss {type: \"KISS\"}]-(mateConnections:Person)\n      WITH node AS node, edge AS edge, mate AS mate, mateConnections AS mateConnections\n\n      WITH {\n        date: edge.commited,\n        edgeId: id(edge),\n        type: edge.type,\n        id: id(mate),\n        connections: count(mateConnections) + COALESCE(mate.hiddenConnections, 0),\n        userName: mate.userName,\n        name: mate.name,\n        iq: mate.iq,\n        mentalDisorder: mate.mentalDisorder,\n        emoji: mate.emoji,\n        gender: mate.gender\n      } as mates, node as node\n\n      WITH node {\n        .*,\n        id: id(node),\n        connections: count(mates) + COALESCE(node.hiddenConnections, 0),\n        mates: collect(mates)\n      } AS node\n      RETURN node\n    `\n  }])\n  const singleNodes = await post([{\n    statement: `\n      MATCH (node:Person)\n      WHERE NOT (node)-[{type: \"KISS\"}]-(:Person)\n      WITH node {\n        .*,\n        id: id(node),\n        connections: COALESCE(node.hiddenConnections, 0),\n        mates: []\n      } AS node\n      RETURN node\n    `\n  }])\n\n  return [\n    ...decodeMany(personModel, connectedNodes),\n    ...decodeMany(personModel, singleNodes),\n  ]\n}\nconst getNode = async id => {\n  const connectedNodes = await post([{\n    statement: `\n      MATCH (node:Person)\n      WHERE ID(node) = ${id}\n      MATCH (node:Person)-[edge]-(mate:Person)\n      WITH node AS node, edge AS edge, mate AS mate\n      MATCH (mate)-[mateKiss {type: \"KISS\"}]-(mateConnections:Person)\n      WITH node AS node, edge AS edge, mate AS mate, mateConnections AS mateConnections\n\n      WITH {\n        date: edge.commited,\n        edgeId: id(edge),\n        type: edge.type,\n        id: id(mate),\n        connections: count(mateConnections) + COALESCE(mate.hiddenConnections, 0),\n        userName: mate.userName,\n        name: mate.name,\n        iq: mate.iq,\n        mentalDisorder: mate.mentalDisorder,\n        emoji: mate.emoji,\n        gender: mate.gender\n      } as mates, node as node\n      WITH node {\n        .*,\n        id: id(node),\n        connections: count(mates) + COALESCE(node.hiddenConnections, 0),\n        mates: collect(mates)\n      } AS node\n      RETURN node\n    `\n  }])\n  const singleNodes = await post([{\n    statement: `\n      MATCH (node:Person)\n      WHERE ID(node) = ${id} AND NOT (node)-[{type: \"KISS\"}]-()\n      WITH node {\n        .*,\n        id: id(node),\n        connections: COALESCE(node.hiddenConnections, 0),\n        mates: []\n      } AS node\n      RETURN node\n    `\n  }])\n  const decodedConnecttedNodes = decodeMany(personModel, connectedNodes)\n  const decodedSingleNodes = decodeMany(personModel, singleNodes)\n\n  const foundArray = [\n    ...(Array.isArray(decodedConnecttedNodes) ? decodedConnecttedNodes : []),\n    ...(Array.isArray(decodedSingleNodes) ? decodedSingleNodes : []),\n  ]\n\n  return foundArray[0]\n}\n\nconst getEdges = async () =>\n  decodeMany(\n    edgeModel, \n    await post([{\n      statement: `\n        MATCH (node0:Person)-[edge:KISS]->(node1:Person)\n        WITH edge {\n          .*,\n          id: id(edge),\n          node0: id(node0),\n          node1: id(node1)\n        } AS edge\n        RETURN edge\n      `\n    }])\n  )\n\nconst createNode = async node => {\n  const resNode = await post([{\n    statement: `\n      CREATE (node:Person ${encodeJSONstring(encode(personModel, node))})\n      WITH node {\n        .*,\n        id: id(node),\n        connections: COALESCE(node.hiddenConnections, 0),\n        mates: []\n      } AS node\n      RETURN node\n    `\n  }])\n\n  return decodeMany(personModel, resNode)[0]\n}\nconst createEdge = async edge => {\n  const resEdge = await post([{\n    statement: `\n      MATCH (node0)\n      WHERE ID(node0) = ${edge.node0}\n      MATCH (node1)\n      WHERE ID(node1) = ${edge.node1}\n      CREATE (node0)-[edge:KISS ${encodeJSONstring(encode(edgeModel, edge))}]->(node1)\n      WITH edge {\n        .*,\n        id: id(edge),\n        node0: id(node0),\n        node1: id(node1)\n      } AS edge\n      RETURN edge\n  `\n  }])\n\n  return decodeMany(edgeModel, resEdge)[0]\n}\n\nconst setNode = async node => {\n  const nodeId = await post([{\n    statement: `\n      MATCH (node:Person)\n      WHERE ID(node) = ${node.id}\n      SET node = {}\n      SET node = ${encodeJSONstring(encode(personModel, node))}\n      RETURN {id: ID(node)}\n    `\n  }])\n\n  return await getNode(nodeId.data.results[0].data[0].row[0].id)\n}\nconst updateNodes = async nodes => {\n  const nodess = nodes\n    .filter(node => node.id !== \"undefined\" && typeof node.id !== \"undefined\")\n    .map(node =>\n      ({\n        statement: `\n          MATCH (node:Person)\n          WHERE ID(node) = ${node.id}\n          SET node = {}\n          SET node = ${encodeJSONstring(encode(personModel, node))}\n          RETURN {id: ID(node)}\n        `\n      })\n    )\n\n  const res = await post(nodess)\n  return res\n}\n\nconst updateEdges = async edges => {\n  const edgess = edges\n    .filter(edge => edge.id !== \"undefined\" && typeof edge.id !== \"undefined\")\n    .map(edge =>\n      ({\n        statement: `\n          MATCH ()-[edge]-()\n          WHERE ID(edge) = ${edge.id}\n          SET edge = {}\n          SET edge = ${encodeJSONstring(encode(edgeModel, edge))}\n          RETURN {id: ID(edge)}\n        `\n      })\n    )\n\n  const res = await post(edgess)\n  return res\n}\n\nconst setEdge = async edge => {\n  const resEdge = await post([{\n    statement: `\n      MATCH ()-[edge:KISS]-()\n      WHERE ID(edge) = ${edge.id}\n      SET edge = ${encodeJSONstring(encode(edgeModel, edge))}\n      RETURN {id: ID(edge)}\n  `\n  }])\n\n  return decodeMany(edgeModel, resEdge)\n}\n\nconst deleteNode = async node =>\n  await post([{\n    statement: `\n      MATCH (node:Person)\n      WHERE ID(node) = ${node.id}\n      DETACH DELETE node\n    `\n  }])\nconst deleteEdge = async edge =>\n  await post([{\n    statement: `\n      MATCH ()-[edge:KISS]-()\n      WHERE ID(edge) = ${edge.id}\n      DELETE edge\n    `\n  }])\n\n\nexport {\n  getNodes,\n  getEdges,\n  createNode,\n  createEdge,\n  setNode,\n  updateNodes,\n  updateEdges,\n  setEdge,\n  deleteNode,\n  deleteEdge,\n}","import Unit from 'libs/engines/3d/Unit'\nimport GraphCloth from './GraphCloth'\n// import copyToClipboard from 'libs/utils/copyToClipboard'\nimport { updateNodes, updateEdges } from 'libs/engines/data/store/Neo4j'\n\n\nconst msPerFrame = 450\n\n\nexport default class GraphPosCalculator extends Unit {\n  constructor(props) {\n    super(props)\n    const { THREE, scene } = props\n    const { nodes, edges } = this.props.store.get()\n\n    this.edges = edges\n      .filter(edge => edge.type === \"KISS\" || edge.type === \"DEBATED\")\n      .map(edge => ({\n        node0: nodes.map(node => node.id).indexOf(edge.node0),\n        node1: nodes.map(node => node.id).indexOf(edge.node1),\n      }))\n\n    this.GraphCloth = new GraphCloth({\n      nodes: nodes,\n      edges: this.edges,\n    })\n\n    this.geometry = new THREE.BufferGeometry();\n\n    const positions = this.GraphCloth.getRecalculatedPos()\n    // console.log(positions)\n    const vertices = new Float32Array(\n      this.edges\n        .map(edge => [\n          ...positions[edge.node0].pos,\n          ...positions[edge.node1].pos,\n        ])\n        .reduce((a, b) => [...a, ...b])\n    )\n    this.verticesBuffer = new THREE.BufferAttribute(vertices, 3)\n    this.verticesBuffer.dynamic = true\n\n    this.geometry.setAttribute('position', this.verticesBuffer)\n\n    //START CALC\n    this.deltaTime = .005\n    this.frameNumber = 0\n    this.interval = this.generateInterval()\n    var material = new THREE.MeshBasicMaterial( { color: 0x0000ff } );\n    this.line = new THREE.LineSegments( this.geometry, material );\n    scene.add( this.line )\n  }\n\n  generateInterval = () =>\n    setInterval(() => {\n      this.frameNumber++\n\n      this.GraphCloth.recalculate(this.deltaTime)\n      const positions = this.GraphCloth.getRecalculatedPos()\n      const vertices = new Float32Array(\n        this.edges\n          .map(edge => [\n            ...positions[edge.node0].pos,\n            ...positions[edge.node1].pos,\n          ])\n          .reduce((a, b) => [...a, ...b])\n      )\n      this.verticesBuffer.array = vertices\n      this.verticesBuffer.needsUpdate = true\n\n      // if (this.frameNumber === 3000)\n      //   this.props.sendData(\n      //     JSON.stringify(positions.map(pos => ({\n      //       x: pos[0],\n      //       y: pos[1],\n      //       z: pos[2],\n      //     })))\n      //   )\n      \n      // if (this.frameNumber % 100 === 0)\n      //   console.log(this.frameNumber)\n\n\n    }, msPerFrame)\n\n  pause() {\n    if (!this.interval)\n      this.interval = this.generateInterval()\n    else {\n      clearInterval(this.interval)\n      this.interval = null\n    }\n  }\n\n  async save() {\n    const positions = this.GraphCloth.getRecalculatedPos()\n    const nodes = positions.map(pos => ({\n      ...this.props.store.get({id: pos.id}),\n      pos: {\n        x: pos.pos[0],\n        y: pos.pos[1],\n        z: pos.pos[2],\n      }    \n    }))\n\n    const res = await updateNodes(nodes)\n    // const res = await updateEdges(this.props.store.get().edges.map(edge => ({...edge, type: \"KISS\"})))\n\n    console.log(\"updated positions\")\n    console.log(res)\n    // console.log(nodes)\n    // console.log(\"nodes updated\")\n    // const edges = this.props.store.get().edges\n    // copyToClipboard(JSON.stringify({\n    //   nodes: nodes,\n    //   edges: edges,\n    // }))\n    // for (const pos of positions) {\n    //   const node = {\n    //     ...this.props.store.get({id: pos.id}),\n    //     pos: {\n    //       x: pos.pos[0],\n    //       y: pos.pos[1],\n    //       z: pos.pos[2],\n    //     }\n    //   }\n    //   await this.props.store.push(node)\n    // }\n  }\n\n  animate() {\n  }\n  dispose() {}\n}","import Graph from 'libs/engines/3d/units/Graph'\nimport GraphPosCalculator from 'libs/engines/3d/units/GraphPosCalculator'\n// import Skybox from 'libs/engines/3d/units/Skybox'\n\nexport default {\n  units: {\n    // Skybox,\n    heatGraph: {\n      unit: Graph,\n      disabled: false,\n    },\n    graphCalc: {\n      unit: GraphPosCalculator,\n      disabled: true,\n    },\n  }\n}","import React from 'react'\n\nexport default (props) => (\n  <a\n    className={props.className}\n    href={props.to}\n    target={props.newTab ? \"_blank\" : \"\"}\n    rel=\"noopener noreferrer\"\n  >\n    {props.children}\n  </a>\n)","export default class myDate {\n  constructor(string, lang) {\n    switch(typeof string) {\n      case \"undefined\":\n        this.dateJS = new Date();\n        break;\n      case \"string\":\n        if (string === \"RU\") {\n          this.lang = \"RU\"\n          this.dateJS = new Date()\n          return\n        }\n        if (string === \"ENG\") {\n          this.lang = \"ENG\"\n          this.dateJS = new Date()\n          return\n        }\n          \n        if (string.length === 0) {\n          this.dateJS = new Date();\n          break;\n        }\n        if (!string.includes('.') && !string.includes('/') && !string.includes('-')) {\n          this.dateJS = new Date(parseInt(string));\n          break;\n        }\n\n        let newString;\n\n        if (string[2] === '.' || string[2] === '/' || string[2] === '-')\n          newString = string.substring(3, 5) + '/' + string.substring(0, 2) + '/' + string.substring(6, 10);\n        else if (string[2] === ':' && (string[8] === '.' || string[8] === '/' || string[8] === '-'))\n          newString = string.substring(0, 6) + string.substring(9, 11) + '/' + string.substring(6, 8) + '/' + string.substring(12, 16);\n        else\n          newString = string;\n        this.dateJS = new Date(Date.parse(newString));\n        break;\n      case \"number\":\n        this.dateJS = new Date(string * 1000);\n        break;\n      case \"object\":\n        this.dateJS = new Date(string.dateJS || string);\n        this.lang = string.lang || \"EN\"\n        break;\n      default:\n        // alert('unexpected typeof date: ' + typeof string);\n        this.dateJS = new Date();\n        break;\n    }\n\n    if (string && typeof string.lang === \"undefined\")\n      switch (lang) {\n        case \"RU\":\n          this.lang = lang;\n          break;\n        default:\n          this.lang = \"ENG\";\n          break;\n      }\n  }\n  setDate(date) {\n    this.dateJS = new myDate(date);\n  }\n  getTime() {\n    return this.dateJS.getTime();\n  }\n\n  comp(date) {\n    var newDate = new myDate(date);\n    return newDate.getTime() - this.dateJS.getTime();\n  }\n  less(date) {\n    var newDate = new myDate(date);\n    return this.dateJS.getTime() < newDate.getTime();\n  }\n  eq(date) {\n    var newDate = new Date(date);\n    return this.dateJS.getDate() < newDate.getDate() && this.dateJS.getMonth() < newDate.getMonth() && this.dateJS.getFullYear() < newDate.getFullYear();\n  }\n  sameDay(date) {\n    var newDate = new myDate(date);\n    return this.day() === newDate.day() && this.month() === newDate.month() && this.year() === newDate.year();\n  }\n\n  addDay(offset) {\n    var modifiedDate = new myDate(this.dateJS, this.lang)\n    modifiedDate.dateJS.setDate(this.dateJS.getDate() + offset)\n    return modifiedDate\n  }\n  addMonth(offset) {\n    var modifiedDate = new myDate(this.dateJS, this.lang)\n    modifiedDate.dateJS.setMonth(this.dateJS.getMonth() + offset)\n    return modifiedDate\n  }\n  addYear(offset) {\n    var modifiedDate = new myDate(this.dateJS, this.lang)\n    modifiedDate.dateJS.setFullYear(this.dateJS.getFullYear() + offset)\n    return modifiedDate\n  }\n  addMinute(offset) {\n    var modifiedDate = new myDate(this.dateJS, this.lang)\n    modifiedDate.dateJS.setMinutes(this.dateJS.getMinutes() + offset)\n    return modifiedDate\n  }\n  addHour(offset) {\n    var modifiedDate = new myDate(this.dateJS, this.lang)\n    modifiedDate.dateJS.setHours(this.dateJS.getHours() + offset)\n    return modifiedDate\n  }\n\n  toString() {\n    return this.dateJS.getDate() + \" \" + this.monthStringForDate() + \" \" + this.dateJS.getFullYear();\n  }\n  toStringShort() {\n    return this.dateJS.getDate() + \" \" + this.monthStringShort() + \" \" + this.dateJS.getFullYear();\n  }\n  toStringDot() {\n    var dd = (this.dateJS.getDate() < 10 ? \"0\" : \"\") + this.dateJS.getDate();\n    var mm = ((this.dateJS.getMonth() + 1 < 10) ? \"0\" : \"\") + (this.dateJS.getMonth() + 1);\n    return dd + \".\" + mm + \".\" + this.dateJS.getFullYear();\n  }\n  toStringSlash() {\n    var dd = (this.dateJS.getDate() < 10 ? \"0\" : \"\") + this.dateJS.getDate();\n    var mm = ((this.dateJS.getMonth() + 1 < 10) ? \"0\" : \"\") + (this.dateJS.getMonth() + 1);\n    return dd + \".\" + mm + \".\" + this.dateJS.getFullYear();\n  }\n  toStringDash() {\n    var dd = (this.dateJS.getDate() < 10 ? \"0\" : \"\") + this.dateJS.getDate();\n    var mm = ((this.dateJS.getMonth() + 1 < 10) ? \"0\" : \"\") + (this.dateJS.getMonth() + 1);\n    return dd + \".\" + mm + \".\" + this.dateJS.getFullYear();\n  }\n\n  date() {\n    switch (this.lang) {\n      case \"RU\":\n        return this.day() + \" \" + this.monthStringForDate();\n      default:\n        return this.monthStringForDate() + \" \" + this.day();\n      }\n  }\n  dateTime() {\n    return this.time() + \" \" + capitalize(this.date());\n  }\n  day() {\n    return this.dateJS.getDate();\n  }\n  dayNumberString() {\n    return (this.day() < 10 ? \"0\" : \"\") + this.day()\n  }\n\n  month() {\n    return this.dateJS.getMonth() + 1;\n  }\n  monthString() {\n    var namesENG = [\"january\", \"february\", \"march\", \"aprill\", \"may\", \"june\", \"july\", \"august\", \"september\", \"october\", \"november\", \"december\"];\n    var namesRU = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n    switch(this.lang) {\n      case \"RU\":\n        return namesRU[this.month() - 1];\n      default:\n        return namesENG[this.month() - 1];\n    }\n  }\n  monthStringForDate() {\n    var namesENG = [\"january\", \"february\", \"march\", \"aprill\", \"may\", \"june\", \"july\", \"august\", \"september\", \"october\", \"november\", \"december\"];\n    var namesRU = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n    switch(this.lang) {\n      case \"RU\":\n        return namesRU[this.month() - 1];\n      default:\n        return namesENG[this.month() - 1];\n    }\n  }\n  monthNumberString() {\n    return (this.month() < 10 ? \"0\" : \"\") + this.month()\n  }\n  monthStringShort() {\n    var namesENG = [\"jan\", \"feb\", \"mar\", \"apr\", \"may\", \"jun\", \"jul\", \"aug\", \"sep\", \"oct\", \"nov\", \"dec\"];\n    var namesRU = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n\n    switch(this.lang) {\n      case \"RU\":\n        return namesRU[this.month() - 1];\n      default:\n        return namesENG[this.month() - 1];\n      }\n  }\n\n  year() {\n    return this.dateJS.getFullYear();\n  }\n  yearNumberString() {\n    return \"\" + this.year()\n  }\n\n  time() {\n    switch(this.lang) {\n      case \"RU\":\n        return (this.dateJS.getHours() < 10 ? \"0\" : \"\") + this.dateJS.getHours() + \":\" + (this.dateJS.getMinutes() < 10 ? \"0\" : \"\") + this.dateJS.getMinutes();\n      default:\n        return (this.dateJS.getHours() < 10 ? \"0\" : \"\") + (this.dateJS.getHours() > 12 ? this.dateJS.getHours() - 12 : this.dateJS.getHours()) + \":\" + (this.dateJS.getMinutes() < 10 ? \"0\" : \"\") + this.dateJS.getMinutes() + (this.dateJS.getHours() > 12 ? \" pm\" : \" am\");\n      }\n  }\n  niceTime() {\n    if (this.isToday())\n      return this.time();\n    if (this.isYesterday())\n      switch (this.lang) {\n        case \"RU\":\n          return \"\"\n        default:\n          return \"yesterday\";\n      }\n\n    var today = new myDate();\n    if (today.year() === this.year())\n      return capitalize(this.date());\n    // return this.day() + \" \" + capitalize(this.monthStringShort()) + \" \" + this.year();\n    return this.day() + \" \" + this.monthStringForDate() + \" \" + this.year();\n  }\n  hour() {\n    return this.dateJS.getHours();\n  }\n  minute() {\n    return this.dateJS.getMinutes();\n  }\n  second() {\n    return this.dateJS.getSeconds();\n  }\n\n  isToday() {\n    var today = new myDate();\n    if (today.day() === this.day() && today.month() === this.month() && today.year() === this.year())\n      return true;\n    return false;\n  }\n  isYesterday() {\n    var today = new myDate();\n    if (today.day() - 1 === this.day() && today.month() === this.month() && today.year() === this.year())\n      return true;\n    return false;\n  }\n  isTomorrow() {\n    var today = new myDate();\n    if (today.day() + 1 === this.day() && today.month() === this.month() && today.year() === this.year())\n      return true;\n    return false;\n  }\n\n  pastSeconds() {\n    var today = new myDate();\n    return Math.floor((today.getTime() - this.getTime()) / 8.64e7 * 24 * 60 * 60);\n  }\n  pastMinutes() {\n    var today = new myDate();\n    return Math.floor((today.getTime() - this.getTime()) / 8.64e7 * 24 * 60);\n  }\n  pastHours() {\n    var today = new myDate();\n    return Math.floor((today.getTime() - this.getTime()) / 8.64e7 * 24);\n  }\n  pastDays() {\n    var today = new myDate();\n    return Math.floor((today.getTime() - this.getTime()) / 8.64e7);\n  }\n  pastWeeks() {\n    var today = new myDate();\n    return Math.floor((today.getTime() - this.getTime()) / 8.64e7 / 7);\n  }\n  pastMonths() {\n    var today = new myDate();\n    var months = today.month() - this.month() + (today.year() - this.year()) * 12;\n    if (months > 0 && this.day() > today.day())\n      return months - 1;\n    if (months < 0 && this.day() < today.day())\n      return months + 1;\n    return months;\n  }\n  pastYears() {\n    return Math.floor(this.pastMonths() / 12);\n  }\n\n  countable(number, word) {\n    let countableWord;\n    if (Array.isArray(word)) {\n      if ((number > 10 && number < 20) || number % 10 > 4 || number % 10 === 0)\n        countableWord = word[2];\n      else if (number % 10 > 1)\n        countableWord = word[1];\n      else\n        countableWord = word[0];\n    }\n    else if (number === 1)\n      countableWord = word;\n    else countableWord = word + \"s\";\n\n    return number + \" \" + countableWord;\n  }\n  pastNice() {\n    if (this.pastSeconds() < 60)\n      return this.countable(this.pastSeconds(), (this.lang === \"RU\" ? [\"\", \"\", \"\"] : \"second\"));\n    if (this.pastMinutes() < 60)\n      return this.countable(this.pastMinutes(), (this.lang === \"RU\" ? [\"\", \"\", \"\"] : \"minute\"));\n    if (this.pastHours() < 24)\n      return this.countable(this.pastHours(), (this.lang === \"RU\" ? [\"\", \"\", \"\"] : \"hour\"));\n    if (this.pastDays() < 7)\n      return this.countable(this.pastDays(), (this.lang === \"RU\" ? [\"\", \"\", \"\"] : \"day\"));\n    if (this.pastMonths() < 1)\n      return this.countable(this.pastWeeks(), (this.lang === \"RU\" ? [\"\", \"\", \"\"] : \"week\"));\n    if (this.pastYears() < 1)\n      return this.countable(this.pastMonths(), (this.lang === \"RU\" ? [\"\", \"\", \"\"] : \"month\"));\n    return this.countable(this.pastYears(), (this.lang === \"RU\" ? [\"\", \"\", \"\"] : \"year\"));\n  }\n  pastCounter() {\n    let result = \"\"\n    let clippedDate = new myDate(this)\n\n    if (clippedDate.pastYears() > 0) {\n      result += clippedDate.countable(clippedDate.pastYears(), (clippedDate.lang === \"RU\" ? [\"\", \"\", \"\"] : \"year\"));\n      result += \" \"\n      clippedDate = clippedDate.addYear(clippedDate.pastYears())\n    }\n    if (clippedDate.pastMonths() > 0) {\n      result += clippedDate.countable(clippedDate.pastMonths(), (clippedDate.lang === \"RU\" ? [\"\", \"\", \"\"] : \"month\"));\n      result += \" \"\n      clippedDate = clippedDate.addMonth(clippedDate.pastMonths())\n    }\n    if (clippedDate.pastDays() > 0) {\n      result += clippedDate.countable(clippedDate.pastDays(), (clippedDate.lang === \"RU\" ? [\"\", \"\", \"\"] : \"day\"));\n      result += \" \"\n      clippedDate = clippedDate.addDay(clippedDate.pastDays())\n    }\n    if (clippedDate.pastHours() > 0) {\n      result += clippedDate.countable(clippedDate.pastHours(), (clippedDate.lang === \"RU\" ? [\"\", \"\", \"\"] : \"hour\"));\n      result += \" \"\n      clippedDate = clippedDate.addHour(clippedDate.pastHours())\n    }\n    if (clippedDate.pastMinutes() > 0) {\n      result += clippedDate.countable(clippedDate.pastMinutes(), (clippedDate.lang === \"RU\" ? [\"\", \"\", \"\"] : \"minute\"));\n      result += \" \"\n      clippedDate = clippedDate.addMinute(clippedDate.pastMinutes())\n    }\n    result += clippedDate.countable(clippedDate.pastSeconds(), (clippedDate.lang === \"RU\" ? [\"\", \"\", \"\"] : \"second\"));\n\n    return result\n  }\n  pastCounterShort() {\n    let result = \"\"\n    let clippedDate = new myDate(this)\n\n    if (clippedDate.pastYears() > 0) {\n      result += clippedDate.countable(clippedDate.pastYears(), (clippedDate.lang === \"RU\" ? [\"\", \"\", \"\"] : \"year\"));\n      result += \" \"\n      clippedDate = clippedDate.addYear(clippedDate.pastYears())\n    }\n    if (clippedDate.pastMonths() > 0) {\n      result += clippedDate.countable(clippedDate.pastMonths(), (clippedDate.lang === \"RU\" ? [\"\", \"\", \"\"] : \"month\"));\n      result += \" \"\n      clippedDate = clippedDate.addMonth(clippedDate.pastMonths())\n    }\n    if (clippedDate.pastDays() > 0) {\n      result += clippedDate.countable(clippedDate.pastDays(), (clippedDate.lang === \"RU\" ? [\"\", \"\", \"\"] : \"day\"));\n      result += \" \"\n      clippedDate = clippedDate.addDay(clippedDate.pastDays())\n    }\n    // console.log(clippedDate.pastHours())\n    result += (clippedDate.pastHours() < 10 ? \"0\" : \"\") + clippedDate.pastHours()\n    result += \":\"\n    if (clippedDate.pastHours() > 0)\n      clippedDate = clippedDate.addHour(clippedDate.pastHours())\n    result += (clippedDate.pastMinutes() < 10 ? \"0\" : \"\") + clippedDate.pastMinutes()\n    result += \":\"\n  if (clippedDate.pastMinutes() > 0)\n      clippedDate = clippedDate.addMinute(clippedDate.pastMinutes())\n    result += (clippedDate.pastSeconds() < 10 ? \"0\" : \"\") + clippedDate.pastSeconds()\n\n    return result\n  }\n\n  dayOfWeek() {\n    var daysENG = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    var daysRU = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n\n    switch (this.lang) {\n      case \"RU\":\n        return daysRU[this.dateJS.getDay()];\n      default:\n        return daysENG[this.dateJS.getDay()];\n    }\n  }\n  dayOfWeekShort() {\n    var daysENG = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n    var daysRU = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n\n    switch (this.lang) {\n      case \"RU\":\n        return daysRU[this.dateJS.getDay()];\n      default:\n        return daysENG[this.dateJS.getDay()];\n    }\n  }\n  dayOfWeekNumber() {\n    if (this.dateJS.getDay() === 0)\n      return 6\n    return this.dateJS.getDay() - 1\n  }\n  daysInMonth() {\n    return new Date(this.year(), this.month(), 0).getDate()\n  }\n}\n\nconst capitalize = (string) => {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n","export default (number, word) => {\n  let countableWord\n  if (Array.isArray(word)) {\n    if ((number > 10 && number < 20) || number % 10 > 4 || number % 10 === 0)\n      countableWord = word[2]\n    else if (number % 10 > 1)\n      countableWord = word[1]\n    else\n      countableWord = word[0]\n  }\n  else if (number === 1)\n    countableWord = word\n  else countableWord = word + \"s\"\n\n  return number + \" \" + countableWord\n}\n","import React, { Component } from 'react'\n\nimport ExternalLink from 'components/ExternalLink'\n\nimport myDate from 'libs/utils/myDate'\nimport countable from 'libs/utils/countable'\n\nimport StoreContext from 'libs/engines/data/store/StoreContext'\n\nclass About extends Component {\n  constructor(props) {\n    super(props)\n\n    this.memeDate = new myDate(new Date('2018-04-01T20:48:00'), \"RU\")\n    this.siteDate = new myDate(new Date('2019-07-13T01:21:24'), \"RU\")\n\n    this.state = {\n      memeDateString: this.memeDate.pastCounterShort(),\n      siteDateString: this.siteDate.pastCounterShort(),\n    }\n\n    setInterval(() => this.setState({\n      memeDateString: this.memeDate.pastCounterShort(),\n      siteDateString: this.siteDate.pastCounterShort(),\n    }), 1000)\n  }\n\n  static contextType = StoreContext\n\n  render() {\n    const articles = [\n      {\n        title: \"  ?\",\n        text: <p className=\"p\">   !            .<br />\n                   .        <ExternalLink newWindow to=\"https://t.me/the_sociophobic\"></ExternalLink>.    ,  <ExternalLink newWindow to=\"/donations\"></ExternalLink>  <ExternalLink newWindow to=\"/btc\"></ExternalLink>.     , , ,  <ExternalLink newWindow to=\"https://forms.gle/i8NxcaSA94SvJXhr9\">  </ExternalLink>.</p>,\n      },\n      {\n        title: \"  ?\",\n        text: <p className=\"p\">   <ExternalLink newWindow to=\"https://vk.com/wall-132153534?offset=60&own=1&w=wall-132153534_1352\"> </ExternalLink>  <ExternalLink newWindow to=\"https://vk.com/ateist_r4ve\">   </ExternalLink> 1  2018 .     :            \" \".     :        !  ,       .</p>,\n      },\n      {\n        title: \"   (   )\",\n        text: <p className=\"p\">  <ExternalLink newWindow to=\"https://www.youtube.com/watch?v=CKQHltD3Lyk\">  </ExternalLink><br />\n         ,    ,            .             .        :          , ..     .  ,   ,   ,   <ExternalLink newWindow to=\"https://forms.gle/i8NxcaSA94SvJXhr9\">  </ExternalLink>.</p>,\n      },\n    ]\n\n    const {nodes, edges} = this.context.store.get()\n    \n    return (\n      <div className=\"about-container\">\n        <p className=\"p\">\n          {this.state.memeDateString}    <br />\n          {this.state.siteDateString}   <br />\n          {countable(nodes.length, [\"\", \"\", \"\"])}  <br />\n          {countable(edges.length, [\"\", \"\", \"\"])}  <br />\n          {countable(nodes.filter(node => node.offended).length, [\" \", \" \", \" \"])}   <br />\n          {countable(nodes.filter(node => node.dead).length, [\" \", \" \", \" \"])}<br /><br />\n        </p>\n        {articles.map(article => (\n          <article className=\"article\">\n            <h3 className=\"h3\">{article.title}</h3>\n            {article.text}\n          </article>\n        ))}\n      </div>\n    )\n  }\n}\n\nexport default About\n","export default str => {\n  const el = document.createElement('textarea')\n  // el.style.display = \"none\"\n  el.value = str\n  document.body.appendChild(el)\n  el.select()\n  document.execCommand('copy')\n  document.body.removeChild(el)\n}\n","import _ from \"lodash\";\n\n// REDO THIS SHIT: DELETE ALL NAMES Unknown 2 etc\n\nconst maleNameList = [\n  [\"Maxim\", \"Max\"],\n  [\"Vasya\", \"Vasily\", \"Vasiliy\"],\n  [\"Valera\", \"Valery\"],\n  [\"Evgeny\", \"Evgeniy\"], //2 gender name\n  \"Igor\",\n  [\n    \"Alexander\",\n    \"Alexandr\",\n    \"Aleksander\",\n    \"Aleksandr\",\n    \"Alek\",\n    \"Alik\",\n    \"Sanya\",\n    \"Sanyok\",\n    \"Sanek\",\n  ], //2 gender name\n  [\"Roma\", \"Roman\", \"Romka\"],\n  [\"Mikhail\", \"Mihail\", \"Misha\", \"Michael\"],\n  [\"Vitya\", \"Viktor\"],\n  \"German\",\n  [\"Denis\", \"Den\", \"Dekhiar\", \"Dehiar\", \"Dekhiyar\", \"Dekhyyar\"],\n  [\"Tema\", \"Tyoma\", \"Artyom\", \"Artem\", \"Artyomka\", \"Artemka\", \"Artemy\"],\n  [\"Lesha\", \"Lyosha\", \"Alexey\", \"Alexei\", \"Aleksey\", \"Aleksei\", \"Alyesha\"],\n  [\"Filip\", \"Filipp\", \"Fil\", \"Fill\"],\n  [\"Dmitriy\", \"Dmitry\", \"Dima\"],\n  [\"Danya\", \"Daniil\", \"Danyil\", \"Danik\", \"Daniel\", \"Dan\"],\n  [\"Danil\", \"Danila\"],\n  \"Ruslan\",\n  [\"Nikita\", \"Nikitos\", \"Nick\"],\n  \"Oleg\",\n  \"Egor\",\n  [\"Kirill\", \"Kiril\"],\n  \"Anton\",\n  [\"Senya\", \"Arseny\", \"Arseniy\", \"Arsenii\", \"Arseni\"],\n  [\"Arsenty\", \"Arsentiy\", \"Arsentii\", \"Arsenti\"],\n  [\"Ivan\", \"Vanya\", \"Vano\", \"Ioan\", \"Ioann\"],\n  [\"Vyacheslav\", \"Vyacheslev\"], //2 gender name\n  [\"Gosha\", \"Georgy\", \"Georgiy\", \"Georgii\", \"Zhorzh\"],\n  [\"Grisha\", \"Grigory\", \"Grigoriy\", \"Grigorii\", \"Grigori\", \"Zhora\"],\n  \"Grigor\",\n  [\n    \"Seryozha\",\n    \"Serezha\",\n    \"Sergey\",\n    \"Sergy\",\n    \"Sergay\",\n    \"Sirgey\",\n    \"Sirgay\",\n    \"Sirgy\",\n  ],\n  [\n    \"Volodya\",\n    \"Vladimir\",\n    \"Vlad\",\n    \"Vova\",\n    \"Vovan\",\n    \"Vladislav\",\n    \"Vladyslav\",\n    \"Vladosik\",\n  ],\n  [\"Ilia\", \"Ilya\", \"Iliya\", \"Ilias\", \"Iliyas\", \"Ilyas\"],\n  [\"Tima\", \"Timofey\", \"Timofei\"],\n  \"Timur\",\n  [\n    \"Petya\",\n    \"Petia\",\n    \"Petiya\",\n    \"Pyotr\",\n    \"Pyotor\",\n    \"Petr\",\n    \"Peter\",\n    \"Petyr\",\n    \"Petir\",\n    \"Piter\",\n  ],\n  \"Rolan\",\n  [\"Mark\", \"Marko\"],\n  [\"Andrey\", \"Andrei\", \"Andew\"],\n  [\"Senya\", \"Senia\", \"Semyon\", \"Semen\", \"Sema\", \"Syoma\"],\n  [\"Lenya\", \"Lyonya\", \"Lenny\", \"Leonid\", \"Leonyd\"],\n  \"Aziz\",\n  \"Stas\",\n  [\"Borya\", \"Boria\", \"Boris\"],\n  [\"Artur\", \"Arthur\"],\n  [\"Pasha\", \"Pavel\"],\n  [\"Edik\", \"Eduard\", \"Edward\"],\n  \"Robert\",\n  [\"Vadik\", \"Vadim\"],\n  [\"Ildar\", \"Eldar\"],\n  [\"Yuriy\", \"Yury\", \"Uriy\", \"Ury\", \"Yura\", \"Ura\"],\n  \"Stefan\",\n  [\"Fedya\", \"Fedia\", \"Fedor\", \"Fyodor\", \"Fydor\"],\n  [\"David\", \"Devid\"],\n  [\"Damir\", \"Damyr\"],\n  [\"Tihon\", \"Tikhon\"],\n  [\"Leva\", \"Lyova\", \"Lev\", \"Leo\", \"Leon\"],\n  \"Martin\",\n  \"Bogdan\",\n  \"Oslab\",\n  \"Savva\",\n  \"Yan\",\n  \"Klim\",\n  [\"Yaroslav\", \"Yarik\", \"Slava\", \"Slavik\"],\n  [\"Konstantin\", \"Kostya\", \"Kostia\"],\n  \"Gleb\",\n  [\"Venya\", \"Venia\", \"Veniamin\", \"Venyamin\"],\n  [\"Vitalik\", \"Vitaly\", \"Vitaliy\", \"Vitalii\", \"Vitali\"],\n  [\"Gena\", \"Genady\", \"Genadiy\", \"Genadii\", \"Genadi\"],\n  \"Mariush\",\n  [\"Sebastyan\", \"Sebastian\"],\n  \"Matteo\",\n  \"Federico\",\n  \"Matt\",\n  \"Joel\",\n  [\"Tarik\", \"Turik\"],\n  \"Vsevolod\",\n  \"Moatssem\",\n  [\"Tommy\", \"Tomas\", \"Tom\", \"Tomasz\"],\n  \"Csaba\",\n  \"Darie\",\n  \"Braulio\",\n  [\"Ron\", \"Rony\", \"Ronny\"],\n  \"Felix\",\n  [\"Stepa\", \"Styopa\", \"Stepan\"],\n  \"Matteus\",\n  \"Amir\",\n  \"Rostislav\",\n  \"Givi\",\n  [\"Serafim\", \"Seraphim\"],\n  [\"Kolya\", \"Kolia\", \"Nikolay\", \"Nikolai\"],\n  [\"Esconder\", \"Eskonder\"],\n  \"Rodion\",\n  \"Radik\",\n  \"Azat\",\n  \"Emil\",\n  \"Oliver\",\n  [\"Natan\", \"Nathan\"],\n  \"Gera\",\n  \"Avvakum\",\n  [\"Matvey\", \"Matvei\", \"Matviy\"],\n  \"Karim\",\n  \"Jack\",\n  \"Ilnar\",\n  \"Stanislav\",\n  \"Patrick\",\n  \"Donatas\",\n  \"Marat\",\n  \"Yasha\",\n  \"Ilshat\",\n  \"Svyatoslav\",\n  (str) => str.endsWith(\"slav\"),\n  [\"Dyonisy\", \"Dyonisiy\", \"Dionisy\", \"Dionisiy\"],\n  \"Papa\",\n  \"Makar\",\n  \"Elon\",\n  [\"Johnny\", \"John\"],\n  \"Anzol\",\n  \"Ares\",\n  \"Ostap\",\n  \"Valentin\",\n  [\"Ilarion\", \"Illarion\"],\n  \"Rudolph\",\n  \"Tagir\",\n  \"Said\",\n  \"Teodor\",\n  \"Jordan\",\n  \"Albert\",\n  \"Elai\",\n  \"Mario\",\n  \"Karl\",\n  \"Zerasim\",\n  \"Ramil\",\n  \"Kosta\",\n  \"Kesha\",\n  \"Luigi\",\n  \"Yuliy\",\n  [\"Lui\", \"Louis\"],\n  \"Tair\",\n  \"Archet\",\n];\nconst femaleNameList = [\n  [\"Anastasia\", \"Anastasiya\", \"Nastya\"],\n  [\"Olga\", \"Olya\"],\n  [\"Kristina\", \"Kris\"],\n  [\"Anna\", \"Anya\", \"Anisya\", \"Anysya\", \"Anisia\", \"Anysia\", \"Ani\"],\n  [\"Alexandra\", \"Aleksandra\"], //2 gender name\n  \"Sveta\",\n  [\"Sonya\", \"Sonia\", \"Sofia\", \"Sophia\", \"Sofya\", \"Sofiya\"],\n  [\"Polina\", \"Polya\"],\n  [\"Masha\", \"Maria\", \"Mariya\", \"Mary\", \"Mari\", \"Marusya\", \"Maryana\", \"Mariana\"],\n  \"Maya\",\n  [\"Kira\", \"Keira\"],\n  [\"Lena\", \"Elena\"],\n  [\"Alyona\", \"Alena\"],\n  \"Elvira\",\n  [\"Kate\", \"Katya\", \"Ekaterina\", \"Katerina\", \"Katrin\", \"Kathrin\"],\n  [\"Nata\", \"Natasha\", \"Natalya\", \"Natalia\", \"Nataliya\"],\n  [\"Tanya\", \"Tatyana\"],\n  \"Yana\",\n  [\n    \"Julia\",\n    \"Juliya\",\n    \"Julya\",\n    \"Yulya\",\n    \"Yuliya\",\n    \"Yulia\",\n    \"Yuliana\",\n    \"Uliya\",\n    \"Ulia\",\n    \"Ulya\",\n  ],\n  [\"Liza\", \"Lisa\", \"Elizaveta\"],\n  [\"Diana\", \"Dayana\"],\n  \"Dina\",\n  [\"Varya\", \"Varvara\"],\n  [\"Glasha\", \"Aglaya\"],\n  [\"Dasha\", \"Darya\", \"Dariya\", \"Daria\"],\n  \"Darina\",\n  \"Dariko\",\n  [\"Tonya\", \"Tonia\", \"Antonina\"],\n  [\"Vika\", \"Viktoriya\", \"Viktorya\", \"Viktoria\"],\n  [\"Arina\", \"Arisha\", \"Arishka\"],\n  [\"Evgenia\", \"Evgeniya\", \"Evgenya\"], //2 gender name\n  \"Zhanna\",\n  [\"Sima\", \"Serafima\", \"Seraphima\"],\n  \"Lana\",\n  [\"Nika\", \"Veronika\"],\n  \"Albina\",\n  [\"Ksusha\", \"Ksenia\", \"Kseniya\", \"Ksenya\"],\n  [\"Rita\", \"Margarita\", \"Margo\"],\n  \"Vera\",\n  [\"Ustya\", \"Ustina\"],\n  [\"Ira\", \"Irina\", \"Iren\"],\n  [\"Emilia\", \"Emilya\", \"Emiliya\", \"Emily\"],\n  [\"Alisa\", \"Alice\"],\n  [\"Lina\", \"Alina\", \"Angelina\"],\n  \"Milana\",\n  [\"Valeriya\", \"Valeria\", \"Valerya\", \"Lera\"],\n  [\"Alesya\", \"Alesia\", \"Alesiya\"],\n  \"Karina\",\n  [\"Lyuba\", \"Luba\", \"Lyubof\", \"Lubof\", \"Lyubov\", \"Lubov\"],\n  [\"Elya\", \"Elina\"],\n  [\"Vita\", \"Vitalia\", \"Vitaliya\"],\n  [\"Anzhela\", \"Anzhelika\", \"Angela\", \"Anjela\"],\n  \"Anfisa\",\n  \"Lolita\",\n  [\"Lada\", \"Vlada\", \"Vladislava\"],\n  \"Inessa\",\n  [\"Taisiya\", \"Taisia\", \"Taisya\", \"Tasya\", \"Tasia\"],\n  \"Kalina\",\n  \"Sabrina\",\n  [\"Ronya\", \"Ronia\"],\n  [\"Liliya\", \"Lilia\", \"Lilya\"],\n  [\"Aelitta\", \"Aelita\", \"Aellyta\", \"Aelyta\"],\n  \"Nina\",\n  [\"Sveta\", \"Svetlana\"],\n  [\"Nadezhda\", \"Nadya\", \"Nadia\"],\n  \"Marta\",\n  [\"Patricia\", \"Patrycia\"],\n  [\"Izabela\", \"Isabela\"],\n  \"Vasilisa\",\n  \"Fekla\",\n  [\"Liana\", \"Lyana\", \"Lianna\", \"Lyanna\", \"Lia\", \"Liya\", \"Lya\"],\n  [\"Galya\", \"Galia\", \"Galina\"],\n  \"Marina\",\n  \"Almira\",\n  \"Nikol\",\n  \"Anisia\",\n  \"Yanita\",\n  [\"Eva\", \"Eve\"],\n  \"Yulana\",\n  [\"Anita\", \"Anyta\"],\n  [\"Pelageya\", \"Pelagea\", \"Pelageiya\", \"Pelageia\"],\n  [\"Rebecca\", \"Becca\", \"Beca\", \"Bekka\", \"Beka\"],\n  \"Inna\",\n  \"Larisa\",\n  \"Amanda\",\n  [\"Safira\", \"Saphira\"],\n  \"Karolina\",\n  [\"Kamila\", \"Kamilla\"],\n  [\"Elsa\", \"Elza\"],\n  \"Samira\",\n  \"Sabina\",\n  [\"Asya\", \"Asia\"],\n  [\"Agrippina\", \"Agripina\"],\n  \"Mila\",\n  [\"Luda\", \"Lyuda\", \"Ludmila\", \"Lyudmila\"],\n  \"Alevtina\",\n  \"Oksana\",\n  \"Linda\",\n  \"Roza\",\n  [\"Katalina\", \"Catalina\"],\n  [\"Stasya\", \"Stasia\", \"Stacy\"],\n  \"Malvina\",\n  [\"Melanya\", \"Melania\", \"Melaniya\"],\n  \"Mama\",\n  [\"Yaroslava\", \"Jaroslava\"],\n  [\"Stoya\", \"Stoia\"],\n  \"Snezhanna\",\n  \"Ayla\",\n  \"Marfa\",\n  \"Vesta\",\n  \"Ksantoria\",\n  \"Regina\",\n  \"Sara\",\n  [\"Adel\", \"Adelina\"],\n  \"Vasilina\",\n  \"Laura\",\n  \"Shira\",\n  \"Mariam\",\n  \"Evdokia\",\n  \"Vladlena\",\n  [\"Uliana\", \"Ulyana\"],\n  \"Ioanna\",\n  [\"Violeta\", \"Veta\"],\n  \"Staphanie\",\n  \"Lea\",\n  \"Scharlotte\",\n];\n\nconst changeFromNameList = async (store, inputNameList, gender) => {\n  let nameList = [];\n\n  inputNameList.forEach((name) => {\n    if (Array.isArray(name)) name.forEach((subName) => nameList.push(subName));\n    else nameList.push(name);\n  });\n\n  var changedNamesNumber = 0;\n\n  for (const indexStr in nameList) {\n    const index = parseInt(indexStr);\n    const nameOrFn = nameList[index];\n    let res;\n\n    switch (typeof nameOrFn) {\n      case \"string\":\n        res = store\n          .search({ name: nameOrFn })\n          .filter(\n            (person) =>\n              person.name.split(\" \")[0].toLowerCase() === nameOrFn.toLowerCase()\n          );\n        break;\n      case \"function\":\n        res = store\n          .get()\n          .nodes.filter((node) =>\n            nameOrFn(node.name.split(\" \")[0].toLowerCase())\n          );\n        break;\n      default:\n        console.log(`nameOrFn unexpected type`);\n        console.log(nameOrFn);\n        console.log(nameList.slice(-3));\n        break;\n    }\n\n    for (const index2 in res) {\n      const person = res[index2];\n      if (!person.hasOwnProperty(\"gender\")) {\n        const resolvedName = await store.push(\n          {\n            ...person,\n            gender: gender,\n          },\n          false\n        );\n        console.log(\n          ++changedNamesNumber +\n            \" \" +\n            resolvedName.name +\n            \" \" +\n            resolvedName.gender\n        );\n      }\n    }\n  }\n};\n\nconst changeGender = (store) => {\n  changeFromNameList(store, maleNameList, \"m\"); //1/04/2020 478 or 420 names + 7 + 19 + 5 + 10 + 3 + 21 + 12\n  changeFromNameList(store, femaleNameList, \"f\"); //1/04/2020 579 names + 11 + 12 + 8 + 6 + 8 + 19\n  // changeFromNameList(store, [\n  //   [\"Anita\", \"Anyta\"],\n  //   [\"Pelageya\", \"Pelagea\", \"Pelageiya\", \"Pelageia\"],\n  // ], \"f\")\n};\n\nexport default changeGender;\n\nconst genderDetermined = (node) => node.gender === \"m\" || node.gender === \"f\";\n\nconst calcGay = (nodes) =>\n  nodes.map((node) => {\n    if (\n      node.mates &&\n      genderDetermined(node) &&\n      node.mates.length > 0 &&\n      node.mates.map((mate) => genderDetermined(mate)).reduce((a, b) => a && b)\n    ) {\n      let potentialPartners, attractiveness, bmi;\n\n      if (node.gender === \"m\") {\n        potentialPartners = node.mates.filter(\n          (mate) => mate.gender === \"f\"\n        ).length;\n        attractiveness = { am: potentialPartners };\n        if (node.weight && node.height)\n          bmi = { bmim: (node.weight / (node.height / 100) ** 2).toFixed(1) };\n      } else {\n        potentialPartners = node.mates.filter(\n          (mate) => mate.gender === \"m\"\n        ).length;\n        attractiveness = { af: potentialPartners };\n        if (node.weight && node.height)\n          bmi = { bmif: (node.weight / (node.height / 100) ** 2).toFixed(1) };\n      }\n      const gayPartners = node.mates.length - potentialPartners;\n\n      if (gayPartners > 0 && node.mates.length >= 4)\n        return {\n          ...node,\n          ...attractiveness,\n          ...bmi,\n          gay: Math.round((gayPartners / node.mates.length) * 1000) / 10,\n        };\n      return {\n        ...node,\n        ...attractiveness,\n        ...bmi,\n      };\n    }\n\n    return node;\n  });\n\nexport { genderDetermined, calcGay };\n","import React, { Component } from 'react'\nimport StoreContext from 'libs/engines/data/store/StoreContext'\nimport nodeModel from 'libs/engines/data/store/models/person'\nimport edgeModel from 'libs/engines/data/store/models/edge'\nimport {\n  encode,\n  encodeMany,\n  encodeJSONstring,\n  decodeMany,\n} from 'libs/engines/data/store/models'\nimport copyToClipboard from 'libs/utils/copyToClipboard'\nimport changeGender from 'libs/engines/data/hardcoded/meta/namesRecognition'\nimport { socialLinks } from 'libs/utils/social'\nimport _ from 'lodash'\n\nimport axios from 'axios'\n\n\nclass Neo4j extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n\n  post = async statements => axios\n    // .post(\"http://31.184.252.37:7474/db/data/transaction/commit\",\n    .post(\"http://localhost:7474/db/data/transaction/commit\",\n      {statements: statements},\n      {auth: {\n        // username: process.env.REACT_APP_DB_LOGIN,\n        // password: process.env.REACT_APP_DB_PASSWORD,\n        username: \"neo4j\",\n        password: \"dermo123\"\n      }}\n    )\n    // .then(res => console.log(res))\n\n  addCurrentData = async () => {\n    await this.post([{statement: \"MATCH (n) DETACH DELETE n\"}])\n\n    const data = this.context.store.get()\n\n    const nodeString = \"UNWIND \" + encodeMany(nodeModel, data.nodes) +\n      \" AS properties\\nCREATE (n:Person)\\nSET n = properties\\nRETURN n\"\n    await this.post([{statement: nodeString}])\n    // return\n    const edges = data.edges\n    console.log(edges)\n    const edgeString = edges\n      .map(edge => {\n        // console.log(edge)\n\n        return (`\n        MATCH (node0:Person)\n        WHERE node0.name = '${this.context.store.get({id: edge.node0}).name}'\n        MATCH (node1:Person)\n        WHERE node1.name = '${this.context.store.get({id: edge.node1}).name}'\n        CREATE (node0)-[edge:KISS ${encodeJSONstring(encode(edgeModel, edge))}]->(node1)\n      `)})\n      .map(statement => ({statement: statement}))\n    // console.log(edgeString)\n    await this.post(edgeString)\n    console.log(\"edges added\")\n  }\n\n  copyToJSON = () => {\n    const props = [\"gender\", \"SHR\", \"political\"]\n    const removeProps = nodes =>\n      nodes.map(node => \n          _.pickBy({\n              ...node,\n              social: _.pickBy(node.social, (v, k) => !socialLinks[k].disabled),\n              mates: !node.mates ? undefined : node.mates.map(mate =>\n                _.pickBy(mate, (v, k) =>\n                  // !props.includes(k) && typeof v !== \"undefined\" && v !== null && !(k === \"name\" && mate.userName)))\n                  !props.includes(k) && typeof v !== \"undefined\" && v !== null))\n            }, (value, key) =>\n              !props.includes(key) && typeof value !== \"undefined\" && value !== null)// && !_.isEmpty(value))\n      )\n\n    const clearedNodes = removeProps(this.context.store.get().nodes)\n    // console.log(clearedNodes)\n    copyToClipboard(JSON.stringify({\n      nodes: clearedNodes,\n      edges: this.context.store.get().edges,\n    }))\n  }\n\n  getAllData = async () => {\n    // const nodes = await this.post([{\n    //   statement: `\n    //     MATCH (node:Person)\n    //     MATCH (node)-[edge:KISS]-(mate:Person)\n    //     MATCH (mate)-[mateEdges:KISS]-(mateConnections:Person)\n    //     WITH {\n    //       date: edge.commited,\n    //       edgeId: id(edge),\n    //       id: id(mate),\n    //       connections: count(mateConnections) + COALESCE(mate.hiddenConnections, 0),\n    //       userName: mate.userName,\n    //       name: mate.name,\n    //       iq: mate.iq,\n    //       mentalDisorder: mate.mentalDisorder\n    //     } as mates, node as node\n    //     WITH node {\n    //       .*,\n    //       id: id(node),\n    //       mates: collect(mates)\n    //     } AS node\n    //     RETURN node\n    //   `\n    // }])\n    // const decodedNodes = decodeMany(nodeModel, nodes)\n    // const edges = await this.post([{\n    //   statement: `\n    //     MATCH (node0:Person)-[edge:KISS]->(node1:Person)\n    //     WITH edge {\n    //       .*,\n    //       id: id(edge),\n    //       node0: id(node0),\n    //       node1: id(node1)\n    //     } AS edge\n    //     RETURN edge\n    //   `\n    // }])\n    // const decodedEdges = decodeMany(edgeModel, edges)\n    this.context.store.copyData()\n  }\n  \n  render() {\n    return(\n      <div>\n        {/* <button\n          className=\"button\"\n          onClick={() => this.addCurrentData()}\n        >\n          \n        </button>\n        <br /> */}\n        {/* <button\n          className=\"button\"\n          onClick={() => this.addCurrentData()}\n        >\n          replace...\n        </button> */}\n        <button\n          className=\"button\"\n          onClick={() => this.copyToJSON()}\n        >\n          copy to JSON\n        </button>\n        <button\n          className=\"button\"\n          onClick={() => this.context.store.copyPos()}\n        >\n          copy position\n        </button>\n        <button\n          className=\"button\"\n          onClick={() => this.context.store.copyUV()}\n        >\n          copy uv\n        </button>\n        <button\n          className=\"button\"\n          onClick={() => changeGender(this.context.store)}\n        >\n          determine genders\n        </button>\n      </div>\n    )\n  }\n}\n\nNeo4j.contextType = StoreContext\n\nexport default  Neo4j","import React, { Component } from 'react'\nimport Radium from 'radium'\n\n\nclass DefaultDropdown extends Component {\n  close = () => this.props.setOpened(false)\n\n  renderOptions = () => this.props.options\n    .map((option, index) => {\n      const style = option.style || {}\n      \n      return (\n        <div\n          key={index}\n          className=\"form-group__input--dropdown__options__item\"\n          style={style}\n          onClick={() => {\n            this.props.setValue(option)\n            this.setState({opened: false})\n          }}\n        >\n          {(this.props.valueRender && this.props.valueRender(option)) || option}\n        </div>\n      )\n    })\n\n  render = () => (\n    <div\n      className={\"form-group__input form-group__input--dropdown \" + (this.props.opened ? \"active\": '')}\n      onClick={() => this.props.setOpened(true)}\n    >\n      {(this.props.valueRender && this.props.value && this.props.valueRender(this.props.value)) ||\n        this.props.value || this.props.placeholder}\n      <div className=\"form-group__input--dropdown__options form-group__input--dropdown__options--default\">\n        {this.props.opened && this.renderOptions()}\n      </div>\n    </div>\n  )\n}\n\nexport default Radium(DefaultDropdown)","import React, { Component } from 'react'\n\n// import _ from 'lodash'\n\n// import { clamp } from 'libs/utils/math'\n\n\nexport default class Input extends Component {\n  constructor(props) {\n    super(props)\n    this.inputFieldRef = props.inputFieldRef || React.createRef()\n  }\n\n  focus = () => this.inputFieldRef.current && this.inputFieldRef.current.focus()\n  blur = () => this.inputFieldRef.current && this.inputFieldRef.current.blur()\n\n  onKeyDown = e => {\n    const value = \"\" + this.props.value\n    \n    if (this.props.number)\n      if (this.props.value && value.match(/[^0-9]/g))\n        this.props.onChange(value.replace(/[^0-9]/g, ''))\n    this.props.onKeyDown && this.props.onKeyDown(e)\n  }\n  onBlur = e => {\n    // if (this.props.number && this.props.range)\n    //   if (this.props.range)\n    //     this.props.onChange(clamp(this.props.number, this.props.range[0], this.props.range[1]))\n    this.props.onBlur && this.props.onBlur(e)\n  }\n\n  render = () => (\n    <div\n      className={\"form-group \" +\n        this.props.className + \" \" +\n        (this.props.errorMessage && \"form-group--error\")\n      }\n    >\n      <div className=\"position-relative\">\n        <input\n          ref={this.inputFieldRef}\n          type={this.props.number ? \"number\" : \"text\"}\n          className=\"form-group__input\"\n          placeholder={this.props.placeholder}\n          required={this.props.required}\n          value={this.props.value}\n          onChange={event => this.props.onChange(event.target.value)}\n          onFocus={this.props.onFocus}\n          onBlur={this.onBlur}\n          onKeyDown={this.onKeyDown}\n          disabled={this.props.disabled}\n        />\n        <label className=\"form-group__label\">\n          {this.props.label}\n        </label>\n        {this.props.showReset && this.props.value.length > 0 &&\n          <div\n            className=\"reset\"\n            onClick={() => {\n              this.focus()\n              this.props.onChange(null)\n            }}\n          />\n        }\n      </div>\n      {/* <ExpandingErrorBox>\n        {this.props.errorMessage}\n      </ExpandingErrorBox> */}\n    </div>\n  )\n}\n","import React, { Component, Fragment } from 'react'\nimport Radium from 'radium'\n\nimport Input from 'components/Form/Input'\n\n\nclass InputDropdown extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      typedValue: this.props.value,\n      neverTypedFlag: true,\n      oldPropValue: this.props.value,\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (state.oldPropValue !== props.value) {\n      state.oldPropValue = props.value\n\n      if (props.value !== state.typedValue) {// &&\n          // props.value !== null &&\n          // props.value !== \"\" &&\n          // typeof props.value !== \"undefined\") {\n        state.typedValue = props.value\n        state.neverTypedFlag = false\n\n        if (props.required) {\n          props.updateOptions && props.updateOptions(props.value)\n          props.setOpened(true)\n        }\n      }\n    }\n\n    return state\n  }\n\n  close = () => {\n    this.props.setOpened(false)\n    this.props.inputFieldRef && this.props.inputFieldRef.current.blur()\n  }\n\n  onChange = value => {\n    if (value === null) {\n      this.setState({typedValue: \"\"})\n      this.props.onChange(\"\")\n      return\n    }\n    this.setState({neverTypedFlag: false})\n    this.setState({typedValue: value})\n    this.props.updateOptions && this.props.updateOptions(value)\n    if (value === \"\" && !this.props.keepValue)\n      this.props.onChange(\"\")\n  }\n\n  setValue = value => {\n    const res = typeof value.name !== \"undefined\" ? value.name : value //REDO THIS SHIT\n\n    this.setState({typedValue: res})\n    this.props.onChange(value)\n  }\n\n  onFocus = () => {\n    this.props.updateOptions && this.props.updateOptions(this.state.typedValue)\n    this.props.setOpened(true)\n  }\n  onBlur = () => this.setState({\n    neverTypedFlag: true,\n    typedValue: this.props.value\n  })\n\n  renderOptions = () => //(this.props.value !== this.state.typedValue) &&\n    this.props.options && this.props.options\n      .map((option, index) => {\n        const style = option.style || {}\n\n        return (\n          <div\n            key={index}\n            style={style}\n            className=\"form-group__input--dropdown__options__item\"\n            onClick={() => this.setValue(typeof option === \"string\" ? option : option.value)}\n          >\n            {typeof option === \"string\" ? option : option.render}\n          </div>\n        )\n      })\n\n  render = () => (\n    <Fragment>\n      <Input\n        inputFieldRef={this.props.inputFieldRef}\n        //somehow it blurs input on iOS\n        className={\"form-group__input--dropdown \" + this.props.className}\n        placeholder={this.props.placeholder}\n        required={this.props.required}\n        value={(this.state.neverTypedFlag && this.props.value) || this.state.typedValue}\n        onChange={value => this.onChange(value)}\n        onFocus={() => this.onFocus()}\n        onBlur={() => this.onBlur()}\n        disabled={this.props.disabled}\n        showReset={this.props.showReset}\n        onKeyDown={this.props.onKeyDown}\n      />\n      <div className={\"form-group__input--dropdown__options \" + (this.props.relativeOptionsList && \"position-relative\")}>\n        {this.props.opened && this.renderOptions()}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default Radium(InputDropdown)","import React, { Component } from 'react'\nimport DefaultDropdown from './DefaultDropdown'\nimport InputDropdown from './InputDropdown'\n\nexport default class Dropdown extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      opened: false,\n    }\n    this.dropdownAreaRef = React.createRef()\n    this.inputFieldRef = React.createRef()\n    this.dropdownRef = React.createRef()\n  }\n\n  externalAreaClick = e => {\n    if (this.state.opened &&\n        e.target.parentElement !== this.dropdownAreaRef.current &&\n        e.target !== this.inputFieldRef.current)\n      this.dropdownRef && this.dropdownRef.current && this.dropdownRef.current.close()\n  }\n\n  componentDidMount() {\n    window.addEventListener('click', this.externalAreaClick.bind(this))\n  }\n  componentWillUnount() {\n    window.removeEventListener('click', this.externalAreaClick.bind(this))\n  }\n\n  close = () =>\n    this.dropdownRef.current &&\n    this.dropdownRef.current.close &&\n    this.dropdownRef.current.close()\n\n  render() {\n    const opened = !this.props.disabled && this.state.opened\n\n    return (\n      <div\n        className={\"position-relative\" + (this.props.disabled ? \" universal-disabled\": '')}\n        ref={this.dropdownAreaRef}\n      >\n        {this.props.label &&\n          <div className=\"form-group__label\">\n            {this.props.label}\n          </div>\n        }\n        {this.props.input ?\n            <InputDropdown\n              ref={this.dropdownRef}\n              {...this.props}\n              opened={opened}\n              setOpened={value => this.setState({opened: value})}\n              inputFieldRef={this.inputFieldRef}\n            />\n          :\n            <DefaultDropdown\n              ref={this.dropdownRef}\n              {...this.props}\n              opened={opened}\n              setOpened={value => this.setState({opened: value})}\n              inputFieldRef={this.inputFieldRef}\n            />\n        }\n      </div>\n    )\n  } \n}","import React from 'react'\nimport emojis from './list'\n\n\nconst emojisArray = emojis\n  .map(emoji => ({\n    [emoji.name]: () => (\n      <span\n        className={`emoji emoji__${emoji.name}`}\n        role=\"img\"\n        aria-label={emoji.name}\n        title={emoji.name}\n      >\n        {emoji.symbol ? emoji.symbol :\n        <img\n          src={emoji.src}\n          className=\"emoji__img\"\n        />}\n      </span>\n    )\n  }))\n  .reduce((a, b) => ({...a, ...b}))\n\nexport default emojisArray\n\n\nconst EmojiByName = props =>\n  emojisArray.hasOwnProperty(props.name) ?\n    emojisArray[props.name]()\n    :\n    ''\n// {\n//   if (typeof emojisArray[props.name] === \"undefined\")\n//     console.log(props.name)\n//   return \"a\"//emojisArray[props.name]()\n// }\n\nexport { EmojiByName }","import greenfrog from './custom/greenfrog.png'\nimport arsenyan from './custom/arsenyan.png'\n\n\nconst emojis = [\n  {\n    symbol: \"\",\n    name: \"kiss\",\n  },\n  {\n    symbol: \"\",\n    name: \"gay\",\n  },\n  {\n    symbol: \"\",\n    name: \"IQ\",\n  },\n  {\n    symbol: \"\",\n    name: \"mentalDisorder\",\n  },\n  {\n    symbol: \"\",\n    name: \"hidden\",\n  },\n  {\n    symbol: \"\",\n    name: \"told\",\n  },\n  {\n    symbol: \"\",\n    name: \"letter\",\n  },\n  {\n    symbol: \"\",\n    name: \"date\",\n  },\n  {\n    symbol: \"\",\n    name: \"newspaper\",\n  },\n  {\n    symbol: \"\",\n    name: \"gay2\",\n  },\n  {\n    symbol: \"\",\n    name: \"world\",\n  },\n  {\n    symbol: \"\",\n    name: \"dead\",\n  },\n  {\n    symbol: \"\",\n    name: \"offended\",\n  },\n  {\n    symbol: \"\",\n    name: \"triggered\",\n  },\n  {\n    src: greenfrog,\n    name: \"greenfrog\",\n  },\n  {\n    src: arsenyan,\n    name: \"arsenyan\",\n  },\n  {\n    symbol: \"\",\n    name: \"skate\",\n  },\n  {\n    symbol: \"\",\n    name: \"hindu\",\n  },\n  {\n    symbol: \"\",\n    name: \"school\",\n  },\n  {\n    symbol: \"\",\n    name: \"artist\",\n  },\n  {\n    symbol: \"\",\n    name: \"micro\",\n  },\n  {\n    symbol: \"\",\n    name: \"mac\",\n  },\n  {\n    symbol: \"\",\n    name: \"copy\",\n  },\n  {\n    symbol: \"\",\n    name: \"acid\",\n  },\n  {\n    symbol: \"\",\n    name: \"time\",\n  },\n  {\n    symbol: \"\",\n    name: \"timeup\",\n  },\n  {\n    symbol: \"\",\n    name: \"book\",\n  },\n  {\n    symbol: \"\",\n    name: \"child\",\n  },\n  {\n    symbol: \"\",\n    name: \"guitar\",\n  },\n  {\n    symbol: \"\",\n    name: \"jew\",\n  },\n  {\n    symbol: \"\",\n    name: \"pill\",\n  },\n  {\n    symbol: \"\",\n    name: \"korovka\",\n  },\n  {\n    symbol: \"\",\n    name: \"fish\",\n  },\n  {\n    symbol: \"\",\n    name: \"pig\",\n  },\n  {\n    symbol: \"\",\n    name: \"shit\",\n  },\n  {\n    symbol: \"\",\n    name: \"kirpich\",\n  },\n  {\n    symbol: \"\",\n    name: \"football\",\n  },\n  {\n    symbol: \"\",\n    name: \"duck\",\n  },\n  {\n    symbol: \"\",\n    name: \"moon\",\n  },\n  {\n    symbol: \"\",\n    name: \"america\",\n  },\n  {\n    symbol: \"\",\n    name: \"russia\",\n  },\n  {\n    symbol: \"\",\n    name: \"baton\",\n  },\n  {\n    symbol: \"\",\n    name: \"crown\",\n  },\n  {\n    symbol: \"\",\n    name: \"married\",\n  },\n  {\n    symbol: \"\",\n    name: \"friendship\",\n  },\n  {\n    symbol: \"\",\n    name: \"chivalry\",\n  },\n  {\n    symbol: \"\",\n    name: \"sex\",\n  },\n  {\n    symbol: \"\",\n    name: \"baloon\",\n  },\n  {\n    symbol: \"\",\n    name: \"toybear\",\n  },\n  {\n    symbol: \"\",\n    name: \"fate\",\n  },\n  {\n    symbol: \"\",\n    name: \"beard\",\n  },\n  {\n    symbol: \"\",\n    name: \"bath\",\n  },\n  {\n    symbol: \"\",\n    name: \"banana\",\n  },\n  {\n    symbol: \"\",\n    name: \"baklazhan\",\n  },\n  {\n    symbol: \"\",\n    name: \"ok\",\n  },\n  {\n    symbol: \"\",\n    name: \"justice\",\n  },\n  {\n    symbol: \"\",\n    name: \"prayerBeads\",\n  },\n  {\n    symbol: \"\",\n    name: \"syringe\",\n  },\n  {\n    symbol: \"\",\n    name: \"skull\",\n  },\n  {\n    symbol: \"\",\n    name: \"lilRain\",\n  },\n  {\n    symbol: \"\",\n    name: \"tea\",\n  },\n  {\n    symbol: \"\",\n    name: \"fox\",\n  },\n  {\n    symbol: \"\",\n    name: \"photo\",\n  },\n  {\n    symbol: \"\",\n    name: \"boot\",\n  },\n  {\n    symbol: \"\",\n    name: \"tv\",\n  },\n  {\n    symbol: \"\",\n    name: \"feya\",\n  },\n  {\n    symbol: \"\",\n    name: \"mango\",\n  },\n  {\n    symbol: \"\",\n    name: \"photoShot\",\n  },\n  {\n    symbol: \"\",\n    name: \"bikini\",\n  },\n  {\n    symbol: \"\",\n    name: \"womanBan\",\n  },\n  {\n    symbol: \"\",\n    name: \"saber\",\n  },\n  {\n    symbol: \"\",\n    name: \"Spain\",\n  },\n  {\n    symbol: \"\",\n    name: \"krovatka\",\n  },\n  {\n    symbol: \"\",\n    name: \"hospital\",\n  },\n  {\n    symbol: \"\",\n    name: \"elf\",\n  },\n  {\n    symbol: \"\",\n    name: \"vegan\",\n  },\n  {\n    symbol: \"\",\n    name: \"light\",\n  },\n  {\n    symbol: \"\",\n    name: \"pigeon\",\n  },\n  {\n    symbol: \"\",\n    name: \"frog\",\n  },\n  {\n    symbol: \"\",\n    name: \"male\",\n  },\n  {\n    symbol: \"\",\n    name: \"female\",\n  },\n  {\n    symbol: \"\",\n    name: \"person\",\n  },\n  {\n    symbol: \"\",\n    name: \"gene\",\n  },\n  {\n    symbol: \"\",\n    name: \"winner\",\n  },\n  {\n    symbol: \"\",\n    name: \"gamepad\",\n  },\n  {\n    symbol: \"\",\n    name: \"pointer\",\n  },\n  {\n    symbol: \"\",\n    name: \"sex\",\n  },\n  {\n    symbol: \"\",\n    name: \"heart\",\n  },\n  {\n    symbol: \"\",\n    name: \"heartBroken\",\n  },\n  {\n    symbol: \"\",\n    name: \"folder\",\n  },\n  {\n    symbol: \"\",\n    name: \"ruler\",\n  },\n  {\n    symbol: \"\",\n    name: \"spaceman\",\n  },\n  {\n    symbol: \"\",\n    name: \"ship\",\n  },\n  {\n    symbol: \"\",\n    name: \"browser\",\n  },\n  {\n    symbol: \"\",\n    name: \"flower\",\n  },\n  {\n    symbol: \"\",\n    name: \"snake\",\n  },\n  {\n    symbol: \"\",\n    name: \"theater\",\n  },\n  {\n    symbol: \"\",\n    name: \"kinocamera\",\n  },\n  {\n    symbol: \"\",\n    name: \"alchemy\",\n  },\n  {\n    symbol: \"\",\n    name: \"judge\",\n  },\n  {\n    symbol: \"\",\n    name: \"ski\",\n  },\n  {\n    symbol: \"\",\n    name: \"beer\",\n  },\n  {\n    symbol: \"\",\n    name: \"germany\",\n  },\n  {\n    symbol: \"\",\n    name: \"cock\",\n  },\n  {\n    symbol: \"\",\n    name: \"robot\",\n  },\n  {\n    symbol: \"\",\n    name: \"empathy\",\n  },\n]\n\nexport default emojis","export default __webpack_public_path__ + \"static/media/greenfrog.3c967fa8.png\";","export default __webpack_public_path__ + \"static/media/arsenyan.1dd7f172.png\";","import React, { Component } from 'react'\n\nimport Dropdown from 'components/Form/Dropdown'\nimport { EmojiByName } from 'components/Emoji'\nimport StoreContext from 'libs/engines/data/store/StoreContext'\n\n\nclass NameSearch extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      currentOptions: [],\n    }\n    this.dropdownRef = React.createRef()\n  }\n\n  updateOptions = value => {\n    if (typeof value === \"undefined\" || value.length === 0)\n      this.setState({currentOptions: []})\n    else {\n      const options = this.context.store.search({name: value, userName: value})\n        .slice(0, this.props.optionsNumber || (window.innerHeight > 736 ? 7 : 5))\n        .map(option => ({\n          value: option,\n          style: {':hover': {\n            backgroundColor: `var(--weight-color-${option.connections})`,\n          }},\n          render: <p className=\"p\">\n              {option.name} {option.emoji && <EmojiByName name={option.emoji} />} <em>{option.userName ? ` (@${option.userName})` : \"\"}</em>\n            </p>\n        }))\n      this.setState({currentOptions: options})\n    }\n  }\n\n  close = () => this.dropdownRef.current && this.dropdownRef.current.close()\n\n  render = () => (\n    <Dropdown\n      ref={this.dropdownRef}\n      input\n      keepValue\n      value={(this.props.node && this.props.node.name) || \"\"}\n      options={this.state.currentOptions}\n      updateOptions={value => this.updateOptions(value)}\n      onChange={value => this.props.onChange(value)}\n      placeholder=\"Search...\"\n      showReset\n      onKeyDown={this.props.onKeyDown}\n      className={this.props.className}\n    />\n  )\n}\n\nNameSearch.contextType = StoreContext\n\nexport default NameSearch","import React, { Component } from 'react'\n\n\nexport default class Select extends Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render = () => {\n    let { options, canBeUndefined } = this.props\n    if (canBeUndefined)\n      options = [{value: undefined, label: \"none\"}, ...options]\n\n    return (\n      <div className={\"my-select \" + this.props.className}>\n        {(options || [])\n          .map(optionIn => typeof optionIn === \"string\" ? ({value: optionIn, label: optionIn}) : optionIn)\n          .map(option => \n            <div\n              className={\"my-select__option \" + (this.props.value === option.value && \"my-select__option--selected\")}\n              key={option.label}\n              onClick={() => this.props.onChange(option.value)}\n            >\n              {option.label}\n            </div>  \n        )}\n      </div>\n  )}\n}","import React from 'react'\n\n\nexport default props =>\n  <div\n    className={`custom-checkbox ${props.value && \"custom-checkbox--checked\"} ${props.className}`}\n    onClick={() => props.onChange(!props.value)}\n  >\n    {props.children}\n  </div>","import React from 'react'\nimport myDate from 'libs/utils/myDate'\n\n//00 sec is OK\n//01 sec -- minutes unknown\n//02 sec -- hour unknown\n//03 sec -- day unknown\n//03 sec -- month unknown\n\nconst timeIsDefined = date => date.minute() !== 0 || date.hour() !== 0 ||\n  !(date.second === 0 || date.second > 3)\n\n//TODO bit mask for seconds\n//0001 01 sec -- minutes unknown\n//0010 02 sec -- hour unknown\n//0100 04 sec -- day unknown\n//1000 08 sec -- month unknown\nconst encodeTime = props => {\n  let {\n    year,\n    month,\n    day,\n    hour,\n    minute\n  } = props\n  let seconds = 0\n\n  if (typeof minute === \"undefined\" || minute === \"\") {\n    seconds = 1\n    minute = 1\n  }\n  if (typeof hour === \"undefined\" || hour === \"\") {\n    seconds = 2\n    hour = 1\n  }\n  if (typeof day === \"undefined\" || day === \"\") {\n    seconds = 3\n    day = 1\n  }\n  if (typeof month === \"undefined\" || month === \"\") {\n    seconds = 4\n    month = 1\n  }\n\n  const addZero = number => {\n    if (typeof number === \"number\")\n      return number < 10 ? (\"0\" + number) : number\n    if (typeof number === \"string\")\n      return number.length === 1 ? (\"0\" + number) : number\n    return number\n  }\n\n  const date = new Date(\n    `${year}-${addZero(month)}-${addZero(day)}T${addZero(hour)}:${addZero(minute)}:${addZero(seconds)}`\n  )\n\n  return date.getTime() / 1000\n}\n\nexport default props => {\n  const date = new myDate(props.date, \"RU\")\n\n  return (\n    <span className={props.className}>\n      {timeIsDefined(date) ? date.time() : \"?? : ??\"}\n    </span>\n  )\n}\n\nexport {\n  timeIsDefined,\n  encodeTime,\n}","import React, { Component, Fragment } from 'react'\n\nimport Input from 'components/Form/Input'\nimport KissTime, { encodeTime } from 'components/interface/Feed/KissTime'\n\nimport myDate from 'libs/utils/myDate'\n\n\nconst numbersToInput = {\n  day: { \n    range: [1, 31],\n    fn: \"day\",\n    label: \"dd\",\n    after: \"/\",\n  }, //TODO\n  month: {\n    range: [1, 12],\n    fn: \"month\",\n    label: \"mm\",\n    after: \"/\",\n  },\n  year: {\n    range: [-10000, 3000],\n    fn: \"year\",\n    label: \"yyyy\",\n  }, //TODO for Jesus\n  hour: {\n    range: [0, 23],\n    fn: \"hour\",\n    label: \"hh\",\n    after: \":\",\n  },\n  minute: {\n    range: [0, 59],\n    fn: \"minute\",\n    label: \"mm\",\n  }\n}\n\nconst numbersFromMyDateInstance = myDateInstance =>\n  Object.keys(numbersToInput)\n  .map(key => ({\n    [key + \"Str\"]: typeof myDateInstance === \"undefined\" ?\n      \"\"\n      :\n      myDateInstance[numbersToInput[key].fn]()\n  }))\n  .reduce((a, b) => ({...a, ...b}))\n\n\nexport default class DatePicker extends Component {\n  constructor(props) {\n    super(props)\n\n    let myDateInstance\n    if (typeof props.value !== \"undefined\" && props.value !== \"\")\n      myDateInstance = new myDate(props.value)\n\n    this.state = {\n      ...numbersFromMyDateInstance(myDateInstance),\n      myDateInstance: myDateInstance,\n      prevValue: props.value,\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.value !== state.prevValue) {\n      const myDateInstance = (props.value === \"\" || typeof props.value === \"undefined\") ?\n        undefined : new myDate(props.value)\n\n      state = {\n        ...state,\n        prevValue: props.value,\n        myDateInstance: myDateInstance,\n        ...numbersFromMyDateInstance(myDateInstance)\n      }\n    }\n\n    return state\n  }\n\n  recalcDate = (key, value) => {\n    let newState = {\n      ...this.state,\n      [key + \"Str\"]: value,\n    }\n\n    const myDateInstance = new myDate(\n      encodeTime(\n        Object.keys(numbersToInput)\n          .map(key => ({[key]: newState[key + \"Str\"]}))\n          .reduce((a, b) => ({...a, ...b}))\n      )\n    )\n\n    if (isNaN(myDateInstance.getTime()))\n      this.setState({\n        ...newState,\n        myDateInstance: myDateInstance\n      })\n    else\n      this.props.onChange(myDateInstance.getTime() / 1000)\n  }\n\n  render = () => (\n    <div className=\"custom-date-picker\">\n      <div className=\"custom-date-picker__label\">\n        {this.props.label}\n      </div>\n      <div className=\"custom-date-picker__inputs\">\n        {Object.keys(numbersToInput).map(key => (\n          <Fragment>\n            <Input\n              number\n              range={numbersToInput[key].range}\n              className={\"custom-date-picker__inputs__item custom-date-picker__inputs__item--\" + key}\n              value={this.state[key + \"Str\"]}\n              onChange={value => this.recalcDate(key, value)}\n              // placeholder={numbersToInput[key].label}\n              label={numbersToInput[key].label}\n              // onBlur={() => this.checkDate()}\n            />\n            <div className=\"custom-date-picker__inputs__after\">\n              {numbersToInput[key].after}\n            </div>\n          </Fragment>\n        ))}\n      </div>\n      <div className=\"custom-date-picker__res\">\n        {this.state.myDateInstance &&\n          (this.state.myDateInstance.time() + \" \" + this.state.myDateInstance.toStringDot() + \" \" + this.state.myDateInstance.getTime())\n        }\n      </div>\n    </div>\n  )\n}","import React, { Component } from 'react'\n\nimport Input from 'components/Form/Input'\nimport Checkbox from 'components/Form/Checkbox'\nimport Select from 'components/Form/Select'\nimport DatePicker from 'components/Form/DatePicker'\n\n\nexport default class Form extends Component {\n  constructor(props) {\n    super(props)\n  }\n\n  renderKey = key => {\n    const { model, state, setState } = this.props\n\n    switch (model[key].type) {\n      case \"boolean\":\n        return (\n          <Checkbox\n            key={key}\n            className=\"edit-node__checkbox\"\n            value={state[key]}\n            onChange={value => setState({[key]: value})}\n          >\n            {key}\n          </Checkbox>\n        )\n      case \"select\":\n        return (\n          <Select\n            key={key}\n            className=\"edit-node__select\"\n            value={state[key]}\n            onChange={value => setState({[key]: value})}\n            options={model[key].options}\n            canBeUndefined={model[key].canBeUndefined}\n            label={key}\n          />\n        )\n      case \"date\":\n        return (\n          <DatePicker\n            value={state[key]}\n            onChange={value => setState({[key]: value})}\n            label={key}\n          />\n        )\n      default:\n        return (\n          <Input\n            key={key}\n            className=\"edit-node__input\"\n            value={state[key]}\n            onChange={value => setState({[key]: value})}\n            label={key}\n          />\n        )\n    }\n  }\n\n  render = () =>\n    Object.keys(this.props.model)\n      .map(key => this.renderKey(key))\n}","import React, { Component, Fragment } from 'react'\nimport _ from 'lodash'\n\nimport StoreContext from 'libs/engines/data/store/StoreContext'\nimport NameSearch from 'components/interface/NameSearch'\nimport Select from 'components/Form/Select'\nimport Form from './Form'\n\nimport personModel from 'libs/engines/data/store/models/person'\nimport conceptModel from 'libs/engines/data/store/models/concept'\n\nimport {\n  editableFields,\n  flattenEditableModel,\n  flattenNewInstance,\n  deflattenDataByModel,\n  isPerson\n} from 'libs/engines/data/store/models'\nimport {\n  flatten,\n  filterKeys,\n  undefinedToEmptyString,\n} from 'libs/utils/objectUtils'\n  \n\nclass EditNode extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      currentModel: personModel,\n    }\n    this.nameSearchRef = React.createRef()\n  }\n\n  createEmptyNode = (name, model) => {\n    const currentModel = model || this.state.currentModel\n    let instance = {\n      ...flattenNewInstance(this.state.currentModel),\n      name: name,\n    }\n\n    if (isPerson(currentModel)) {\n      let target = this.context.threeSceneRef?.current?.controls?.target\n\n      instance = {\n        ...instance,\n        \"pos.x\": target?.x + Math.random() / 2 - .25,\n        \"pos.y\": target?.y + Math.random() / 2 - .25,\n        \"pos.z\": target?.z + Math.random() / 2 - .25,\n      }\n    }\n\n    return instance\n  }\n\n  setNode = input => {\n    let { currentModel } = this.state\n    let node\n\n    if (input === null || typeof input === \"undefined\" || input.name === null || input.name === \"\")\n      node = this.createEmptyNode(input.name)\n    else {\n      node = input\n      if (typeof input.id !== \"undefined\")\n        if (isPerson(node)) {\n          currentModel = personModel\n          this.context.threeSceneRef && this.context.threeSceneRef.current.setCamera(node.pos)\n        }\n        else\n          currentModel = conceptModel\n\n      node = {\n        ...this.createEmptyNode(node.name, currentModel),\n        ...flatten(filterKeys(node, {\n          id: {}, //so actual id will not be filtered\n          ...editableFields(personModel)\n        }))\n      }\n    }\n\n    this.props.setNodeId(node.id)\n    this.setState({currentModel: currentModel})\n    this.setState(undefinedToEmptyString(flatten(node)))\n  }\n\n  save = async () => {\n    const nodeFromStore = await this.context.store\n      .push(deflattenDataByModel(this.state, this.state.currentModel))\n    this.setNode(nodeFromStore)\n  }\n  delete = async () => {\n    await this.context.store\n      .delete(deflattenDataByModel(this.state, this.state.currentModel))\n    this.setNode({name: null})\n  }\n\n  onEnterPress = e => {\n    if (e.keyCode === 13) {\n      this.setNode({name: e.target.value})\n      this.nameSearchRef.current && this.nameSearchRef.current.close()\n    }\n  }\n\n  render = () => {\n    const isNew = typeof this.state.id !== \"number\"\n    const { name, currentModel } = this.state\n\n    return (\n      <div className=\"edit-node\">\n        <NameSearch\n          ref={this.nameSearchRef}\n          node={this.state}\n          onChange={value => this.setNode(value)}\n          onKeyDown={e => this.onEnterPress(e)}\n          className=\"mb-4\"\n          optionsNumber={15}\n        />\n        {this.state.name && this.state.name.length > 0 && (\n          <Fragment>\n            <button\n              className=\"edit-node__button\"\n              onClick={() => this.save()}\n            >\n              {isNew ? \"Add\" : \"Update\"}\n            </button>\n            {!isNew &&\n              <button\n                className=\"edit-node__button\"\n                onClick={() => this.delete()}\n              >\n                Delete\n              </button>\n            }\n            {isNew &&\n              <Select\n                value={this.state.currentModel}\n                onChange={model => this.setState({\n                  ...this.createEmptyNode(name, model),\n                  currentModel: model\n                })}\n                options={[\n                  {value: personModel, label: \"Person\"},\n                  {value: conceptModel, label: \"Concept\"},\n                ]}\n                label={\"node type\"}\n              />\n            }\n            <Form\n              state={this.state}\n              setState={this.setState.bind(this)}\n              model={flattenEditableModel(currentModel)}\n            />\n          </Fragment>        \n        )}\n      </div>\n    )\n  }\n}\n\nEditNode.contextType = StoreContext\n\nexport default EditNode\n","import React, { Component, Fragment } from 'react'\n\nimport StoreContext from 'libs/engines/data/store/StoreContext'\nimport Neo4j from 'components/intermediate/Neo4j'\nimport EditNode from './EditNode'\n\nimport Checkbox from 'components/Form/Checkbox'\nimport myDate from 'libs/utils/myDate'\nimport DatePicker from 'components/Form/DatePicker'\nimport Select from 'components/Form/Select'\n\nimport edgeModel from 'libs/engines/data/store/models/edge'\nimport { newInstance } from 'libs/engines/data/store/models'\nimport {\n  undefinedToEmptyString,\n  emptyStringToUndefined,\n} from 'libs/utils/objectUtils'\n\n\nconst dates = [\"commited\", \"told\", \"published\"]\nconst sameDate = 1643986500\n\nclass Kontrol extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      node0: undefined,\n      node1: undefined,\n      ...dates.map(date => ({[date]: undefined}))\n      .reduce((a, b) => ({...a, ...b})),\n      hidden: false,\n      publishedInstantly: false,\n      editingEdge: false,\n      type: \"KISS\",\n\n      recalcInProcess: false,\n    }\n  }\n\n  componentDidMount = () =>\n    this.context.textInterfaceRef.current &&\n    this.context.textInterfaceRef.current.openWorkspace &&\n    this.context.textInterfaceRef.current.openWorkspace()\n\n  pushEdge = async () => {\n    const { node0, node1 } = this.state\n\n    if (node0 === -1 || node1 === -1)\n      return\n\n    let edge = this.state\n    if (typeof this.state.id === \"undefined\")\n      edge.published = Math.round((new myDate()).getTime() / 1000)\n\n    if (this.state.publishedInstantly)\n      edge.told = edge.published\n\n    await this.context.store.push(emptyStringToUndefined(edge))\n    this.context.store.copyData()\n  }\n  deleteEdge = async () => {\n    const { node0, node1 } = this.state\n\n    if (node0 === -1 || node1 === -1)\n      return\n\n    let edge = this.state\n    await this.context.store.delete(emptyStringToUndefined(edge))\n    this.context.store.copyData()\n  }\n\n  createEmptyEdge = (node0, node1) => ({\n    ...newInstance(edgeModel),\n    // id: node0 + \"-\" + node1,\n    node0: node0,\n    node1: node1,\n  })\n\n  setNodeId = (nodeId, nodeNameInState) => {\n    this.setState({[nodeNameInState]: nodeId})\n\n    let nodes = {\n      node0: this.context.store.get({id: this.state.node0}),\n      node1: this.context.store.get({id: this.state.node1}),\n    }\n    //state is not updated yet\n    nodes[nodeNameInState] = this.context.store.get({id: nodeId})\n    const { node0, node1 } = nodes\n\n    //try find edge\n    if (node0 !== null && node1 !== null) {\n      let edge = {}\n      const typeNamesMap = {\n        KISS: \"mates\",\n        MARRIED: \"sposes\",\n        DEBATED: \"debated\",\n        SEX: \"sex\",\n        DATE: \"date\",\n        BREAKUP: \"breakup\",\n      }\n      const arrayName = typeNamesMap[this.state.type]\n\n      if (node0[arrayName].length > 0 && node1[arrayName].length > 0) {\n        const mateIndex = node0[arrayName].map(mate => mate.id).indexOf(node1.id)\n      \n        if (mateIndex !== -1) {\n          edge = this.context.store.get({edgeId: node0[arrayName][mateIndex].edgeId})\n          this.setState({editingEdge: true})\n        }\n      } else {\n        edge = {\n          ...this.createEmptyEdge(node0.id, node1.id),\n          type: this.state.type,\n        }\n        this.setState({editingEdge: false})\n      }\n\n      edge = {\n        ...this.createEmptyEdge(node0.id, node1.id),\n        ...edge,\n        // told: sameDate\n      }\n\n      Object.keys(undefinedToEmptyString(edge))\n        .forEach(key => this.setState({[key]: edge[key]}))\n    }\n  }\n\n  toggleCalc = () => {\n    let tmp = this.context.threeSceneRef?.current?.toggleUnits()\n    this.setState({recalcInProcess: !this.state.recalcInProcess})\n  }\n\n  pauseCalc = () => {\n    let tmp = this.context.threeSceneRef?.current?.units?.graphCalc.pause()\n  }\n  saveCalc = async () => {\n    this.pauseCalc()\n    let tmp = await this.context.threeSceneRef?.current?.units?.graphCalc.save()\n    await this.context.store.update()\n    this.toggleCalc()\n  }\n\n  render() {\n    return (\n      <div className=\"kontrol\">\n        <Neo4j />\n        <button\n          className=\"button\"\n          onClick={() => this.toggleCalc()}\n        >\n          {this.state.recalcInProcess ? \"cancel\" : \"recalc\"}\n        </button>\n        {this.state.recalcInProcess && (\n          <Fragment>\n            <button\n              className=\"button\"\n              onClick={() => this.pauseCalc()}\n            >\n              {this.state.recalcInProcess ? \"pause\" : \"play\"}\n            </button>\n            <button\n              className=\"button\"\n              onClick={() => this.saveCalc()}\n            >\n              save\n            </button>\n          </Fragment>\n        )}\n        <Select\n          value={this.state.type}\n          onChange={value => this.setState({type: value})}\n          options={edgeModel.type.options}\n          label=\"edgeType\"\n        />\n        {this.state.node0 && this.state.node1 &&\n          <div className=\"date-pickers\">\n            {\n              (this.state.publishedInstantly ? [\"commited\"] : dates)\n                .map(date =>\n                  <DatePicker\n                    value={this.state[date]}\n                    onChange={value => this.setState({[date]: value})}\n                    label={date}\n                  />\n                )\n            }\n\n            <Checkbox\n              className=\"edit-node__checkbox\"\n              value={this.state.hidden}\n              onChange={value => this.setState({hidden: value})}\n            >\n              hidden\n            </Checkbox>\n            <Checkbox\n              className=\"edit-node__checkbox\"\n              value={this.state.publishedInstantly}\n              onChange={value => this.setState({publishedInstantly: value})}\n            >\n              publishedInstantly\n            </Checkbox>\n\n            <button\n              className=\"date-pickers__button\"\n              onClick={() => this.pushEdge()}\n            >\n              {this.state.editingEdge ? \"Update\" : \"Connect\"}\n            </button>\n            {this.state.editingEdge &&\n              <button\n                className=\"date-pickers__button\"\n                onClick={() => this.deleteEdge()}\n              >\n                Delete\n              </button>\n            }\n          </div>\n        }\n        <div className=\"\">\n          <EditNode\n            node={this.state.nodeA}\n            setNodeId={nodeId => this.setNodeId(nodeId, \"node0\")}\n          />\n          <EditNode\n            node={this.state.nodeB}\n            setNodeId={nodeId => this.setNodeId(nodeId, \"node1\")}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nKontrol.contextType = StoreContext\n\nexport default Kontrol\n","const preventDefault = event => event.preventDefault()\n\nconst registerListeners = element => {\n  element.addEventListener( 'wheel', preventDefault, { passive: false } )\n  // element.addEventListener( 'touchstart', preventDefault, { passive: false } )\n  // element.addEventListener( 'touchend', preventDefault, { passive: false } )\n  element.addEventListener( 'touchmove', preventDefault, { passive: false } )\n}\n\nconst unregisterListeners = element => {\n  element?.removeEventListener?.( 'wheel', preventDefault, { passive: false } )\n  // element.removeEventListener( 'touchstart', preventDefault, { passive: false } )\n  // element.removeEventListener( 'touchend', preventDefault, { passive: false } )\n  element?.removeEventListener?.( 'touchmove', preventDefault, { passive: false } )\n}\n\nexport { registerListeners, unregisterListeners }","import React from 'react'\n\nimport { Link } from 'react-router-dom'\n\nimport { EmojiByName } from 'components/Emoji'\nimport myDate from 'libs/utils/myDate'\nimport isProduction from 'libs/utils/isProduction'\n\n\nconst renderPropValue = props => {\n  switch (props.prop) {\n    case \"IQ\":\n      return props.user.iq\n    case \"mass\":\n      return props.user.weight + \"kg\"\n    case \"height\":\n      return props.user.height + \"cm\"\n    case \"gay\":\n      return props.user.gay + \"%\"\n    case \"sposes\":\n      return props.user[props.prop].length\n    case \"date\":\n      return props.user[props.prop].length\n    case \"breakup\":\n      return props.user[props.prop].length\n    case \"debated\":\n      return props.user[props.prop].length\n    default:\n      return props.user[props.prop]\n  }\n}\n\nexport default props => {\n  if (props.simple)\n    return (\n      <div className=\"username-link username-link--simple\">\n        <div\n          className=\"link d-inline-flex flex-row align-items-center\"\n          // style={{color: `var(--weight-color-${props.user.connections}-gray)`}}\n          style={{color: `var(--weight-color-${props.user.connections})`}}\n          onClick={() => props.setNode(props.user)}\n        >\n          <div className='link__short-name'>\n            {props.user.userName ? (\"@\" + props.user.userName) : props.user.name}\n          </div>{props.emoji &&\n            <EmojiByName name={props.emoji} />}\n        </div>\n      </div>\n    )\n  if (props.prop)\n    return (\n      <div\n        className=\"username-link\"\n        key={props.user.name}\n        // style={{color: `var(--weight-color-${\n        //   (props.prop === \"bmim\" || props.prop === \"height\") ? props.user.am :\n        //   (props.prop === \"bmif\" || props.prop === \"height\") ? props.user.af :\n        //   props.user.connections\n        // })`}}\n        style={{color: `var(--weight-color-${props.user.connections})`}}\n      >\n        {typeof props.emoji === 'string' &&\n          <div className=\"username-link__type\">\n            <EmojiByName name={props.emoji} />\n          </div>\n        } \n        <div className=\"username-link__number\">\n          {renderPropValue(props)}\n          {/* {props.IQ && props.user.iq}\n          {props.mentalDisorder && props.user.mentalDisorder}\n          {props.gay && (props.user.gay + \"%\")} */}\n        </div>\n        <div className=\"username-link__name\">\n          <span\n            className=\"link\"\n            onClick={() => props.setNode(props.user)}\n          >\n            {props.user.userName ? (\"@\" + props.user.userName) : props.user.name}\n            {props.user.emoji && <EmojiByName name={props.user.emoji} />}\n          </span>\n        </div>\n        {props.date &&\n          <div className=\"username-link__date\">\n            {new myDate(props.date).toStringDot()}\n          </div>}\n      </div>\n    )\n  return (\n    <div\n      className=\"username-link\"\n      key={props.user.name}\n      style={{color: `var(--weight-color-${props.user.connections})`}}\n    >\n      {typeof props.emoji === 'string' &&\n        props.emojiLink ?\n          <Link\n            className=\"username-link__type\"\n            to={props.emojiLink}\n          >\n            <EmojiByName name={props.emoji} />\n          </Link>\n          :\n          <div className=\"username-link__type\">\n            <EmojiByName name={props.emoji} />\n          </div>\n      } \n      <div className=\"username-link__number\">\n        {props.user.connections}\n      </div>\n      <div className=\"username-link__name\">\n        <span\n          className=\"link\"\n          onClick={() => props.setNode(props.user)}\n        >\n          {props.user.userName ? (\"@\" + props.user.userName) : props.user.name}\n          {props.user.emoji && <EmojiByName name={props.user.emoji} />}\n        </span>\n      </div>\n      {!isProduction() && props.user.gender}\n      {props.date &&\n        <div className=\"username-link__date\">\n          {new myDate(props.date).toStringDot()}\n        </div>}\n    </div>\n  )\n}","import React, { Component } from 'react'\n\n\nconst defaultMinItems = 50\nconst defaultOffset = 50\n\nexport default class extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      shown: props.minItems || defaultMinItems,\n    }\n  }\n\n  render = () => (\n    <div className=\"List\">\n      {(this.props.items || [])\n        .slice(0, this.state.shown)\n        .map((item, index) => (\n          <div\n            key={index}\n            className=\"List__Item\"\n          >\n            {Array.isArray(item) ?\n              item.map((part, index2) => (\n                <div key={index + \" \" + index2}>\n                  {part}\n                </div>))\n              :\n              item\n            }\n          </div>\n        ))}\n      {(this.props.items || []).length > this.state.shown &&\n        <button\n          className=\"button--load-more\"\n          onClick={() => this.setState({shown: this.state.shown + (this.props.offset || defaultOffset)})}\n        >\n          Load more\n        </button>\n      }\n    </div>\n  )\n}\n","const openInNewTab = (url, focus) => {\n  const tab = window.open(url, '_blank')\n  focus && tab.focus()\n}\n\nexport default openInNewTab","import axios from 'axios'\nimport defaultPhoto from 'img/defaultPhoto.png'\n\nconst vkServiceKey = \"c04de2f0c04de2f0c04de2f07fc0274a03cc04dc04de2f09cac39268ba71a3c9507cdee\"\n\nconst getPhoto = async props => {\n  if (props.vk)\n    return (await axios\n      .get(`https://api.vk.com/method/users.get?user_id=${props.vk}&v=5.52&fields=photo_200,photo_400_orig&access_token=${vkServiceKey}`)\n      ).data\n  if (props.inst)\n    return (await axios\n      .get(`https://api.vk.com/method/users.get?user_id=${props.vk}&v=5.52&fields=photo_200,photo_400_orig&access_token=${vkServiceKey}`)\n      ).data\n  return defaultPhoto\n}\n\nconst getPostsByHashtag = async props =>\n  (await axios\n    .get(`https://api.vk.com/method/wall.search?owner_id=${props.owner_id}&v=5.103&query=#${props.hashtag}&fields=count&access_token=${vkServiceKey}`)\n  ).data\n\nexport {\n  getPhoto,\n  getPostsByHashtag\n}","import React, { Component } from 'react'\n\nimport { withRouter, Link } from 'react-router-dom'\n\nimport StoreContext from 'libs/engines/data/store/StoreContext'\nimport UserNameLink from 'components/interface/UserNameLink'\nimport List from 'components/interface/List'\nimport Emoji, { EmojiByName } from 'components/Emoji'\nimport ExternalLink from 'components/ExternalLink'\nimport { parseLinks } from 'libs/utils/social'\nimport isProduction from '../../libs/utils/isProduction'\nimport copyToClipboard from 'libs/utils/copyToClipboard'\nimport openInNewTab from 'libs/utils/openInNewTab'\nimport { getPostsByHashtag } from 'libs/utils/vkAPI'\n\n\nconst sortByTypePriority = [\n  \"DEBATED\",\n  \"KISS\",\n  \"BREAKUP\",\n  \"DATE\",\n  \"SEX\",\n  \"MARRIED\",\n]\n\n\nclass User extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      // showSecretLinks: !isProduction(),\n      showSecretLinks: true,\n      copied: false,\n      sortBy: \"date\",\n      orderDesc: true,\n    }\n\n    this.updateNumberOfHashtagPosts()\n  }\n\n  updateNumberOfHashtagPosts = async () => {\n    console.log(await getPostsByHashtag({\n      owner_id: \"-190713011\",\n      hashtag: this.props.node.hashtag,\n    }))\n  }\n\n  renderSocialLinks = node =>\n    node.social &&\n    parseLinks(node.social)\n      .map(link => link.url.length > 0 &&\n        link.noLink ?\n          <ExternalLink\n            key={link.url || link.noLink}\n            className=\"secret__link\"\n          >\n            {link.noLink}\n          </ExternalLink>\n          :\n          <ExternalLink\n            key={link.url || link.noLink}\n            to={\"https://\" + link.url}\n            newTab\n            className=\"secret__link\"\n          >\n            {link.label}\n          </ExternalLink>\n      )\n\n  renderProps = node => {\n    const propsMap = [\n      {\n        name: \"emoji\",\n        onClick: () => this.setState({showSecretLinks: !this.state.showSecretLinks}),\n        className: \"node-info__tags__item--emoji\",\n        // style: {background: `linear-gradient(var(--button-color) 50%, var(--weight-color-${node.connections}) 100%)`},\n        style: {backgroundColor: `var(--weight-color-${node.connections})`},\n        render: node =>\n          <EmojiByName name={node.emoji} />\n      },\n      {\n        name: \"name\",\n        onClick: () => {\n          copyToClipboard(`${node.hashtag ? `#${node.hashtag}@i_love_my_frens \\n` : \"\"}https://kiss-graph.com/node/${node.link}\\n`)\n          this.setState({copied: true})\n          setTimeout(() => this.setState({copied: false}), 10000)\n        },\n        render: () => <>\n          <Emoji.copy /> {this.state.copied ? \"Copied to clipboard\" : \"Share\"}\n        </>\n      },\n      {\n        name: \"specialSite\",\n        onClick: () => openInNewTab(node.specialSite),\n        render: () => <>\n          <EmojiByName name={node.specialSiteEmoji || \"world\"} /> {node.specialSiteName || node.name}\n        </>\n      },\n      {\n        name: \"hashtag\",\n        onClick: () => {\n          openInNewTab(`https://vk.com/wall-190713011?q=%23${node.hashtag}`, true)\n          node.hashtag2 && openInNewTab(`https://vk.com/wall-190713011?q=%23${node.hashtag2}`)\n        },\n        render: () => <>\n          #{node.hashtag}\n        </>\n      },\n      {\n        name: \"mentalDisorder\",\n        link: \"mental\",\n        text: \"/10 mental disorder\"\n      },\n      {\n        name: \"iq\",\n        render: () => {//REDO THIS SHIT: IQ SHOULD BE COUNTED FROM 1, 2 ON BACKEND\n          console.log(node) //REDO THIS SHIT: for unknown reason iq is shown in Production only with {} and this consol.log\n\n          return (\n            <>\n              <Emoji.IQ /> {typeof node.iq === \"string\" ?\n                node.iq :\n                (node.iq + (node.iq2 || node.iq)) >> 1} IQ\n            </>\n          )\n        }\n      },\n      {\n        name: \"eq\",\n        link: \"eq\",\n        render: () => <><Emoji.empathy /> {node.eq} EQ</>\n      },\n      {\n        name: \"weight\",\n        link: \"mass\",\n        render: () => <><Emoji.justice /> {node.weight} kg</>\n      },\n      {\n        name: \"height\",\n        render: () => <><Emoji.ruler />{node.height} cm</>\n      },\n      {\n        name: \"bmim\",\n        link: \"body-mass-index-male\",\n        render: () => <><Emoji.justice /> / <Emoji.ruler /> {node.bmim} BMI</>\n      },\n      {\n        name: \"bmif\",\n        link: \"body-mass-index-female\",\n        render: () => <><Emoji.justice /> / <Emoji.ruler /> {node.bmif} BMI</>\n      },\n      {\n        name: \"dead\",\n      },\n      {\n        name: \"offended\",\n        link: \"triggered\",\n        emoji: \"triggered\",\n        text: \" triggered\"\n      },\n      {\n        name: \"gay\",\n        text: \"% gay\"\n      },\n      {\n        name: \"sposes\",\n        link: \"marriages\",\n        render: () =>\n          <>\n            <Emoji.married /> {node.sposes.length}\n          </>\n      },\n      {\n        name: \"sex\",\n        render: () =>\n          <>\n            <Emoji.sex /> {node.sex.length}\n          </>\n      },\n      {\n        name: \"date\",\n        link: \"dates\",\n        render: () =>\n          <>\n            <Emoji.heart /> {node.date.length}\n          </>\n      },\n      {\n        name: \"breakup\",\n        link: \"break-ups\",\n        render: () =>\n          <>\n            <Emoji.heartBroken /> {node.breakup.length}\n          </>\n      },\n      {\n        name: \"debated\",\n        link: \"unrecognized\",\n        render: () =>\n          <>\n            <Emoji.womanBan /> {node.debated.length}\n          </>\n      },\n      {\n        name: \"mates\",\n        link: \"kisses\",\n        render: () =>\n          <>\n            <Emoji.kiss /> {node.connections}\n            {node.hiddenConnections ? <> ({node.hiddenConnections}<Emoji.hidden />)</> : \"\"}\n          </>\n      }\n    ]\n\n    return (\n      <div className=\"node-info__tags\">\n      {propsMap\n      .filter(prop =>\n        !(Array.isArray(node[prop.name]) && node[prop.name].length === 0))\n      .map(prop =>\n        typeof node[prop.name] !== \"undefined\" &&\n          <button\n            key={prop.name}\n            className={\"node-info__tags__item \" + prop.className}\n            style={prop.style}\n            onClick={prop.onClick ?\n              prop.onClick :\n              () => {\n                this.props.setNode(null, false, false)\n                this.props.history.push(\"/stats/\" + (prop.link || prop.name))\n              }}\n          >\n            {prop.render ? prop.render(node) :\n              <>\n                <EmojiByName name={prop.emoji || prop.name} />\n                {node[prop.name]}\n                {prop.text || prop.name}\n              </>\n            }\n          </button>\n        )\n      }\n      </div>\n    )\n  }\n\n  setSortBy = sortBy => this.setState({\n    sortBy: sortBy,\n    orderDesc: this.state.sortBy === sortBy ? !this.state.orderDesc : (sortBy !== \"name\")\n  })\n\n  renderConnections = connections =>\n    connections.length > 0 && (\n      <div className=\"node-info__connections\">\n        <div className=\"username-link username-link--sort\">\n          <div\n            className={\"username-link__type \" + (this.state.sortBy === \"type\" &&\n              (this.state.orderDesc ? \"desc-order\" : \"asc-order\"))}\n            onClick={() => this.setSortBy(\"type\")}\n          >\n            <Emoji.folder />\n          </div>\n          <div\n            className={\"username-link__number \" + (this.state.sortBy === \"number\" &&\n              (this.state.orderDesc ? \"desc-order\" : \"asc-order\"))}\n            onClick={() => this.setSortBy(\"number\")}\n          >\n            <Emoji.kiss />\n          </div>\n          <div\n            className={\"username-link__name \" + (this.state.sortBy === \"name\" &&\n              (this.state.orderDesc ? \"desc-order\" : \"asc-order\"))}\n            onClick={() => this.setSortBy(\"name\")}\n          >\n            name\n          </div>\n          <div\n            className={\"username-link__date \" + (this.state.sortBy === \"date\" &&\n              (this.state.orderDesc ? \"desc-order\" : \"asc-order\"))}\n            onClick={() => this.setSortBy(\"date\")}\n          >\n            commited\n          </div>\n        </div>\n        <List items={connections\n          .sort((a, b) => {\n            const { sortBy, orderDesc } = this.state\n            const multiplier = orderDesc ? 1 : -1\n\n            switch (sortBy) {\n              case \"type\":\n                return (sortByTypePriority.indexOf(b.type) - sortByTypePriority.indexOf(a.type)) * multiplier\n              case \"number\":\n                return (b.connections - a.connections) * multiplier\n              case \"name\":\n                const aName = a.userName || a.name\n                const bName = b.userName || b.name\n\n                return bName.localeCompare(aName) * multiplier\n              case \"date\":\n                return ((b[sortBy] || 0) - (a[sortBy] || 0)) * multiplier\n              default:\n                return (b[sortBy] - a[sortBy]) * multiplier\n            }\n          })\n          .map(connection =>\n            [<UserNameLink\n              key={connection.userName || connection.name}\n              user={connection}\n              setNode={this.props.setNode}\n              date={connection.date}\n              emoji={connection.typeEmoji}\n              emojiLink={`/edge/${connection.edgeId}`}\n            />]\n          )}\n        />\n      </div>\n    )\n          \n  render = () => {\n    let { node } = this.props\n\n    if (typeof node === \"undefined\")\n      return <></>\n\n    if (isProduction())\n      node = {\n        ...node,\n        sex: [],\n      }\n\n    let nodeProps = {\n      emoji: \"person\",\n      ...node,\n    }\n  \n    return (\n      <div className=\"node-info\">\n        {this.state.showSecretLinks &&\n          <div className=\"secret\">\n            {this.renderSocialLinks(node)}\n          </div>}\n        \n        {this.renderProps(nodeProps)}\n\n        {this.renderConnections([\n          ...node.sposes.map(spose => ({...spose, typeEmoji: \"married\"})),\n          ...node.debated.map(mate => ({...mate, typeEmoji: \"womanBan\"})),\n          ...node.mates.map(mate => ({...mate, typeEmoji: \"kiss\"})),\n          ...node.sex.map(spose => ({...spose, typeEmoji: \"sex\"})),\n          ...node.date.map(mate => ({...mate, typeEmoji: \"heart\"})),\n          ...node.breakup.map(mate => ({...mate, typeEmoji: \"heartBroken\"})),\n        ].sort((a, b) => b. connections - a.connections)\n        )}\n\n      </div>\n    )\n  }\n}\n\nUser.contextType = StoreContext\n\nexport default withRouter(User)","import React, { Component } from 'react'\n\nimport { withRouter } from 'react-router-dom'\nimport { format } from 'date-fns'\n\nimport StoreContext from 'libs/engines/data/store/StoreContext'\nimport Emoji from 'components/Emoji'\nimport UserNameLink from 'components/interface/UserNameLink'\n\n\nclass Edge extends Component {\n\n  static contextType = StoreContext\n\n  renderEmoji = edge => {\n    switch (edge.type) {\n      case \"DATE\":\n        return <Emoji.heart />\n      case \"BREAKUP\":\n        return <Emoji.heartBroken />\n      case \"DEBATED\":\n        return <Emoji.womanBan />\n      case \"MARRIED\":\n        return <Emoji.married />\n      case \"SEX\":\n        return <Emoji.sex />\n      default:\n        return <Emoji.kiss />\n    }\n  }\n\n  render = () => {\n    const edge = this.context.store.get({\n      edgeId: parseInt(this.props.location.pathname.replace('/edge/', ''))\n    })\n    \n    if (typeof edge === \"undefined\")\n    return <></>\n    \n    const node0 = this.context.store.get({ id: edge.node0 })\n    const node1 = this.context.store.get({ id: edge.node1 })\n\n    return (\n      <div className=\"node-info\">\n\n        <UserNameLink\n          user={node0}\n          // emoji={node0.emoji}\n          setNode={this.props.setNode}\n        />\n        <div\n          className='edge-link'\n        >\n        <div className='ml-5'>\n           {this.renderEmoji(edge)} \n        </div>\n        </div>\n        <UserNameLink\n          user={node1}\n          // emoji={node1.emoji}\n          setNode={this.props.setNode}\n        />\n        \n        <br />\n        <br />\n        {['published', 'told', 'commited']\n          .map(dateType =>\n            edge.hasOwnProperty(dateType) &&\n              <div>\n                {dateType}: {format(new Date(edge[dateType] * 1000), 'HH:mm dd.MM.yyyy')}\n              </div>\n        )}\n\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Edge)","const clamp = (value, min, max) => Math.max(min, Math.min(value, max))\n\nexport {\n  clamp\n}","import React, { Component } from 'react'\n\nimport { clamp } from 'libs/utils/math'\n\n\nexport default class MobileExpander extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      maxHeight: 0,\n      state: \"closed\",\n      prevousState: \"closed\",\n      initialY: undefined,\n      currentY: undefined,\n      prevousY: undefined,\n    }\n    this.draggableArrowRef = new React.createRef()\n  }\n\n  componentDidMount() {\n    const element = this.draggableArrowRef.current\n\n    element.addEventListener( 'touchstart', this.onTouchStart.bind(this), { passive: false } )\n    element.addEventListener( 'touchend', this.onTouchEnd.bind(this), { passive: false } )\n    window.addEventListener( 'touchmove', this.onTouchMove.bind(this), { passive: false } )\n\n    element.addEventListener( 'mousedown', this.onTouchStart.bind(this), { passive: false } )\n    element.addEventListener( 'mouseup', this.onTouchEnd.bind(this), { passive: false } )\n    window.addEventListener( 'mousemove', this.onTouchMove.bind(this), { passive: false } )\n\n    window.addEventListener('resize', this.updateMaxHeight.bind(this))\n    window.addEventListener('orientationchange', this.updateMaxHeight.bind(this))\n    this.updateMaxHeight()\n    \n    const { prevLocation, node, edge } = this.props\n\n    if (prevLocation === \"/news\" ||\n      (typeof prevLocation === \"undefined\" && typeof node !== \"undefined\") ||\n      (typeof prevLocation === \"undefined\" && typeof edge !== \"undefined\")\n    )\n      setTimeout(() =>  this.open(), 50)\n  }\n  componentWillUnmount() {\n    const element = this.draggableArrowRef.current\n\n    element.removeEventListener( 'touchstart', this.onTouchStart.bind(this), { passive: false } )\n    window.removeEventListener( 'touchend', this.onTouchEnd.bind(this), { passive: false } )\n    window.removeEventListener( 'touchmove', this.onTouchMove.bind(this), { passive: false } )\n\n    element.addEventListener( 'mousedown', this.onTouchStart.bind(this), { passive: false } )\n    window.addEventListener( 'mouseup', this.onTouchEnd.bind(this), { passive: false } )\n    window.addEventListener( 'mousemove', this.onTouchMove.bind(this), { passive: false } )\n\n    window.removeEventListener('resize', this.updateMaxHeight.bind(this))\n    window.removeEventListener('orientationchange', this.updateMaxHeight.bind(this))\n  }\n\n  updateMaxHeight = () => this.setState({maxHeight: Math.floor((window.innerHeight - 80) * .8)})\n\n  onTouchStart = event => {\n    event.preventDefault()\n    if (event.touches && event.touches.length !== 1)\n      return\n    \n    this.setState({\n      state: \"moving\",\n      prevousState: this.state.state,\n      initialY: event.touches ? event.touches[0].screenY : event.clientY,\n      currentY: event.touches ? event.touches[0].screenY : event.clientY,\n      prevousY: event.touches ? event.touches[0].screenY : event.clientY,\n    })\n  }\n  onTouchEnd = event => {\n    if (this.state.state !== \"moving\")\n      return\n\n    event.preventDefault()\n\n    const deltaY = this.calculateDeltaY()\n    const speed = this.state.currentY - this.state.prevousY\n    let state = deltaY > (this.state.maxHeight / 2) ? \"opened\" : \"closed\"\n    if (Math.abs(speed) > 12.5)\n      state = speed > 0 ? \"opened\" : \"closed\"\n\n    this.setState({\n      state: state,\n      prevousState: this.state.state,\n      initialY: 0,\n      currentY: 0,\n      prevousY: 0,\n    })\n  }\n  onTouchMove = event => {\n    if (this.state.state !== \"moving\")\n      return\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    this.setState({\n      prevousState: this.state.state === \"moving\" ? this.state.prevousState : this.state.state,\n      prevousY: this.state.currentY,\n      currentY: event.touches ? event.touches[0].screenY : event.clientY,\n    })\n  }\n\n  calculateDeltaY = () => {\n    let delta\n\n    if (this.state.prevousState === \"closed\")\n      delta = clamp(this.state.currentY - this.state.initialY, 0, this.state.maxHeight)\n    else\n      delta = clamp(this.state.maxHeight + this.state.currentY - this.state.initialY, 0, this.state.maxHeight)\n\n    return delta\n  }\n\n  open = () => {\n    this.setState({\n      state: \"moving\",\n      prevousState: \"closed\",\n      initialY: 1,\n      currentY: 1,\n    })\n\n    setTimeout(() => \n      this.setState({\n        state: \"opened\",\n        prevousState: \"moving\",\n        initialY: 0,\n        currentY: 0,\n        prevousY: 0,\n      })\n    , 50)\n  }\n\n  render = () => {\n    const deltaY = this.calculateDeltaY()\n    let heightStyle = {}\n\n    if (this.state.state === \"moving\")\n      heightStyle = {height: deltaY + \"px\"}\n    if (this.state.state === \"opened\" || this.state.state === \"opening\")\n      heightStyle = {height: this.state.maxHeight + \"px\"}\n    \n    return (\n      <div className=\"mobile-expander\">\n        <div className=\"mobile-expander__abs-container\">\n          <div\n            className={\"mobile-expander__expanding-content-container \" + this.state.state}\n            style={heightStyle}\n          >\n            <div\n              className={\"mobile-expander__static-content-container\"}\n              style={{height: this.state.maxHeight + \"px\"}}\n            >\n              {this.props.children}\n            </div>\n          </div>\n          <div\n            className={\"mobile-expander__draggable-arrow \" + this.state.state}\n            ref={this.draggableArrowRef}\n          />\n        </div>\n      </div>\n    )\n  }\n}","import React, { Component, Fragment } from 'react'\nimport { withRouter } from 'react-router-dom'\n\n\nclass RadioHeader extends Component {\n  constructor(props) {\n    super(props)\n\n    let options = Object.keys(props.options)\n    let currentOption = options[0]\n\n    if (props.initialOption && options.includes(props.initialOption))\n      currentOption = props.initialOption\n    if (props.initialOptionFromURL) {\n      let URLparams = props.location.pathname.split('/')\n      let matchingURLparams = URLparams.filter(param => options.includes(param))\n\n      if (matchingURLparams.length > 0)\n        currentOption = matchingURLparams[0]\n    }\n\n    this.state = {\n      currentOption: currentOption\n    }\n  }\n\n  componentDidMount = () => this.switchOption(this.state.currentOption)\n\n  static getDerivedStateFromProps = (props, state) => {\n    if (props.affectURL) {\n      let options = Object.keys(props.options)\n      let URLparams = props.location.pathname.split('/')\n      let matchingURLparams = URLparams.filter(param => options.includes(param))\n      if (matchingURLparams.length > 0)\n        state.currentOption = matchingURLparams[0]\n    }\n    return null\n  }\n\n  switchOption = option => {\n    this.setState({currentOption: option})\n\n    const newURL = (this.props.prevURL || \"\") + option\n    if (this.props.affectURL && newURL !== this.props.location.pathname) {\n      this.props.history.push(newURL)\n    }\n    if (this.props.options[option].title)\n      document.title = this.props.options[option].title\n  }\n\n  render = () => (\n    <Fragment>\n      <div className={\"radio-header \" + (this.props.buttons && \"radio-header--buttons\")}>\n        {Object.keys(this.props.options).map(key => {\n          const option = this.props.options[key]\n          const label = typeof option === \"string\" ? option : option.label()\n\n          return (\n            <div\n              key={key}\n              className={\"radio-header__option \" + (this.state.currentOption === key && \"radio-header__option--selected\")}\n              onClick={() => this.switchOption(key)}\n            >\n              {label}\n            </div>\n        )})}\n      </div>\n      {this.props.options[this.state.currentOption].content()}\n    </Fragment>\n  )\n}\n\nexport default withRouter(RadioHeader)","import React, { Component } from 'react'\n\nimport { Link } from 'react-router-dom'\n\nimport StoreContext from 'libs/engines/data/store/StoreContext'\nimport RadioHeader from 'components/interface/RadioHeader'\nimport UserNameLink from 'components/interface/UserNameLink'\nimport KissTime from 'components/interface/Feed/KissTime'\nimport Emoji, { EmojiByName } from 'components/Emoji'\nimport myDate from 'libs/utils/myDate'\nimport { insertIntoSortedArray } from 'libs/utils/sort'\nimport isProduction from '../../../libs/utils/isProduction'\n\n\nconst minItemsShown = 150\nconst itemsOffset = 50\n\nexport default class Feed extends Component {\n  constructor(props) {\n    super(props)\n\n    this.options = [\"published\", \"told\", \"commited\"]\n    this.optionsEmoji = {\n      told: \"told\",\n      published: \"world\",\n      commited: \"kiss\",\n    }\n\n    this.edgesArraysByOption = this.options\n      .map(option => ({[option]: []}))\n      .reduce((a, b) => ({...a, ...b}))\n\n    this.state = {\n      ...this.options.map(option => ({[option + \"Shown\"]: minItemsShown}))\n        .reduce((a, b) => ({...a, ...b}))\n    }\n  }\n\n  static contextType = StoreContext\n\n  componentDidMount() {\n    const edges = this.context.store.get().edges.filter(edge => edge.type !== \"SEX\" || !isProduction())\n\n    edges.forEach(edge =>\n      this.options.forEach(option => {\n        if (edge.hasOwnProperty(option))\n          insertIntoSortedArray(this.edgesArraysByOption[option], edge, (a, b) => a[option] - b[option])\n      }))\n    \n    this.options.forEach(option =>\n      this.setState({\n        [option]: this.slowEdgesParser(\n          this.edgesArraysByOption[option]\n            .slice(0, minItemsShown)\n          , option)\n    }))\n  }\n\n  slowEdgesParser = (edges, type) => {\n    let flag = false\n    const mapNodesToEdges = edges => edges\n      .map((edge, index) => {\n        const node0 = this.context.store.get({id: edge.node0})\n        const node1 = this.context.store.get({id: edge.node1})\n\n        return {\n          ...edge,\n          node0: {\n            id: node0.id,\n            name: node0.name,\n            userName: node0.userName,\n            link: node0.link,\n            connections: node0.connections,\n            emoji: node0.emoji,\n          },\n          node1: {\n            id: node1.id,\n            name: node1.name,\n            userName: node1.userName,\n            link: node1.link,\n            connections: node1.connections,\n            emoji: node1.emoji,\n          },\n        }\n      })\n\n    const groupByDays = (edges, type) => {\n      let days = []\n\n      edges.forEach(edge => {\n        const date = new myDate(edge[type]).toStringDot()\n        let dayIndex = days.map(day => day.date).indexOf(date)\n\n        if (dayIndex === -1) {\n          days.push({\n            date: date,\n            entries: [],\n          })\n          dayIndex = days.length - 1\n        }\n\n        days[dayIndex].entries.push(edge)\n      })\n\n      return days\n    }\n\n    return groupByDays(mapNodesToEdges(edges), type)\n  }\n\n  renderEmoji = edge => {\n    switch (edge.type) {\n      case \"DATE\":\n        return <Emoji.heart />\n      case \"BREAKUP\":\n        return <Emoji.heartBroken />\n      case \"DEBATED\":\n        return <Emoji.womanBan />\n      case \"MARRIED\":\n        return <Emoji.married />\n      case \"SEX\":\n        return <Emoji.sex />\n      default:\n        return <Emoji.kiss />\n    }\n  }\n  renderKisses = type => this.state[type] && this.state[type]\n    .map(day => (\n      <div\n        key={day.date}\n        className=\"kiss-day\"\n      >\n        <div className=\"kiss-day__date\">\n          {day.date}\n        </div>\n        <div className=\"kiss-day__entries\">\n          {day.entries.map(entry => (\n            <div\n              key={entry.id}\n              className=\"kiss-day__entries__item\"\n            >\n              <KissTime\n                date={entry[type]}\n                className=\"kiss-day__entries__item__time\"\n              />\n              <UserNameLink\n                simple\n                user={entry.node0}\n                emoji={entry.node0.emoji}\n                setNode={this.props.setNode}\n              />\n              <Link\n                to={`/edge/${entry.id}`}\n                className='edge-link'\n              >\n                {this.renderEmoji(entry)} \n              </Link>\n              <UserNameLink\n                simple\n                user={entry.node1}\n                emoji={entry.node1.emoji}\n                setNode={this.props.setNode}\n              />\n            </div>\n          ))}\n        </div>\n      </div>\n    ))\n\n  renderShowMore = type => (\n    <button\n      className=\"button--load-more\"\n      onClick={() => {\n        const currentArray = this.state[type]\n        const currentlyShown = this.state[type + \"Shown\"]\n        const additionalArray = this.slowEdgesParser(\n          this.edgesArraysByOption[type]\n            .slice(currentlyShown, currentlyShown + itemsOffset)\n          , type)\n        let mergedArray\n\n        if (currentArray[currentArray.length - 1].date === additionalArray[0].date) {\n          mergedArray = [\n            ...(currentArray.length > 1 ? currentArray.slice(0, -1) : []), //surprisingly .slice() doesn't return []\n            {\n              date: additionalArray[0].date,\n              entries: [\n                ...currentArray[currentArray.length - 1].entries,\n                ...additionalArray[0].entries,\n              ]\n            },\n            ...(additionalArray.length > 1 ? additionalArray.slice(-1) : [])\n          ]\n        } else \n          mergedArray = [\n            ...currentArray,\n            ...additionalArray\n          ]\n          \n          this.setState({\n            [type]: mergedArray,\n          [type + \"Shown\"]: currentlyShown + itemsOffset\n        })\n      }}\n    >\n      Load more\n    </button>\n  )\n\n  render = () => (\n    <RadioHeader\n      initialOptionFromURL\n      affectURL\n      prevURL=\"/news/\"\n      options={\n        this.options\n          .map(option => ({[option]: {\n            title: \"Kiss Graph: News / \" + option,\n            label: () => <>{option}<EmojiByName name={this.optionsEmoji[option]} /></>,\n            content: () => <>\n              {this.renderKisses(option)}\n              {this.state[option + \"Shown\"] < this.edgesArraysByOption[option].length &&\n                this.renderShowMore(option)\n              }\n            </>,\n          }}))\n          .reduce((a, b) => ({...a, ...b}))\n      }\n    />\n  )\n}","const binarySearch = (array, element, compare_fn) => {\n  if (array.length === 0 || compare_fn(element, array[0]) > 0)\n    return 0\n  if (compare_fn(element, array[array.length - 1]) < 0)\n    return array.length\n    \n  let first = 0,\n      last = array.length - 1\n\n  while (first <= last) {\n    const middle = (last + first) >> 1,\n          cmp = compare_fn(element, array[middle])\n\n    if (cmp > 0)\n      last = middle - 1\n    else\n      if (cmp < 0)\n        first = middle + 1\n      else\n        return middle\n  }\n\n  return first\n}\n\nconst insertIntoSortedArray = (array, element, compare_fn) => {\n  array.splice(binarySearch(array, element, compare_fn), 0, element)\n}\n\nexport {\n  insertIntoSortedArray\n}","import React, { Component } from 'react'\n\nimport RadioHeader from 'components/interface/RadioHeader'\nimport Emoji from 'components/Emoji'\nimport StoreContext from 'libs/engines/data/store/StoreContext'\nimport UserNameLink from 'components/interface/UserNameLink'\nimport List from 'components/interface/List'\nimport { genderDetermined } from 'libs/engines/data/hardcoded/meta/namesRecognition'\n\n\nclass Stats extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n\n    }\n  }\n  renderKisses = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.connections >= 2)\n        .sort((a, b) => b.connections - a.connections)\n        .map(node => [\n          <UserNameLink\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n\n  renderMarriages = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.sposes.length > 0)\n        .sort((a, b) => b.sposes.length - a.sposes.length)\n        .map(node => [\n          <UserNameLink\n            prop=\"sposes\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n  renderDates = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.date.length > 0)\n        .sort((a, b) => b.date.length - a.date.length)\n        .map(node => [\n          <UserNameLink\n            prop=\"date\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n  renderBreakUps = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.breakup.length > 0)\n        .sort((a, b) => b.breakup.length - a.breakup.length)\n        .map(node => [\n          <UserNameLink\n            prop=\"breakup\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n  renderDebated = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.debated.length > 0)\n        .sort((a, b) => b.debated.length - a.debated.length)\n        .map(node => [\n          <UserNameLink\n            prop=\"debated\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n\n  renderIQ = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.iq)\n        .map(node => ({\n          ...node,\n          iq: typeof node.iq === \"string\" ?\n            node.iq :\n            (node.iq + (node.iq2 || node.iq)) >> 1,\n        }))\n        .sort((a, b) => (typeof b.iq !== \"number\" ? 0 : b.iq) - (typeof a.iq !== \"number\" ? 0 : a.iq))\n        .map(node => [\n          <UserNameLink\n            prop=\"IQ\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n\n  renderEQ = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.eq)\n        .sort((a, b) => b.eq - a.eq)\n        .map(node => [\n          <UserNameLink\n            prop=\"eq\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n  renderMass = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.weight)\n        .sort((a, b) => b.weight - a.weight)\n        .map(node => [\n          <UserNameLink\n            prop=\"mass\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n  renderHeight = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.height)\n        .sort((a, b) => b.height - a.height)\n        .map(node => [\n          <UserNameLink\n            prop=\"height\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n  renderBMImale = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.bmim)\n        .sort((a, b) => b.bmim - a.bmim)\n        .map(node => [\n          <UserNameLink\n            prop=\"bmim\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n  renderBMIfemale = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.bmif)\n        .sort((a, b) => b.bmif - a.bmif)\n        .map(node => [\n          <UserNameLink\n            prop=\"bmif\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n\n  renderMentalDisorder = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.mentalDisorder)\n        .sort((a, b) => (typeof b.mentalDisorder !== \"number\" ? 0 : b.mentalDisorder) - (typeof a.mentalDisorder !== \"number\" ? 0 : a.mentalDisorder))\n        .map(node => [\n          <UserNameLink\n            prop=\"mentalDisorder\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n\n  renderDead = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.dead)\n        .sort((a, b) => b.connections - a.connections)\n        .map(node => [\n          <UserNameLink\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n\n  renderTriggered = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.offended)\n        .sort((a, b) => b.connections - a.connections)\n        .map(node => [\n          <UserNameLink\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n\n  renderGay = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.gay)\n        .sort((a, b) => b.gay - a.gay)\n        .map(node => [\n          <UserNameLink\n            prop=\"gay\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n\n  renderGenderless = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => !genderDetermined(node))\n        .map(node => [\n          <UserNameLink\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n\n  renderAttrMale = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.am)\n        .sort((a, b) => b.am - a.am)\n        .map(node => [\n          <UserNameLink\n            prop=\"am\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n  renderAttrFemale = () => (\n    <List\n      items={this.context.store.get().nodes\n        .filter(node => node.af)\n        .sort((a, b) => b.af - a.af)\n        .map(node => [\n          <UserNameLink\n            prop=\"af\"\n            user={node}\n            setNode={this.props.setNode}\n          />\n        ])\n      }\n    />\n  )\n\n  render = () => (\n    <RadioHeader\n      buttons\n      initialOptionFromURL\n      affectURL\n      prevURL=\"/stats/\"\n      options={{\n        kisses: {\n          label: () => <><Emoji.kiss /> kisses</>,\n          content: () => this.renderKisses(),\n          title: \"Kiss Graph: Stats / kisses\",\n        },\n        marriages: {\n          label: () => <><Emoji.married /> marriages</>,\n          content: () => this.renderMarriages(),\n          title: \"Kiss Graph: Stats / marriages\",\n        },\n        dates: {\n          label: () => <><Emoji.heart /> dates</>,\n          content: () => this.renderDates(),\n          title: \"Kiss Graph: Stats / dates\",\n        },\n        \"break-ups\": {\n          label: () => <><Emoji.heartBroken /> break ups</>,\n          content: () => this.renderBreakUps(),\n          title: \"Kiss Graph: Stats / break ups\",\n        },\n        unrecognized: {\n          label: () => <><Emoji.womanBan /> unrecognized kisses</>,\n          content: () => this.renderDebated(),\n          title: \"Kiss Graph: Stats / unrecognized\",\n        },\n        iq: {\n          label: () => <><Emoji.IQ /> IQ</>,\n          content: () => this.renderIQ(),\n          title: \"Kiss Graph: Stats / IQ\",\n        },\n        eq: {\n          label: () => <><Emoji.empathy /> EQ</>,\n          content: () => this.renderEQ(),\n          title: \"Kiss Graph: Stats / EQ\",\n        },\n        mass: {\n          label: () => <><Emoji.justice /> mass</>,\n          content: () => this.renderMass(),\n          title: \"Kiss Graph: Stats / mass\",\n        },\n        height: {\n          label: () => <><Emoji.ruler /> height</>,\n          content: () => this.renderHeight(),\n          title: \"Kiss Graph: Stats / height\",\n        },\n        \"body-mass-index-male\": {\n          label: () => <><Emoji.justice /><Emoji.ruler /><Emoji.male /> Body Mass Index male</>,\n          content: () => this.renderBMImale(),\n          title: \"Kiss Graph: Stats / Body Mass Index male\",\n        },\n        \"body-mass-index-female\": {\n          label: () => <><Emoji.justice /><Emoji.ruler /><Emoji.female /> Body Mass Index female</>,\n          content: () => this.renderBMIfemale(),\n          title: \"Kiss Graph: Stats / Body Mass Index female\",\n        },\n        \"mental-disorder\": {\n          label: () => <><Emoji.mentalDisorder /> mental disorder</>,\n          content: () => this.renderMentalDisorder(),\n          title: \"Kiss Graph: Stats / mental disorders\",\n        },\n        triggered: {\n          label: () => <><Emoji.triggered /> triggered</>,\n          content: () => this.renderTriggered(),\n          title: \"Kiss Graph: Stats / triggered\",\n        },\n        gay: {\n          label: () => <><Emoji.gay /> gay</>,\n          content: () => this.renderGay(),\n          title: \"Kiss Graph: Stats / gay\",\n        },\n        dead: {\n          label: () => <><Emoji.dead /> dead</>,\n          content: () => this.renderDead(),\n          title: \"Kiss Graph: Stats / dead\",\n        },\n        // genderless: {\n        //   label: () => <><Emoji.gay /></>,\n        //   content: () => this.renderGenderless(),\n        //   title: \"Kiss Graph: Stats / genderless\",\n        // },\n        \"most-fertile-males\": {\n          label: () => <><Emoji.gene /><Emoji.winner /><Emoji.male /> most fertile males</>,\n          content: () => this.renderAttrMale(),\n          title: \"Kiss Graph: Stats / most fertile males\",\n        },\n        \"most-fertile-females\": {\n          label: () => <><Emoji.gene /><Emoji.winner /><Emoji.female /> most fertile females</>,\n          content: () => this.renderAttrFemale(),\n          title: \"Kiss Graph: Stats / most fertile females\",\n        },\n      }}\n    />\n  )\n}\nStats.contextType = StoreContext\nexport default Stats","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport RadioHeader from 'components/interface/RadioHeader'\nimport Feed from 'components/interface/Feed'\nimport Stats from 'components/interface/Stats'\n\n\nclass Menu extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n\n  render = () => (\n    <RadioHeader\n      options={{\n        news: {\n          label: () => \"News\",\n          content: () => <Feed setNode={this.props.setNode} />\n        },\n        stats: {\n          label: () => \"Stats\",\n          content: () => <Stats setNode={this.props.setNode} />\n        },\n      }}\n      initialOptionFromURL\n    />\n  )\n}\n\nexport default withRouter(Menu)","const hexColorsLightTheme = [\n  \"af00ff\",\n  \"0000ff\",\n  \"00c3c3\",\n  \"00dd00\",\n  \"e0e000\",\n  \"ff8000\",\n  \"b90000\",\n]\nconst hexColorsDarkTheme = [\n  \"bf00ff\",\n  \"3f3fff\",\n  \"00ffff\",\n  \"00ff00\",\n  \"ffff00\",\n  \"ff8000\",\n  \"b90000\",\n]\n\nconst colorsLightTheme = hexColorsLightTheme.map(color => ({\n  r: parseInt(color.slice(0, 2), 16),\n  g: parseInt(color.slice(2, 4), 16),\n  b: parseInt(color.slice(4, 6), 16),\n}))\nconst colorsDarkTheme = hexColorsDarkTheme.map(color => ({\n  r: parseInt(color.slice(0, 2), 16),\n  g: parseInt(color.slice(2, 4), 16),\n  b: parseInt(color.slice(4, 6), 16),\n}))\n\nconst colorInterpolation = (weight, colors) => {\n  const length = colors.length - 1\n  const start = Math.floor(weight * length)\n  const end = Math.ceil(weight * length)\n  const alpha = (weight * length) - start\n\n  return {\n    r: colors[start].r * (1 - alpha) + colors[end].r * alpha,\n    g: colors[start].g * (1 - alpha) + colors[end].g * alpha,\n    b: colors[start].b * (1 - alpha) + colors[end].b * alpha,\n  }\n}\n\nexport default (weight, theme, tone) => {\n  let newColor\n  \n  //add theme\n  if (theme === \"light\") {\n    newColor = colorInterpolation(weight, colorsLightTheme)\n    newColor = {\n      r: newColor.r,\n      g: newColor.g,\n      b: newColor.b,\n    }\n    if (tone === \"gray\")\n      newColor = {\n        // r: 80 + newColor.r / 8 * 1,\n        // g: 80 + newColor.g / 8 * 1,\n        // b: 80 + newColor.b / 8 * 1,\n        r: 50 + newColor.r / 2 * 1,\n        g: 50 + newColor.g / 2 * 1,\n        b: 50 + newColor.b / 2 * 1,\n      }\n  }\n  if (theme === \"dark\") {\n    newColor = colorInterpolation(weight, colorsDarkTheme)\n    newColor = {\n      r: 16 + newColor.r / 8 * 7,\n      g: 16 + newColor.g / 8 * 7,\n      b: 16 + newColor.b / 8 * 7,\n    }\n    if (tone === \"gray\")\n      newColor = {\n        // r: 140 + newColor.r / 8 * 1,\n        // g: 140 + newColor.g / 8 * 1,\n        // b: 140 + newColor.b / 8 * 1,\n        r: 70 + newColor.r / 2 * 1,\n        g: 70 + newColor.g / 2 * 1,\n        b: 70 + newColor.b / 2 * 1,\n      }\n  }\n\n  newColor = {\n    r: Math.round(newColor.r).toString(16),\n    g: Math.round(newColor.g).toString(16),\n    b: Math.round(newColor.b).toString(16)\n  }\n  newColor = {\n    r: newColor.r.length === 2 ? newColor.r : \"0\" + newColor.r,\n    g: newColor.g.length === 2 ? newColor.g : \"0\" + newColor.g,\n    b: newColor.b.length === 2 ? newColor.b : \"0\" + newColor.b,\n  }\n\n  return \"#\" + newColor.r + newColor.g + newColor.b + (tone === \"transparent\" ? \"d0\" : \"\")\n}","import React, { Component } from 'react'\n\nimport { Style } from 'radium'\n\nimport StoreContext from 'libs/engines/data/store/StoreContext'\nimport colorFromWeight from 'libs/utils/colorFromWeight'\n\n\nclass WeightColorsStyle extends Component {\n  render = () => {\n    const { weightSet } = this.context.store.get()\n\n    return (\n        <Style\n          scopeSelector=\":root\"\n          rules={{\n            ...weightSet.map((weight, index) => ({\n                [\"--weight-color-\" + weight]: colorFromWeight(index / weightSet.length, \"light\")\n              })\n            ).reduce((a, b) => ({...a, ...b})),\n            ...weightSet.map((weight, index) => ({\n                [\"--weight-color-\" + weight + \"-gray\"]: colorFromWeight(index / weightSet.length, \"light\", \"gray\")\n              })\n            ).reduce((a, b) => ({...a, ...b})),\n            // ...weightSet.map((weight, index) => ({\n            //     [\"--weight-color-\" + weight + \"-transparent\"]: colorFromWeight(index / weightSet.length, \"light\", \"transparent\")\n            //   })\n            // ).reduce((a, b) => ({...a, ...b})),\n            mediaQueries: {\n              '(prefers-color-scheme: dark)': {\n                ...weightSet.map((weight, index) => ({\n                    [\"--weight-color-\" + weight]: colorFromWeight(index / weightSet.length, \"dark\")\n                  })\n                ).reduce((a, b) => ({...a, ...b})),\n                ...weightSet.map((weight, index) => ({\n                    [\"--weight-color-\" + weight + \"-gray\"]: colorFromWeight(index / weightSet.length, \"dark\", \"gray\")\n                  })\n                ).reduce((a, b) => ({...a, ...b})),\n                // ...weightSet.map((weight, index) => ({\n                //     [\"--weight-color-\" + weight + \"-transparent\"]: colorFromWeight(index / weightSet.length, \"dark\", \"transparent\")\n                //   })\n                // ).reduce((a, b) => ({...a, ...b})),\n              }\n            }\n          }}\n        >\n      </Style>\n    )\n  }\n}\n\nWeightColorsStyle.contextType = StoreContext\n\nexport default WeightColorsStyle","import React, { Component, Fragment } from 'react'\n\nimport withRouter from 'components/withRouterAndRef'\n\nimport About from 'pages/About'\nimport Kontrol from 'pages/Kontrol'\n\nimport { registerListeners, unregisterListeners } from 'libs/utils/preventMobileScrolling'\n\nimport User from 'components/interface/User'\nimport Edge from 'components/interface/Edge'\nimport MobileExpander from 'components/interface/MobileExpander'\nimport Menu from 'components/interface/Menu'\n// import Feed from 'components/interface/Feed'\nimport NameSearch from 'components/interface/NameSearch'\nimport WeightColorsStyle from 'components/interface/WeightColorsStyle'\n\nimport StoreContext from 'libs/engines/data/store/StoreContext'\n\n\nclass TextInterface extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      currentOptions: [],\n      deviceWidth: 0,\n      desktopSpread: false,\n      showFooter: true,\n      showSearch: true,\n    }\n    this.interfaceRef = new React.createRef()\n    this.searchBarRef = new React.createRef()\n  }\n\n  updateDeviceWidth = () => this.setState({deviceWidth: window.innerWidth})\n\n  componentDidMount() {\n    registerListeners(this.searchBarRef.current)\n\n    window.addEventListener('resize', this.updateDeviceWidth.bind(this))\n    window.addEventListener('orientationchange', this.updateDeviceWidth.bind(this))\n    this.updateDeviceWidth()\n  }\n  componentWillUnmount() {\n    unregisterListeners(this.searchBarRef.current)\n\n    window.removeEventListener('resize', this.updateDeviceWidth.bind(this))\n    window.removeEventListener('orientationchange', this.updateDeviceWidth.bind(this))\n  }\n\n  setNode = (input, transition, pushHistory) => { //REDO THIS SHIT: It is used in many places, bugs inevitable...\n    if (typeof input === \"undefined\" || input === null) {\n      this.props.setNode(null, transition, pushHistory)\n      return\n    }\n\n    if (typeof input === \"string\") {\n      let nodeName = input\n      const node = this.context.store.get({name: nodeName})\n\n      if (node === null)\n        this.props.setNode(null, transition, pushHistory)\n      else\n        this.props.setNode(node.id, transition, pushHistory)\n    } else {\n      this.props.setNode(input.id, transition, pushHistory)\n    }\n  }\n\n  openWorkspace = () => this.setState({\n    desktopSpread: true,\n    showFooter: false,\n    showSearch: false,\n  })\n\n  render = () => {\n    const { node, edge } = this.props\n    // console.log(edge)\n    const isAboutPage = this.props.location.pathname === \"/about\"\n\n    const footer = (\n      <div className=\"footer\">\n        {!isAboutPage ?\n          <p\n            className=\"link\"\n            onClick={() => {\n              this.props.history.push(\"/about\")\n              document.title = \"Kiss Graph: About\"\n            }}\n          >\n            about\n          </p>\n          :\n          <p\n            className=\"link\"\n            onClick={() => {\n              //REDO THIS SHIT: write router\n              if (this.props.node) {\n                this.props.history.push(`/node/${this.props.node.link}`)\n                document.title = `Kiss Graph: ${this.props.node.name}`\n              }\n              else\n                this.props.history.push(\"/news\")\n            }}\n          >\n            back\n          </p>\n        }\n      </div>\n    )\n\n    const nodeElem = (\n      <User\n        node={node}\n        setNode={this.setNode.bind(this)}\n      />)\n\n    let content\n    \n    if (isAboutPage) {\n      content = <About />\n      document.title = \"Kiss Graph: About\"\n    }\n    else if (node && this.props.location.pathname.includes(\"/node/\"))\n      content = nodeElem\n    else if (this.props.location.pathname.includes(\"/edge/\"))\n      content = <Edge setNode={this.setNode.bind(this)} />\n    else if (this.props.location.pathname === \"/kontrol\")\n      content = <Kontrol />\n    else\n      content = <Menu setNode={this.setNode.bind(this)} />\n      // content = <Feed setNode={this.setNode.bind(this)} />\n      \n\n    const contentWithFooter = (\n      <Fragment>\n        <div className=\"flex-column position-relative\">\n          <div className=\"abs-container\">\n            <div className=\"scroll-column\">\n              <div className=\"flex-container\">\n                <div className=\"text-interface__content\">\n                  {this.props.children}\n                  {content}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {this.state.showFooter && footer}\n      </Fragment>\n    )\n\n    return (\n      <div\n        ref={this.interfaceRef}\n        className={\"text-interface \" + (this.state.desktopSpread && \"text-interface--spread\")}\n      >\n        <button\n          className={\"text-interface__spread-button \" + (this.state.desktopSpread ? \"text-interface__spread-button--opened\" : \"text-interface__spread-button--closed\")}\n          onClick={() => this.setState({desktopSpread: !this.state.desktopSpread})}\n        />\n        <WeightColorsStyle />\n        <div className=\"flex-container\">\n          {this.state.showSearch &&\n            <div\n              ref={this.searchBarRef}\n              className=\"text-interface__search-bar\"\n            >\n              <NameSearch\n                node={this.props.nodeToShow}\n                onChange={value => this.setNode(value)}\n              />\n            </div>\n          }\n          \n          {this.state.deviceWidth <= 1024 ?\n            <MobileExpander\n              node={node}\n              edge={edge}\n              history={this.props.history}\n              prevLocation={this.props.prevLocation}\n            >\n              <div className=\"flex-container position-relative\">\n                {contentWithFooter}\n              </div>\n            </MobileExpander>\n            :\n            <div className=\"flex-column position-relative\">\n              <div className=\"abs-container\">\n                <div className=\"flex-container\">\n                  {contentWithFooter}\n                </div>\n              </div>\n            </div>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nTextInterface.contextType = StoreContext\n\nexport default withRouter(TextInterface)","import React, { Component } from 'react'\nimport { withRouter } from 'react-router'\n\n\nexport default WrappedComponent => {\n  class InnerComponentWithRef extends Component { \n    render() {\n      const { forwardRef, ...rest } = this.props\n      \n      return (\n        <WrappedComponent\n          {...rest}\n          ref={forwardRef}\n        />\n      )\n    }\n  }\n\n  const ComponentWithRouter = withRouter(InnerComponentWithRef, { withRef: true })\n\n  return React.forwardRef((props, ref) =>\n    <ComponentWithRouter\n      {...props}\n      forwardRef={ref}\n    />\n  )\n}","export default __webpack_public_path__ + \"static/media/kiss.938743b7.png\";","import React, { Component } from 'react'\n\n// import Emoji from 'components/Emoji'\nimport StoreContext from 'libs/engines/data/store/StoreContext'\n\nimport kiss from './kiss.png'\n\n\nconst transition = 200\n\n\nclass Loader extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      display: true,\n      transparent: false,\n    }\n\n    this.checkInterval = setInterval(() => {\n      if (this.context?.threeSceneRef?.current?.units?.heatGraph) {\n        clearInterval(this.checkInterval)\n        this.init()\n      }\n    }, 50)\n  }\n\n  init = () =>\n    this.context.threeSceneRef.current.units.heatGraph.addInitListener(() => this.hide())\n\n  show = () => {\n    this.setState({\n      display: true,\n      transparent: true\n    })\n    setTimeout(() => this.setState({transparent: false}), 10)\n  }\n\n  hide = () => {\n    // this.setState({display: false})\n    this.setState({transparent: true})\n    setTimeout(() => this.setState({display: false}), transition)\n  }\n\n  render = () => (\n    <div\n      className=\"loader\"\n      style={{\n        transition: `opacity ${transition}ms`,\n        display: this.state.display ? \"flex\" : \"none\",\n        opacity: this.state.transparent ? 0 : 1,\n      }}\n    >\n      <div className=\"loader__container\">\n        <div className=\"loader__emoji__container\">\n          <img className=\"emoji\" src={kiss} alt=\"kiss\" />\n        </div>\n        <div className=\"loader__text\">\n          {this.props.children}\n        </div>\n        <div className=\"loader__by\">\n          by <b className=\"gradient-text gradient-text-animation-1\">@the_sociophobic</b>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nLoader.contextType = StoreContext\n\nexport default Loader","const iOS = () => {\n\n  var iDevices = [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod'\n  ]\n\n  if (!!navigator.platform) {\n    while (iDevices.length) {\n      if (navigator.platform === iDevices.pop()){ return true }\n    }\n  }\n\n  return false\n}\n\nexport default iOS","export default __webpack_public_path__ + \"static/media/Icon.6892dca1.png\";","export default __webpack_public_path__ + \"static/media/telegramLogo.5de08e65.svg\";","import React, { Component } from 'react'\nimport StoreContext from 'libs/engines/data/store/StoreContext'\nimport heatMap from 'img/heat2h.png'\nimport Emoji from 'components/Emoji'\n// import isTouchDevice from 'libs/utils/isTouchDevice'\n\n\nexport default class HeatMap extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n    this.heatMapRef = React.createRef()\n  }\n\n  static contextType = StoreContext\n\n  render = () => {\n    const { weightSet } = this.context.store.get()\n    const { node } = this.props\n    let heatMapHeight, nodeUV = 0\n\n    if (this.heatMapRef.current && node) {\n      heatMapHeight = this.heatMapRef.current.clientHeight\n      //node.uv exists, but it is used for textures (no 1, only .97. Prevents tex overlap)\n      nodeUV = weightSet.indexOf(node.connections) / (weightSet.length - 1)\n    }\n\n    return (\n      <div className=\"heat-map\">\n        <img\n          src={heatMap}\n          alt=\"heatMap.png\"\n          ref={this.heatMapRef}\n        />\n        <div className=\"heat-map__0\">{weightSet[weightSet.length - 1]}</div>\n        <div className=\"heat-map__1\">{weightSet[Math.round((weightSet.length - 1) / 4 * 3)]}</div>\n        <div className=\"heat-map__2\">{weightSet[Math.round((weightSet.length - 1) / 2)]}</div>\n        <div className=\"heat-map__3\">{weightSet[Math.round((weightSet.length - 1) / 4)]}</div>\n        <div className=\"heat-map__4\">{weightSet[0]}</div>\n        {node &&\n          <div\n            className=\"heat-map__pointer\"\n            style={{marginTop: Math.round((1 - nodeUV) * heatMapHeight) + \"px\"}}\n          >\n            <Emoji.pointer />\n          </div>\n        }\n        {/* {!isTouchDevice() &&\n          <div className=\"heat-map__description\">\n            number of<KissEmoji />\n          </div>\n        } */}\n      </div>\n    )\n  }\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAaCAYAAAB2BDbRAAAAY0lEQVQImRXLsQnCABRF0ZMXwUpFtEhnxAUEF7CxcWPJAuIQWUJEAsKXNJfTXEOnsl6RXUf2B7LpiVlOc3rUV2VckKFwmxSTClvhKpo7fmPxrorn/D5I+yLLDzkhl4acW3IMf+sxFyg21XaOAAAAAElFTkSuQmCC\"","import React, { Component, Fragment } from 'react'\nimport isTouchDevice from 'libs/utils/isTouchDevice'\n\n\nexport default class ControlsHelp extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      click: false,\n      shift: false,\n      scroll: false,\n      oneFinger: false,\n      twoFinger: false,\n      zoom: false,\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener( 'keydown', e => e.shiftKey && this.setState({shift: true}), { passive: true } )\n    window.addEventListener( 'keyup', e => !e.shiftKey && this.setState({shift: false}), { passive: true } )\n\n    let threeElem = document.getElementsByClassName(\"Viewer\")\n    threeElem = threeElem && threeElem[0]\n    if (threeElem) {\n      threeElem.addEventListener( 'wheel', () => this.onScroll(), { passive: true } )\n      threeElem.addEventListener( 'mousedown', () => this.setState({click: true}), { passive: true } )\n      threeElem.addEventListener( 'mouseup', () => this.setState({click: false}), { passive: true } )\n    }\n}\n\n  onScroll = () => {\n    this.setState({scroll: true})\n\n    if (this.scrollAttenuationTimeout)\n      clearTimeout(this.scrollAttenuationTimeout)\n\n    this.scrollAttenuationTimeout = setTimeout(() => {\n      this.setState({scroll: false})\n      this.scrollAttenuationTimeout = undefined\n    }, 100)\n  }\n\n  renderTouch = () => \"\"\n\n  renderDesktop = () => (\n    <div className=\"controls-help__desktop\">\n      {[\n        {\n          flags: [\"click\"],\n          antiFlags: [\"shift\"],\n          text: \"Look Around\",\n        },\n        {\n          flags: [\"shift\", \"click\"],\n          text: \"Move\",\n        },\n        {\n          flags: [\"scroll\"],\n          text: \"Zoom\",\n        },\n      ].map(control => {\n        const active =\n          control.flags.map(flag => this.state[flag]).reduce((a, b) => a && b)\n          &&\n          !(control.antiFlags && control.antiFlags.map(flag => this.state[flag]).reduce((a, b) => a || b))\n\n        return (\n          <div\n            key={control.text}\n            className=\"controls-help__item\"\n          >\n            <div className={\n              \"controls-help__item__transparent-area \" +\n              (active && \"controls-help__item__transparent-area--active\")\n            }>\n              <span className=\"controls-help__item__text\">{control.text}:</span>\n              {control.flags.map(flag =>\n                <div\n                  key={control.text + flag}\n                  className={\n                    \"controls-help__item__button \" +\n                    (flag === \"scroll\" && \"controls-help__item__button--slow-transition \") +\n                    (this.state[flag] && \" controls-help__item__button--active \")\n                }>\n                  {flag}\n                </div>\n              ).reduce((a, b) => <Fragment>{a}+{b}</Fragment>)}\n            </div>\n          </div>\n      )})}\n    </div>\n  )\n\n  render = () => (\n    <div className=\"controls-help\">\n      {isTouchDevice() ?\n      this.renderTouch()\n      :\n      this.renderDesktop()}\n    </div>\n  )\n}","import React from 'react'\n\nexport default props => (\n  <div className=\"powered-by-nginx\">\n    {/* Inspired by  <br />\n    Powered by NGINX */}\n  </div>\n)","import React, { Component } from 'react'\n\nimport ThreeScene from './ThreeScene'\nimport myScene from 'libs/myScene'\n\nimport StoreContext from 'libs/engines/data/store/StoreContext'\n\nimport TextInterface from 'components/interface/TextInterface'\nimport Loader from 'components/Loader'\nimport Login from 'components/Login'\n\nimport iOS from 'libs/utils/iOS'\n\nimport HeatMap from 'components/interface/HeatMap'\nimport ControlsHelp from 'components/interface/ControlsHelp'\nimport ExternalLink from 'components/ExternalLink'\nimport Emoji from 'components/Emoji'\n\nimport PoweredByNGINX from 'components/easterEgg/PoweredByNGINX'\n\n\nclass Layout extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      nodeToShow: undefined,\n      edgeToShow: undefined,\n      storeConnected: false, //mounts TextInterface only after initial node os determined via URLs\n      spritesCreated: false,\n    }\n  }\n\n  componentDidMount = () =>\n    this.context.store\n      .addInitListener(() => {\n\n        if (iOS())\n          window.scrollTo(0, 0)\n      \n        if (this.props.location.pathname.includes(\"/node/\")) {\n          const nodeLink = this.props.location.pathname.slice(\"/node/\".length)\n    \n          if (nodeLink) {\n            let node = this.context.store.get({link: nodeLink})\n            if (node !== null)\n              this.setNode(node.id, false, false)\n          }\n        }\n\n        if (this.props.location.pathname.includes(\"/edge/\")) {\n          const edgeLink = this.props.location.pathname.slice(\"/edge/\".length)\n\n          if (edgeLink) {\n            let edge = this.context.store.get({ edgeId: edgeLink, bla: 'a' })\n            if (edge !== null)\n              this.setState({ edgeToShow: edge })\n          }\n        }\n\n        this.setState({storeConnected: true})\n\n        window.onpopstate = this.handleBrowserHistoryButtons.bind(this)\n        window.onpushstate = this.handleBrowserHistoryButtons.bind(this)    \n      })\n\n  handleBrowserHistoryButtons = e => {\n    if (this.props.location.pathname.includes(\"/node/\")) {\n      const nodeLink = this.props.location.pathname.slice(\"/node/\".length)\n      const node = this.context.store.search({link: nodeLink})[0]\n  \n      this.setNode(node.id, true, false)\n    } else {\n      this.setNode(undefined, false, false)\n    }\n    //TODO ???\n  }\n\n  setNode = (id, transition = true, pushHistory = true) => {\n    const { history } = this.props\n\n    if (typeof id === \"undefined\" || id === -1 || id === null || (id.length && id.length === 0)) {\n      this.setState({nodeToShow: undefined})\n      if (pushHistory) {\n        history.push(`/news/published`)\n        document.title = \"Kiss Graph: News / published\"\n      }\n      return\n    }\n\n    const node = this.context.store.get({id: id})\n\n    if (typeof node === 'undefined' || node === null)\n      return\n\n    this.setState({nodeToShow: node})\n    const currentNodeId = this.props.location.pathname.slice(\"/node/\".length) || \"\"\n\n    if (currentNodeId !== node.link && pushHistory)\n      history.push(`/node/${node.link}`)\n    document.title = \"Kiss Graph: \" + node.name\n\n    if (this.context.threeSceneRef.current)\n      this.context.threeSceneRef.current.setCamera(\n        node.pos,\n        transition\n      )\n  }\n\n  render = () => {\n    const props = {\n      data: this.context,\n      node: this.state.nodeToShow,\n      edge: this.state.edgeToShow,\n      setNode: this.setNode.bind(this),\n      nodeToShow: this.state.nodeToShow,\n      history: this.props.history,\n      prevLocation: this.props.location && this.props.location.state && this.props.location.state.from,\n    }\n\n    return <>\n      <Loader>\n        <h1 className=\"h1\">Kiss Graph v5.15</h1>\n        <h4 className=\"h4\">Updates:</h4>\n        <ul className=\"ul\">\n          <li className=\"li\">3d Engine optimised</li>\n          <li className=\"li\">clickable edges</li>\n          <li className=\"li\">EQ</li>\n        </ul>\n      </Loader>\n      {/* <Login /> */}\n      {this.state.storeConnected &&\n        <div className=\"page-container\">\n          <TextInterface\n            ref={this.context.textInterfaceRef}\n            {...props}\n          />\n          <div className=\"viewer-container\" >\n            <ThreeScene\n              ref={this.context.threeSceneRef}\n              myScene={myScene}\n              {...props}\n            />\n            <HeatMap node={this.state.nodeToShow} />\n            <ControlsHelp />\n            <PoweredByNGINX />\n          </div>\n        </div>\n      }\n    </>\n  }\n}\n\nLayout.contextType = StoreContext\n\nexport default Layout","import Donations from 'pages/Donations'\nimport Bitcoins from 'pages/Bitcoins'\nimport Layout from 'components/Layout'\n\n\nexport default [\n  {\n    path: '/donations',\n    component: Donations,\n  },\n  {\n    path: '/btc',\n    component: Bitcoins,\n  },\n  {\n    path: '/*',\n    // exact: true,\n    component: Layout,\n  },\n]","/* eslint-disable */\n\nimport axios from 'axios'\n\nimport isProduction from 'libs/utils/isProduction'\n\n\n/* axios config */\n// axios.defaults.baseURL = process.env.REACT_APP_API_DOMAIN + '/api';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n// axios.defaults.withCredentials = true;\n\nif (isProduction()) {\n  // console.log(\"site analytics scripts running\")\n\n  // const googleAnalytics = document.createElement(\"script\");\n  // googleAnalytics.src = \"https://www.googletagmanager.com/gtag/js?id=G-XB8NCSJJSE\"\n  // googleAnalytics.innerHTML = `\n  //   <!-- Global site tag (gtag.js) - Google Analytics -->\n  //   <script async src=\"https://www.googletagmanager.com/gtag/js?id=G-XB8NCSJJSE\">\n  //   </script>\n  //   <script>\n  //     window.dataLayer = window.dataLayer || [];\n  //     function gtag(){dataLayer.push(arguments);}\n  //     gtag('js', new Date());\n\n  //     gtag('config', 'G-XB8NCSJJSE');\n  //   </script>\n  // `;\n  // document.head.appendChild(googleAnalytics);\n\n  // const googleAddSense = document.createElement(\"script\");\n  // googleAnalytics.src = \"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"\n  // googleAnalytics.innerHTML = `\n  //   <script data-ad-client=\"ca-pub-5356473212753983\" async src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\">\n  //   </script>\n  // `;\n  // document.head.appendChild(googleAddSense);\n\n  // (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};\n  // m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})\n  // (window, document, \"script\", \"https://mc.yandex.ru/metrika/tag.js\", \"ym\");\n\n  // ym(54942766, \"init\", {\n  //     clickmap:true,\n  //     trackLinks:true,\n  //     accurateTrackBounce:true\n  // });\n}\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\n\n// import isProduction from 'libs/utils/isProduction'\nimport './config'\n\nexport default () => (\n  <Helmet>\n    <meta http-equiv=\"cache-control\" content=\"max-age=0\" />\n    <meta http-equiv=\"cache-control\" content=\"no-cache\" />\n    <meta http-equiv=\"expires\" content=\"-1\" />\n    <meta http-equiv=\"expires\" content=\"Tue, 01 Jan 1980 11:00:00 GMT\" />\n    <meta http-equiv=\"pragma\" content=\"no-cache\" />\n  </Helmet>\n)\n","import React from 'react'\nimport Cookies from 'universal-cookie'\nimport { deviceDetect } from 'react-device-detect'\nimport axios from 'axios'\nimport _ from 'lodash'\n\n\nclass Auth extends React.Component {\n  state = {\n    user: undefined,\n    sessionToken: undefined\n  }\n\n  cookies = new Cookies()\n  checkInterval = null\n\n  checkUser = async () => {\n    const res = await axios.post('https://kiss-graph.com/login', {\n      sessionToken: this.cookies.get('sessionToken'),\n      deviceInfo: JSON.stringify(deviceDetect())\n    })\n  \n    if (res.newSessionToken)\n      this.cookies.set('sessionToken', res.newSessionToken, { path: '/' })\n  \n    this.setState({ sessionToken: this.cookies.get('sessionToken') })\n  \n    if (res.hasOwnProperty('user'))\n      this.setState({ user: res.user })\n  }\n\n  logout = async () => {\n    if (_.isEmpty(this.state.user))\n      return\n      \n    const res = await axios.post('/logout', {\n      sessionToken: this.cookies.get('sessionToken'),\n      deviceInfo: JSON.stringify(deviceDetect())\n    })\n\n    this.cookies.set('sessionToken', res.newSessionToken, { path: '/' })\n\n    this.setState({\n      user: undefined,\n      sessionToken: this.cookies.get('sessionToken')\n    })\n  }\n\n  checkIfLogged = () => {\n    // if (this.checkInterval) {\n    //   if (!_.isEmpty(this.state.user))\n    //     clearInterval(this.resendCountdownInterval)\n    //   return\n    // }\n\n    let tries = 0\n\n    this.checkInterval = setInterval(() => {\n      if (!_.isEmpty(this.state.user) || tries > 10) {\n        clearInterval(this.checkInterval)\n        //CLOSE LOGIN\n        ;\n      }\n      this.checkUser()\n      tries++\n    }, 500)\n  }\n}\n\n\nexport default Auth","const chars = {\n  '': 'a',\n  '': 'b',\n  '': 'v',\n  '': 'g',\n  '': 'd',\n  '': 'e',\n  '': 'e',\n  '': 'zh',\n  '': 'z',\n  '': 'i',\n  '': 'k',\n  '': 'l',\n  '': 'm',\n  '': 'n',\n  '': 'o',\n  '': 'p',\n  '': 'r',\n  '': 's',\n  '': 't',\n  '': 'u',\n  '': 'f',\n  '': 'kh',\n  '': 'ts',\n  '': 'ch',\n  '': 'sh',\n  '': 'sch',\n  '': '',\n  '': 'y',\n  '': '',\n  '': 'e',\n  '': 'yu',\n  '': 'ya',\n}\n\nconst replaceCyrillic = string =>\n  string.split('')\n  .map(char => chars[char] || char)\n  .join('')\n\n//TODO \nconst transliterate = string =>\n  replaceCyrillic(\n    string\n      .toLowerCase()\n      .replace('', 'ye')\n      .replace('', 'ia')\n      .replace('', 'ia')\n      .replace('', 'y')\n      .replace('', '')\n  )\n\nexport default transliterate","export default (objectsArray, property) =>\n  Array.from(\n    new Set(\n      objectsArray\n        .map(object => object[property])\n    )\n  )\n  .sort((a, b) => a - b)","const downloadFile = (filename, text) => {\n  var element = document.createElement('a')\n  \n  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text))\n  element.setAttribute('download', filename)\n\n  element.style.display = 'none'\n  document.body.appendChild(element)\n  element.click()\n  document.body.removeChild(element)\n}\n\n\nexport default downloadFile","import isProduction from 'libs/utils/isProduction'\n\n\nconst edgesTypes = props => {\n  const { nodes, edges } = props\n\n  let nodesMapped = nodes.map(node => {\n    const mates = node.mates.filter(node => node.type === \"KISS\")\n    const sposes = node.mates.filter(node => node.type === \"MARRIED\")\n    const debated = node.mates.filter(node => node.type === \"DEBATED\")\n    const sex = node.mates.filter(node => node.type === \"SEX\")\n    const date = node.mates.filter(node => node.type === \"DATE\")\n    const breakup = node.mates.filter(node => node.type === \"BREAKUP\")\n\n    const typeRemover = nodes => nodes.map(node => ({...node, type: undefined}))\n\n    return ({\n      ...node,\n      connections: node.connections - sposes.length - debated.length - sex.length - date.length - breakup.length,\n      // mates: typeRemover(mates),\n      // sposes: typeRemover(sposes),\n      // debated: typeRemover(debated),\n      mates: mates,\n      sposes: sposes,\n      debated: debated,\n      date: date,\n      breakup: breakup,\n      sex: sex,\n    })\n  })\n\n  // let edgesMapped = edges.filter(edge => edge.type === \"KISS\" || edge.type === \"DEBATED\" || edge.type === \"SEX\")\n  let edgesMapped = edges\n\n  return ({\n    nodes: nodesMapped,\n    edges: edgesMapped,\n  })\n}\n  \n\nexport default edgesTypes","import transliterate from 'libs/utils/transliterate'\n\nimport {\n  getNodes,\n  getEdges,\n  createNode,\n  createEdge,\n  setNode,\n  setEdge,\n  deleteNode,\n  deleteEdge,\n} from 'libs/engines/data/store/Neo4j'\n\n// import { data } from 'libs/engines/data/hardcoded/DB'\n\nimport copyToClipboard from 'libs/utils/copyToClipboard'\nimport listenersClass from 'libs/utils/listenersClass'\nimport createSortedSet from 'libs/utils/createSortedSet'\nimport isProduction from 'libs/utils/isProduction'\nimport { nameToPath } from 'libs/utils/stringTransforms'\nimport downloadFile from 'libs/utils/downloadFile'\n\nimport { calcGay } from 'libs/engines/data/hardcoded/meta/namesRecognition'\nimport edgesTypes from 'libs/engines/data/hardcoded/meta/edgesTypes'\n\nimport axios from 'axios'\n\n\nclass store extends listenersClass {\n  constructor(props) {\n    super(props)\n    this.props = props\n    // this.data = data //ORIGINAL DATA\n    this.metaData = {\n      nodes: [],\n      edges: [],\n    }\n\n    this.init()\n  }\n\n  init = async () => {\n    await this.getData()\n    this.callInitListeners()\n  }\n  update = async () => {\n    await this.getData()\n    this.callUpdateListeners()\n  }\n\n  getData = async () => {\n    const prefix = 'https://raw.githubusercontent.com/the-sociophobic/kiss-graph-2/main/data/'\n    if (isProduction() || true) {\n      this.metaData = (await axios.get(prefix + 'names.json')).data\n      this.geometry = {\n        position: (await axios.get(prefix + 'position.json')).data,\n        uv: (await axios.get(prefix + 'uv.json')).data,\n      }\n    } else {\n      this.metaData = edgesTypes({ //REDO THIS SHIT\n        nodes: await getNodes(), //REDO THIS SHIT\n        edges: await getEdges(),\n      })\n      this.metaData.nodes = calcGay(this.metaData.nodes)\n    }\n\n    //CALC SECONDARY DATA\n    this.iqSet = createSortedSet(this.metaData.nodes, \"iq\")\n    this.weightSet = createSortedSet(this.metaData.nodes, \"connections\")\n    //REDO THIS SHIT -- separate styles for heat maps\n    // this.weightSet = createSortedSet([\n    //   ...this.metaData.nodes,\n    //   ...this.metaData.nodes.map(node => ({...node, connections: node.am})).filter(node => node.connections),\n    //   ...this.metaData.nodes.map(node => ({...node, connections: node.af})).filter(node => node.connections),\n    // ], \"connections\")\n    this.mentalDisorderSet = createSortedSet(this.metaData.nodes, \"mentalDisorder\")\n\n    const calcNodeUV = (weight, distribution) =>\n      distribution.indexOf(weight) / distribution.length\n\n    //REDO THIS SHIT: userName saved in BD, so should be calculated when node created/updated\n    const calcUserName = node =>\n      node.userName ||\n      (node.social && (\n        node.social.inst ||\n        (node.social.vk && (!node.social.vk.startsWith(\"id\") || node.social.vk.includes(\"_\")) && node.social.vk) ||\n        node.social.tg ||\n        // node.social.fb ||\n        node.social.twit ||\n        (node.social.yt && node.social.yt.startsWith(\"user/\") && node.social.yt.slice(5))\n      )) || undefined\n\n    const calcLink = node =>\n      nameToPath(calcUserName(node) || node.name)\n\n    this.metaData.nodes = this.metaData.nodes.map(node => ({\n      ...node,\n      uv: calcNodeUV(node.connections, this.weightSet),\n      userName: calcUserName(node),\n      link: calcLink(node),\n    }))\n  }\n\n  get = props => {\n    const defaultData = {\n      iqSet: this.iqSet,\n      weightSet: this.weightSet,\n      mentalDisorderSet: this.mentalDisorderSet,\n      nodes: this.metaData.nodes,\n      edges: this.metaData.edges,\n    }\n\n    if (typeof props === \"undefined\")\n      return defaultData\n    \n    // const possibleSearchKeys = [\"id\", \"name\", \"userName\", \"link\", \"edgeId\"]\n    let { metaData } = this\n\n    let result\n    if (typeof props.edgeId !== \"undefined\") {\n      const index = metaData.edges\n        .map(edge => edge.id)\n        .indexOf(parseInt(props.edgeId))\n\n      if (index !== -1) {\n        result = metaData.edges[index]\n        return result\n      }\n    }\n    \n    Object.keys(props).forEach(key => {\n      if (typeof props[key] !== \"undefined\") {\n        const index = metaData.nodes\n          .map(node => node[key])\n          .indexOf(props[key])\n        if (index !== -1)\n          result = metaData.nodes[index]\n      }  \n    })\n    if (typeof result !== \"undefined\")\n      return result\n    return null\n  }\n\n  search = props => {\n    const limit = 7\n    let filteredNodes\n    if (props.link) {\n      const index = this.metaData.nodes\n        .map(node => node.link)\n        .indexOf(props.link)\n      if (index !== -1)\n        return [this.metaData.nodes[index]]\n    } else {\n      filteredNodes = this.metaData.nodes.filter(node =>\n        Object.keys(props).map(key =>\n          node[key] && node[key]\n            .toLowerCase()\n            .includes(transliterate(props[key]))\n            // .split(/_| |-|\\./gm)\n            // .map(word => word.startsWith(props[key].toLowerCase()))\n            // .reduce((a, b) => a || b)\n        )\n        .reduce((a, b) => a || b)\n      ) || []\n    }\n\n    if (filteredNodes.length < limit) {\n      let badlyFilteredNodes = this.metaData.nodes.filter(node =>\n        !filteredNodes\n          .map(node => node.id)\n          .includes(node.id) &&\n        Object.keys(props).map(key =>\n          node[key] && node[key]\n            .toLowerCase()\n            .includes(props[key].toLowerCase())\n        )\n        .reduce((a, b) => a || b)\n      ) || []\n      filteredNodes = [\n        ...filteredNodes,\n        ...badlyFilteredNodes.slice(0, limit - filteredNodes.length)\n      ]\n    }\n\n    return filteredNodes\n  }\n\n  push = async (props, updateAfter = true) => {\n    let res\n    let isEdge = Object.keys(props).includes(\"node0\")\n\n    if (isEdge) {\n      if (typeof props.id === \"undefined\")\n        res = createEdge(props)\n      else\n        res = setEdge(props)\n    } else {\n      if (typeof props.id === \"undefined\")\n        res = createNode(props)\n      else\n        res = setNode(props)\n    }\n    if (updateAfter)\n      await this.update()\n\n    return await res\n  }\n\n  delete = async props => {\n    let res\n    let isEdge = Object.keys(props).includes(\"node0\")\n\n    if (isEdge)\n      res = deleteEdge(props)\n    else\n      res = deleteNode(props)\n\n    await this.update()\n    return await res\n  }\n\n  copyData = () => copyToClipboard(JSON.stringify({\n    nodes: this.metaData.nodes,\n    edges: this.metaData.edges,\n  }))\n\n  copyPos = () => {\n    downloadFile('position.json', JSON.stringify(this.geometry.position))\n  }\n\n  copyUV = () => {\n    downloadFile('uv.json', JSON.stringify(this.geometry.uv))\n  }\n\n  getGeometry = () => {\n    return this.geometry\n  }\n  setGeometry = geometry => {\n    this.geometry = geometry\n  }\n}\n\nexport default store","const dasherize = string => string\n  .toLowerCase()\n  .replace(/ /g, '-')\n\nconst camelize = string => string\n  .toLowerCase()\n  .split(' ')\n  .map(word => word.slice(0, 1).toUpperCase() + word.slice(1).toLowerCase())\n  .reduce((a, b) => a + b)\n\nconst pathToName = string => string\n  .replace(/-/g, ' ')\n\nconst nameToPath = string => (string || \"\") //REDO THIS SHIT TEST some nodes has no name?!\n  .toLowerCase()\n  .replace(/ /g, '-')\n\nexport {\n  dasherize,\n  camelize,\n  pathToName,\n  nameToPath\n}","import React from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport routes from './routes'\n\nimport Helmet from 'components/Helmet'\nimport Auth from 'components/Auth'\n\nimport { initialState, StoreContext } from 'libs/engines/data/store'\n\nimport 'styles/index.sass'\n\n\nclass App extends Auth {\n  constructor(props) {\n    super(props)\n    this.state = initialState({\n      state: this.state,\n      setState: this.setState,\n    })\n  }\n  \n  render() {\n    return (\n      <Router>\n        <StoreContext.Provider value={this.state}>\n          <Helmet />\n          <Switch>\n            {routes.map(route =>\n              <Route\n                {...route}\n                key={route.path}\n              />\n            )}\n          </Switch>\n        </StoreContext.Provider>\n      </Router>\n    );\n  }\n}\n\nexport default App\n","import React from 'react'\n\nimport storeClass from './storeClass'\nimport StoreContext from './StoreContext'\n\n\nconst initialState = stateRefs => ({\n  ...stateRefs.state,\n  store: new storeClass(stateRefs),\n  threeSceneRef: React.createRef(),\n  textInterfaceRef: React.createRef(),\n})\n\nexport {\n  storeClass,\n  StoreContext,\n  initialState,\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}