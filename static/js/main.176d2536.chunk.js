(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{152:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(62),s=n.n(o),i=n(2),c=n(3),u=n(4),l=n(7),d=n(8),p=n(24),m=n(13),h=n(0),f=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={},a}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsx)("iframe",{title:"yandex money",src:"https://money.yandex.ru/quickpay/shop-widget?writer=seller&targets=%D0%BD%D0%B0%20%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D1%82%D0%B8%D0%B5%20%D0%9D%D0%B0%D1%83%D0%BA%D0%B8&targets-hint=&default-sum=&button-text=11&hint=&successURL=&quickpay=shop&account=410013026058450",width:"423",height:"222",frameborder:"0",allowtransparency:"true",scrolling:"no"})}}]),n}(a.Component),b=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={},a}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"mt-5 mx-5",children:Object(h.jsx)("b",{className:"text-dark",children:"35KtQ9DUVFAjofZZDA9XRfbapsEV1RCbQ8"})})}}]),n}(a.Component),j=n(15),g=n(12),y=n(63),v=n(64),O=n(9);window.THREE=O,n(107);var x=O;function k(e,t){this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new O.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:O.MOUSE.LEFT,MIDDLE:O.MOUSE.MIDDLE,RIGHT:O.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(a),n.update(),i=s.NONE},this.update=function(){var t=new O.Vector3,r=(new O.Quaternion).setFromUnitVectors(e.up,new O.Vector3(0,1,0)),o=r.clone().inverse(),h=new O.Vector3,f=new O.Quaternion;return function(){var e=n.object.position;return t.copy(e).sub(n.target),t.applyQuaternion(r),u.setFromVector3(t),n.autoRotate&&i===s.NONE&&S(2*Math.PI/60/60*n.autoRotateSpeed),u.theta+=l.theta,u.phi+=l.phi,u.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=d,u.radius=Math.max(n.minDistance,Math.min(n.maxDistance,u.radius)),n.target.add(p),t.setFromSpherical(u),t.applyQuaternion(o),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,p.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),p.set(0,0,0)),d=1,!!(m||h.distanceToSquared(n.object.position)>c||8*(1-f.dot(n.object.quaternion))>c)&&(n.dispatchEvent(a),h.copy(n.object.position),f.copy(n.object.quaternion),m=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",U,{passive:!1}),n.domElement.removeEventListener("mousedown",M,{passive:!1}),n.domElement.removeEventListener("wheel",I,{passive:!1}),n.domElement.removeEventListener("touchstart",F,{passive:!1}),n.domElement.removeEventListener("touchend",B,{passive:!1}),n.domElement.removeEventListener("touchmove",P,{passive:!1}),document.removeEventListener("mousemove",L,{passive:!1}),document.removeEventListener("mouseup",C,{passive:!1}),window.removeEventListener("keydown",_,{passive:!1})};var n=this,a={type:"change"},r={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},i=s.NONE,c=1e-6,u=new O.Spherical,l=new O.Spherical,d=1,p=new O.Vector3,m=!1,h=new O.Vector2,f=new O.Vector2,b=new O.Vector2,j=new O.Vector2,g=new O.Vector2,y=new O.Vector2,v=new O.Vector2,x=new O.Vector2,k=new O.Vector2;function w(e){if("undefined"===typeof e)return Math.pow(.95,n.zoomSpeed);var t=3*Math.pow(Math.min(50,Math.abs(e)),e>0?.5:.7);return Math.pow(.95,n.zoomSpeed*t)}function S(e){l.theta-=e}function E(e){l.phi-=e}var N=function(){var e=new O.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),p.add(e)}}(),A=function(){var e=new O.Vector3;return function(t,a){!0===n.screenSpacePanning?e.setFromMatrixColumn(a,1):(e.setFromMatrixColumn(a,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),p.add(e)}}(),D=function(){var e=new O.Vector3;return function(t,a){var r=n.domElement===document?n.domElement.body:n.domElement;if(n.object.isPerspectiveCamera){var o=n.object.position;e.copy(o).sub(n.target);var s=e.length();s*=Math.tan(n.object.fov/2*Math.PI/180),N(2*t*s/r.clientHeight,n.object.matrix),A(2*a*s/r.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(N(t*(n.object.right-n.object.left)/n.object.zoom/r.clientWidth,n.object.matrix),A(a*(n.object.top-n.object.bottom)/n.object.zoom/r.clientHeight,n.object.matrix)):(console.warn("WARNING: LevControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function T(t){var a=new O.Vector3(0,0,-1).applyQuaternion(e.quaternion).multiplyScalar(2*(1-t));e.position.add(a),n.target.add(a),n.update()}function R(e){j.set(e.clientX,e.clientY)}function M(e){if(!1!==n.enabled){switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case n.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;R(e),i=s.PAN}else{if(!1===n.enableRotate)return;!function(e){h.set(e.clientX,e.clientY)}(e),i=s.ROTATE}break;case n.mouseButtons.MIDDLE:if(!1===n.enableZoom)return;!function(e){v.set(e.clientX,e.clientY)}(e),i=s.DOLLY;break;case n.mouseButtons.RIGHT:if(!1===n.enablePan)return;R(e),i=s.PAN}i!==s.NONE&&(document.addEventListener("mousemove",L,{passive:!1}),document.addEventListener("mouseup",C,{passive:!1}),n.dispatchEvent(r))}}function L(e){if(!1!==n.enabled)switch(e.preventDefault(),i){case s.ROTATE:if(!1===n.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),b.subVectors(f,h).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;S(2*Math.PI*b.x/t.clientHeight),E(2*Math.PI*b.y/t.clientHeight),h.copy(f),n.update()}(e);break;case s.DOLLY:if(!1===n.enableZoom)return;!function(e){x.set(e.clientX,e.clientY),k.subVectors(x,v),k.y>0?T(1/w(k.y)):k.y<0&&T(w(k.y)),v.copy(x),n.update()}(e);break;case s.PAN:if(!1===n.enablePan)return;!function(e){g.set(e.clientX,e.clientY),y.subVectors(g,j).multiplyScalar(1+Math.pow(y.length(),.5)/5).multiplyScalar(n.panSpeed),D(y.x,y.y),j.copy(g),n.update()}(e)}}function C(e){!1!==n.enabled&&(document.removeEventListener("mousemove",L,{passive:!1}),document.removeEventListener("mouseup",C,{passive:!1}),n.dispatchEvent(o),i=s.NONE)}function I(e){!1===n.enabled||!1===n.enableZoom||i!==s.NONE&&i!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(r),function(e){e.deltaY<0?T(w(e.deltaY)):e.deltaY>0&&T(1/w(e.deltaY)),n.update()}(e),n.dispatchEvent(o))}function _(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:D(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:D(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:D(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:D(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function F(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===n.enableRotate)return;!function(e){h.set(e.touches[0].pageX,e.touches[0].pageY)}(e),i=s.TOUCH_ROTATE;break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+a*a);v.set(0,r)}if(n.enablePan){var o=.5*(e.touches[0].pageX+e.touches[1].pageX),s=.5*(e.touches[0].pageY+e.touches[1].pageY);j.set(o,s)}}(e),i=s.TOUCH_DOLLY_PAN;break;default:i=s.NONE}i!==s.NONE&&n.dispatchEvent(r)}}function P(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===n.enableRotate)return;if(i!==s.TOUCH_ROTATE)return;!function(e){f.set(e.touches[0].pageX,e.touches[0].pageY),b.subVectors(f,h).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;S(2*Math.PI*b.x/t.clientHeight),E(2*Math.PI*b.y/t.clientHeight),h.copy(f),n.update()}(e);break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;if(i!==s.TOUCH_DOLLY_PAN)return;!function(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+a*a);x.set(0,r);var o=x.y-v.y,s=2*Math.pow(Math.min(25,Math.abs(o)),o<0?.35:.7);k.set(0,Math.pow(x.y/v.y,n.zoomSpeed*s)),T(1/k.y),v.copy(x)}if(n.enablePan){var i=.5*(e.touches[0].pageX+e.touches[1].pageX),c=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(i,c),y.subVectors(g,j).multiplyScalar(.5+Math.pow(y.length(),.5)/3.5).multiplyScalar(n.panSpeed),D(y.x,y.y),j.copy(g)}n.update()}(e);break;default:i=s.NONE}}function B(e){!1!==n.enabled&&(n.dispatchEvent(o),i=s.NONE)}function U(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",U,{passive:!1}),n.domElement.addEventListener("mousedown",M,{passive:!1}),n.domElement.addEventListener("wheel",I,{passive:!1}),n.domElement.addEventListener("touchstart",F,{passive:!1}),n.domElement.addEventListener("touchend",B,{passive:!1}),n.domElement.addEventListener("touchmove",P,{passive:!1}),window.addEventListener("keydown",_,{passive:!1}),this.update()}k.prototype=Object.create(O.EventDispatcher.prototype),k.prototype.constructor=k,Object.defineProperties(k.prototype,{center:{get:function(){return console.warn("THREE.LevControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.LevControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.LevControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.LevControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.LevControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.LevControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.LevControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.LevControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.LevControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.LevControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.LevControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.LevControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.LevControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});var w=k,S=r.a.createContext("new store()"),E=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).initUnits=function(){a.units={};var e=Object(i.a)(Object(i.a)({THREE:x,renderer:a.renderer,scene:a.scene,camera:a.camera,interaction:a.interaction},a.props.data),{},{sendData:a.props.sendData,setNode:a.props.setNode});Object.keys(a.props.myScene.units).forEach((function(t){var n=a.props.myScene.units[t];!n.disabled^a.unitsToggled&&(a.units[t]=new n.unit(e))}))},a.disposeUnits=function(){for(Object.keys(a.units).forEach((function(e){return a.units[e].dispose()}));a.scene.children.length>0;)a.scene.remove(a.scene.children[0])},a.toggleUnits=function(){a.disposeUnits(),a.unitsToggled=!a.unitsToggled,a.initUnits()},a.animate=function(){Object.keys(a.units).forEach((function(e){return a.units[e].animate()}));var e=[];a.transitions.forEach((function(t,n){if(t.currentFrame===t.numberOfFrames)e.push(n);else{var a=1/(t.numberOfFrames-t.currentFrame);t.variable.lerp(t.value,a),t.currentFrame++}})),e.forEach((function(e){return a.transitions=[].concat(Object(g.a)(a.transitions.slice(0,e)),Object(g.a)(a.transitions.slice(e+1)))})),a.renderer.render(a.scene,a.camera),a.frameId=window.requestAnimationFrame(a.animate),a.idleAnimation(),a.controls.update()},a.setCamera=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!("undefined"===typeof e||a.transitions.length>0)){var n=new x.Vector3(e.x,e.y,e.z),r=n.clone().add(a.camera.position.clone().sub(a.controls.target).normalize().multiplyScalar(5));if(t){var o=3*Math.pow((new x.Vector3).subVectors(r,a.camera.position).lengthSq(),.25);o=Math.ceil(o),a.registerTransition(a.camera.position,r,o),a.registerTransition(a.controls.target,n,o)}else a.camera.position.copy(r),a.controls.target.copy(n);a.controls.update()}},a.registerTransition=function(e,t,n){a.transitions.push({variable:e,value:t,numberOfFrames:n||10,currentFrame:0})},a.idleAnimation=function(){if(a.idle.active){if(a.idle.cameraRotationSpeed<.025&&(a.idle.cameraRotationSpeed+=17e-5),a.idle.cameraAngleXZ+=a.idle.cameraRotationSpeed,a.idle.cameraAngleXZ>=2*Math.PI){a.idle.cameraAngleXZ=0;var e=a.context.store.get().nodes[Math.round(Math.random()*(a.context.store.get().nodes.length-1))];a.props.setNode(e.id,!0,!0)}a.camera.position.set(a.controls.target.x+a.idle.cameraOffsetXZ*Math.sin(a.idle.cameraAngleXZ),a.controls.target.y+a.idle.cameraOffsetY,a.controls.target.z+a.idle.cameraOffsetXZ*Math.cos(a.idle.cameraAngleXZ))}},a.toggleIdle=function(){a.idle.active=!1,a.idle.cameraRotationSpeed=0,a.idle.Timeout&&clearTimeout(a.idle.Timeout),a.idle.Timeout=setTimeout((function(){a.idle.cameraOffsetXZ=Math.pow(Math.pow(a.controls.target.x-a.camera.position.x,2)+Math.pow(a.controls.target.z-a.camera.position.z,2),.5),a.idle.cameraOffsetY=a.camera.position.y-a.controls.target.y;var e=Math.acos((a.camera.position.z-a.controls.target.z)/a.idle.cameraOffsetXZ);a.camera.position.x-a.controls.target.x<0&&(e=2*Math.PI-e),e>=0&&e<=2*Math.PI&&(a.idle.cameraAngleXZ=e),a.idle.active=!0}),12e4)},a.render=function(){return Object(h.jsx)("div",{className:"Viewer",ref:a.viewerRef})},a.viewerRef=new r.a.createRef,a.transitions=[],a.units={},a.idle={active:!1,cameraAngleXZ:0,cameraOffsetXZ:5,cameraOffsetY:0,cameraRotationSpeed:0},a}return Object(u.a)(n,[{key:"updateDimensions",value:function(){var e=this.viewerRef&&this.viewerRef.current;this.renderer&&e&&this.camera&&(this.camera.aspect=e.clientWidth/e.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(e.clientWidth,e.clientHeight),this.controls.update())}},{key:"componentDidMount",value:function(){var e=this;this.toggleIdle(),window.addEventListener("click",this.toggleIdle,{passive:!0}),window.addEventListener("touchstart",this.toggleIdle,{passive:!0}),window.addEventListener("mouseup",this.toggleIdle,{passive:!0}),window.addEventListener("contextmenu",this.toggleIdle,{passive:!0}),window.addEventListener("mousedown",this.toggleIdle,{passive:!0}),window.addEventListener("wheel",this.toggleIdle,{passive:!0}),window.addEventListener("touchstart",this.toggleIdle,{passive:!0}),window.addEventListener("touchend",this.toggleIdle,{passive:!0}),window.addEventListener("touchmove",this.toggleIdle,{passive:!0}),window.addEventListener("keydown",this.toggleIdle,{passive:!0}),this.resizeObs=new v.a(this.updateDimensions.bind(this)).observe(this.viewerRef.current);var t=this.viewerRef.current,n=t.clientWidth,a=t.clientHeight;this.renderer=new x.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setClearColor(0,0),this.renderer.setSize(n,a),this.renderer.setPixelRatio(2),t.appendChild(this.renderer.domElement),this.scene=new x.Scene,this.camera=new x.PerspectiveCamera(75,n/a,.1,1e3),this.controls=new w(this.camera,t),this.controls.panSpeed=1.5,this.controls.enableKeys=!1,this.camera.position.z=5,this.controls.update(),this.props.nodeToShow&&this.props.setNode&&(this.props.setNode(this.props.nodeToShow.id,!1),this.setCamera(this.props.nodeToShow.pos,!1)),this.interaction=new y.a(this.renderer,this.scene,this.camera),this.initUnits(),this.context.store.addUpdateListener((function(){e.disposeUnits(),e.initUnits()})),this.frameId||(this.frameId=requestAnimationFrame(this.animate))}},{key:"componentWillUnmount",value:function(){this.disposeUnits(),cancelAnimationFrame(this.frameId)}}]),n}(a.Component);E.contextType=S;var N=E,A=n(65),D=n.n(A),T=n(66),R=function(){function e(t){Object(c.a)(this,e),this.props=t}return Object(u.a)(e,[{key:"animate",value:function(){}},{key:"dispose",value:function(){}}]),e}(),M=Object(u.a)((function e(){var t=this;Object(c.a)(this,e),this.addInitListener=function(e){t.initListeners.push(e),t.initialized&&t.callInitListeners()},this.callInitListeners=function(){t.initialized=!0,t.initListeners.forEach((function(e){return e()})),t.initListeners=[]},this.addUpdateListener=function(e){t.updateListeners.push(e)},this.callUpdateListeners=function(){t.updateListeners.forEach((function(e){return e()}))},this.initialized=!1,this.initListeners=[],this.updateListeners=[]})),L=function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},C=function(e,t){var n,a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"touchstart",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"touchend",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:200,i=!1,c=function(e){a=e.data.global.clone(),n=setTimeout((function(){return u()}),s),i=!0},u=function(){i=!1,clearTimeout(n)},l=function(e){i&&a&&a.sub(e.data.global).length()<.001&&t(),u()};e.on(r,c),e.on(o,l)},I=window.matchMedia&&(window.matchMedia("(prefers-color-scheme: dark)")||window.matchMedia("(prefers-color-scheme: light)"))&&(window.matchMedia("(prefers-color-scheme: dark)")||window.matchMedia("(prefers-color-scheme: light)")),_=function(){return I.matches?"dark":"light"},F=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).addTheme=function(e){var t=a.props,n=t.THREE,r=t.scene,o=a.props.store.get().nodes,s=new n.Group,i="light"===e?"black":"white";o.slice(0,L()?555:55555).forEach((function(e){return s.add(a.createNodeSprite(e,i,a.props))})),r.add(s),a.theme[e]=s},a.createNodeSprite=function(e,t,n){var a;return(a=new T.a((e.name||"").replace(" ","\n"),.25,t,{color:t,fontFace:'\'Arc\', -apple-system, system-ui, Roboto, "Open Sans", "Helvetica Neue", sans-serif'})).position.set(e.pos.x,e.pos.y,e.pos.z),a.cursor="pointer",C(a,(function(){return n.setNode(e.id)})),C(a,(function(){return n.setNode(e.id)}),"mousedown","mouseup"),a},a.updateTheme=function(){var e=_();a.currentTheme!==e&&("light"===e?("undefined"===typeof a.theme.light&&a.addTheme("light"),a.theme.light.visible=!0,a.theme.dark.visible=!1):("undefined"===typeof a.theme.dark&&a.addTheme("dark"),a.theme.light.visible=!1,a.theme.dark.visible=!0),a.currentTheme=e)},a.animate=function(){a.updateTheme(),!a.initialized&&a.callInitListeners()},function(e,t){var n;(new x.TextureLoader).load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAACCAIAAAC2fEmeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMTEtMTRUMTI6NTYrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA0LTI2VDA0OjQxOjEwKzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA0LTI2VDA0OjQxOjEwKzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmFlYTJkNmUxLTE4YjQtNDVhMC1iZTZlLTNmMzNlYzViMThhMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDphZWEyZDZlMS0xOGI0LTQ1YTAtYmU2ZS0zZjMzZWM1YjE4YTEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphZWEyZDZlMS0xOGI0LTQ1YTAtYmU2ZS0zZjMzZWM1YjE4YTEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmFlYTJkNmUxLTE4YjQtNDVhMC1iZTZlLTNmMzNlYzViMThhMSIgc3RFdnQ6d2hlbj0iMjAxOS0xMS0xNFQxMjo1NiswMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+B14d9wAAAGJJREFUCJm1zrENgkAAAMD70rgFQxgZgDAASzjGr2RjR0JDacICBKi00Bi1MhHent6b4EKM0T+FY56GRTc7Jz2frXlHyZ7NYKmlEw2PgiooguzLhZGeyXN0m9yvXm/tYd39AQMeIQMpqBieAAAAAElFTkSuQmCC",(function(a){var r=new x.MeshBasicMaterial({map:a}),o=new x.BufferGeometry;o.setAttribute("position",new x.BufferAttribute(new Float32Array(e.getGeometry().position),3)),o.setAttribute("uv",new x.BufferAttribute(new Float32Array(e.getGeometry().uv),2)),n=new x.Mesh(o,r),t.add(n)}))}(e.store,e.scene),a.currentTheme=_(),a.theme={},a.addTheme(a.currentTheme),a}return Object(u.a)(n,[{key:"dispose",value:function(){}}]),n}(D()(R,M)),P=n(10),B=n(5),U=n.n(B),H=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).recalculate=function(e){var t=Object(j.a)(a),n=t.nodes,r=t.edges,o=t.forces,s=t.velocities;o.forEach((function(e){return e.multiplyScalar(0)})),s.forEach((function(e){return e.multiplyScalar(.25+Math.pow(Y,e.lengthSq()))})),n.slice(0,-1).forEach((function(e,t){n.slice(t).forEach((function(n,a){if(!(1===e.weight&&1!==n.weight||1===n.weight&&1!==e.weight)){var r=z(e,n);o[t].sub(r).clampLength(0,W),o[t+a].add(r).clampLength(0,W)}}))})),r.forEach((function(e){var t=n[e.node0],a=n[e.node1],r=Z(t,a);o[e.node0].add(r).clampLength(0,W),o[e.node1].sub(r).clampLength(0,W)})),n.forEach((function(e,t){var n=e.vector.length()-G;if(n>0){var a=e.vector.clone().normalize().multiplyScalar(-n/G*V);o[t].add(a).clampLength(0,W)}})),n.forEach((function(e,t){var n=e.vector.lengthSq(),a=e.vector.clone().normalize().multiplyScalar(n*Math.pow(e.weight,.5)*K);o[t].sub(a).clampLength(0,W)})),n.forEach((function(e,t){if(e.vector.length()>J){var n=e.vector.clone().normalize(),a=o[t].clone().dot(n);a>0&&o[t].sub(n.clone().multiplyScalar(a))}})),s.forEach((function(t,a){var r=o[a],s=n[a];t.add(r.multiplyScalar(e/s.weight)).clampLength(0,W)})),n.forEach((function(t,n){if(t.weight!==a.maxWeight){var r=s[n];t.staticPos||t.vector.add(r.clone().multiplyScalar(e))}}))},a.getRecalculatedPos=function(){return a.nodes.map((function(e){return{id:e.id,pos:e.vector.toArray()}}))},a.maxWeight=0,e.nodes.forEach((function(e,t){e.connections>a.maxWeight&&(a.maxWeight=e.connections,a.maxWeightIndex=t,a.maxWeightId=e.id)})),console.log(a.maxWeight),a.nodes=e.nodes.map((function(t){return{id:t.id,vector:new x.Vector3(t.pos.x-e.nodes[a.maxWeightIndex].pos.x,t.pos.y-e.nodes[a.maxWeightIndex].pos.y,t.pos.z-e.nodes[a.maxWeightIndex].pos.z),weight:t.connections>0?t.connections:.5,staticPos:t.staticPos}})),a.edges=e.edges,a.forces=Array.from(Array(a.nodes.length)).map((function(){return new x.Vector3})),a.velocities=Array.from(Array(a.nodes.length)).map((function(){return new x.Vector3})),a}return Object(u.a)(n)}(function(){function e(t){Object(c.a)(this,e),this.recalculate=function(e){},this.props=t}return Object(u.a)(e,[{key:"dispose",value:function(){}}]),e}()),Y=.975,V=10,G=45,J=60,K=0,W=5e4,z=function(e,t){var n=e.vector.clone().sub(t.vector),a=-25*Math.pow(e.weight*t.weight,1)/n.lengthSq();return isFinite(a)||(a=-1e4),n.normalize().multiplyScalar(a).clampLength(0,W)},Z=function(e,t){var n=e.vector.clone().sub(t.vector),a=n.length(),r=function(e,t){var n=e+2,a=t+2;return.5*Math.pow(n*a,.5)}(e.weight,t.weight),o=(r-a)/r;return n.normalize().multiplyScalar(4200*o).clampLength(0,W)},X=n(17),q=n.n(X),Q=n(6),$=n(16),ee=n.n($),te=function(e,t){return ee.a.pickBy(e,(function(e,n){return Object.keys(t).includes(n)}))},ne=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).length>0?Object.keys(t).map((function(a){return"object"!==typeof t[a]?Object(Q.a)({},n+a,t[a]):e(t[a],n+a+".")})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)})):{}},ae=function e(t){var n=ee.a.pickBy(t,(function(e,t){return!t.includes(".")})),a=ee.a.pickBy(t,(function(e,t){return t.includes(".")})),r=n;return Object.keys(a).forEach((function(e){var n=e.split(".")[0],a=e.slice(n.length+1);"undefined"===typeof r[n]&&(r[n]={}),r[n]=Object(i.a)(Object(i.a)({},r[n]),{},Object(Q.a)({},a,t[e]))})),Object.keys(r).length>0?Object.keys(r).map((function(t){return"object"===typeof r[t]?Object(Q.a)({},t,e(r[t])):Object(Q.a)({},t,r[t])})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)})):{}},re=function(e){return Object.keys(e).map((function(t){return Object(Q.a)({},t,"undefined"===typeof e[t]?"":e[t])})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}))},oe=function(e){return Object.keys(e).map((function(t){return Object(Q.a)({},t,""===e[t]?void 0:e[t])})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}))},se=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).length>0?Object.keys(t).map((function(a){if(!t[a].hasOwnProperty("type"))return e(t[a],n+a+".");switch(t[a].type){case"point3d":return e({x:{type:"number"},y:{type:"number"},z:{type:"number"}},n+a+".");case"object":return e(t[a].fields,n+a+".");default:return Object(Q.a)({},n+a,t[a])}})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)})):{}},ie=function(e){return ee.a.pickBy(e,(function(t,n){return!e[n].local&&!e[n].type.match(/\b(id|ref|array)\b/g)}))},ce=function(e){return Object.keys(e).map((function(t){return Object(Q.a)({},t,ue(e,t))})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}))},ue=function(e,t){if(e[t].default)return e[t].default;switch(e[t].type){case"number":case"string":case"boolean":case"date":default:return;case"object":return e[t].fields?ce(e[t].fields):{};case"array":return[];case"point3d":return{x:0,y:0,z:0}}},le=function(e,t){return n=ae(oe(te(e,se(t)))),Object.keys(n).map((function(e){return Object(Q.a)({},e,0===Object.entries(n).length&&n.constructor===Object||Array.isArray(n[e])&&0===n[e].length?void 0:n[e])})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}));var n},de=function(e,t){return Object.keys(e).map((function(n){return Object(Q.a)({},n,pe(e,t,n))})).reduce((function(e,t){return ee.a.pickBy(Object(i.a)(Object(i.a)({},e),t),ee.a.identity)}))},pe=function(e,t,n){var a;if(!e[n].local){var r=t[n];switch(e[n].type){case"point3d":return"point({x:".concat(r.x,", y:").concat(r.y,", z:").concat(r.z,"})");case"object":case"array":return r&&JSON.stringify(r);case"id":case"ref":return;case"number":var o=r;return"string"===typeof r&&(o=r.includes(".")?parseFloat(r):parseInt(r)),isNaN(o)?e[n].canBeString?r:void 0:o;case"select":return"undefined"===typeof r&&"undefined"!==typeof e[n].default?e[n].default:null!==(a=e[n].options)&&void 0!==a&&a.includes(r)?r:void 0;default:return r}}},me=function(e,t){return he(t.map((function(t){return de(e,t)})))},he=function(e){return JSON.stringify(e)},fe=function(e,t,n){var a=t.row[0][n];switch(e[n].type){case"point3d":var r=a.coordinates;return{x:r[0],y:r[1],z:r[2]};case"object":case"array":case"social":return a&&JSON.parse(a);default:return a}},be=function(e,t){var n,a;return null===t||void 0===t||null===(n=t.data)||void 0===n||null===(a=n.results[0])||void 0===a?void 0:a.data.map((function(t){return function(e,t){return Object.keys(e).map((function(n){return Object(Q.a)({},n,fe(e,t,n))})).reduce((function(e,t){return ee.a.pickBy(Object(i.a)(Object(i.a)({},e),t),(function(e,t){return"undefined"!==typeof e&&null!==e}))}))}(e,t)}))},je=function(e){return e.hasOwnProperty("pos")},ge={id:{type:"id"},type:{type:"select",options:["KISS","SEX","MARRIED","DEBATED","DATE","BREAKUP"],default:"KISS"},node0:{type:"ref"},node1:{type:"ref"},commited:{type:"date"},told:{type:"date"},published:{type:"date"},hidden:{type:"boolean"}},ye={id:{type:"id"},name:{type:"string"},userName:{type:"string"},link:{type:"string",local:!0},emoji:{type:"string"},hashtag:{type:"string"},hashtag2:{type:"string"},specialSite:{type:"string"},specialSiteName:{type:"string"},specialSiteEmoji:{type:"string"},connections:{type:"number",local:!0},hiddenConnections:{type:"number"},mates:{type:"ref"},aka:{type:"array"}},ve={tg:{label:"tg",link:"t.me"},vk:{label:"vk",link:"vk.com"},vk2:{label:"vk",link:"vk.com"},inst:{label:"inst",link:"instagram.com"},inst2:{label:"inst",link:"instagram.com"},yt:{label:"yt",link:"www.youtube.com"},yt2:{label:"yt",link:"www.youtube.com"},clubhouse:{label:"clubhouse",link:"www.joinclubhouse.com",noLink:function(e){return"clubhouse: @".concat(e)}},twit:{label:"twit",link:"twitter.com"},twit2:{label:"twit",link:"twitter.com"},fb:{label:"fb",link:"www.facebook.com"},fb2:{label:"fb",link:"www.facebook.com"},steam:{label:"steam",link:"steamcommunity.com"},behance:{label:"behance",link:"behance.net"},dribbble:{label:"dribbble",link:"dribbble.com"},discord:{label:"discord",link:"discordapp.com",noLink:function(e){return"discord: @".concat(e)}},soundcloud:{label:"soundcloud",link:"soundcloud.com"},twitch:{label:"twitch",link:"twitch.tv"},ticktok:{label:"tiktok",link:"tiktok.com"},tiktok2:{label:"tiktok",link:"tiktok.com"},tiktok3:{label:"tiktok",link:"tiktok.com"},skype:{label:"skype",link:"skype.com",disabled:!0},linkedin:{label:"linkedin",link:"linkedin.com/in"},phone:{label:"phone",link:"",disabled:!0},github:{label:"gh",link:"github.com"},spotify:{label:"spotify",link:"open.spotify.com/user"}},Oe=Object(i.a)(Object(i.a)({},ye),{},{uv:{type:"number",local:!0},social:{type:"object",fields:Object.keys(ve).map((function(e){return Object(Q.a)({},e,{type:"string"})})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}))},staticPos:{type:"boolean"},pos:{type:"point3d"},iq:{type:"number",canBeString:!0},iq2:{type:"number",canBeString:!0},eq:{type:"number"},mentalDisorder:{type:"string"},gender:{type:"select",options:["m","f"],canBeUndefined:!0},dead:{type:"boolean"},offended:{type:"boolean"},height:{type:"number"},weight:{type:"number"},fWHR:{type:"number"},SHR:{type:"object",fields:{shoulder:{type:"number"},hip:{type:"number"}}},political:{type:"object",fields:{LR:{type:"number"},LA:{type:"number"}}},school:{type:"string"}}),xe=Object(i.a)({},ye),ke=function(){var e=Object(P.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.a.post("http://localhost:7474/db/data/transaction/commit",{statements:t},{auth:{username:"neo4j",password:"dermo123"}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(P.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke([{statement:'\n      MATCH (node:Person)-[edge]-(mate:Person)\n      WITH node AS node, edge AS edge, mate AS mate\n      MATCH (mate)-[mateKiss {type: "KISS"}]-(mateConnections:Person)\n      WITH node AS node, edge AS edge, mate AS mate, mateConnections AS mateConnections\n\n      WITH {\n        date: edge.commited,\n        edgeId: id(edge),\n        type: edge.type,\n        id: id(mate),\n        connections: count(mateConnections) + COALESCE(mate.hiddenConnections, 0),\n        userName: mate.userName,\n        name: mate.name,\n        iq: mate.iq,\n        mentalDisorder: mate.mentalDisorder,\n        emoji: mate.emoji,\n        gender: mate.gender\n      } as mates, node as node\n\n      WITH node {\n        .*,\n        id: id(node),\n        connections: count(mates) + COALESCE(node.hiddenConnections, 0),\n        mates: collect(mates)\n      } AS node\n      RETURN node\n    '}]);case 2:return t=e.sent,e.next=5,ke([{statement:'\n      MATCH (node:Person)\n      WHERE NOT (node)-[{type: "KISS"}]-(:Person)\n      WITH node {\n        .*,\n        id: id(node),\n        connections: COALESCE(node.hiddenConnections, 0),\n        mates: []\n      } AS node\n      RETURN node\n    '}]);case 5:return n=e.sent,e.abrupt("return",[].concat(Object(g.a)(be(Oe,t)),Object(g.a)(be(Oe,n))));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(P.a)(U.a.mark((function e(t){var n,a,r,o,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke([{statement:"\n      MATCH (node:Person)\n      WHERE ID(node) = ".concat(t,'\n      MATCH (node:Person)-[edge]-(mate:Person)\n      WITH node AS node, edge AS edge, mate AS mate\n      MATCH (mate)-[mateKiss {type: "KISS"}]-(mateConnections:Person)\n      WITH node AS node, edge AS edge, mate AS mate, mateConnections AS mateConnections\n\n      WITH {\n        date: edge.commited,\n        edgeId: id(edge),\n        type: edge.type,\n        id: id(mate),\n        connections: count(mateConnections) + COALESCE(mate.hiddenConnections, 0),\n        userName: mate.userName,\n        name: mate.name,\n        iq: mate.iq,\n        mentalDisorder: mate.mentalDisorder,\n        emoji: mate.emoji,\n        gender: mate.gender\n      } as mates, node as node\n      WITH node {\n        .*,\n        id: id(node),\n        connections: count(mates) + COALESCE(node.hiddenConnections, 0),\n        mates: collect(mates)\n      } AS node\n      RETURN node\n    ')}]);case 2:return n=e.sent,e.next=5,ke([{statement:"\n      MATCH (node:Person)\n      WHERE ID(node) = ".concat(t,' AND NOT (node)-[{type: "KISS"}]-()\n      WITH node {\n        .*,\n        id: id(node),\n        connections: COALESCE(node.hiddenConnections, 0),\n        mates: []\n      } AS node\n      RETURN node\n    ')}]);case 5:return a=e.sent,r=be(Oe,n),o=be(Oe,a),s=[].concat(Object(g.a)(Array.isArray(r)?r:[]),Object(g.a)(Array.isArray(o)?o:[])),e.abrupt("return",s[0]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(P.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=be,e.t1=ge,e.next=4,ke([{statement:"\n        MATCH (node0:Person)-[edge:KISS]->(node1:Person)\n        WITH edge {\n          .*,\n          id: id(edge),\n          node0: id(node0),\n          node1: id(node1)\n        } AS edge\n        RETURN edge\n      "}]);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(P.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke([{statement:"\n      CREATE (node:Person ".concat(he(de(Oe,t)),")\n      WITH node {\n        .*,\n        id: id(node),\n        connections: COALESCE(node.hiddenConnections, 0),\n        mates: []\n      } AS node\n      RETURN node\n    ")}]);case 2:return n=e.sent,e.abrupt("return",be(Oe,n)[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(P.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke([{statement:"\n      MATCH (node0)\n      WHERE ID(node0) = ".concat(t.node0,"\n      MATCH (node1)\n      WHERE ID(node1) = ").concat(t.node1,"\n      CREATE (node0)-[edge:KISS ").concat(he(de(ge,t)),"]->(node1)\n      WITH edge {\n        .*,\n        id: id(edge),\n        node0: id(node0),\n        node1: id(node1)\n      } AS edge\n      RETURN edge\n  ")}]);case 2:return n=e.sent,e.abrupt("return",be(ge,n)[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(P.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke([{statement:"\n      MATCH (node:Person)\n      WHERE ID(node) = ".concat(t.id,"\n      SET node = {}\n      SET node = ").concat(he(de(Oe,t)),"\n      RETURN {id: ID(node)}\n    ")}]);case 2:return n=e.sent,e.next=5,Se(n.data.results[0].data[0].row[0].id);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(P.a)(U.a.mark((function e(t){var n,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter((function(e){return"undefined"!==e.id&&"undefined"!==typeof e.id})).map((function(e){return{statement:"\n          MATCH (node:Person)\n          WHERE ID(node) = ".concat(e.id,"\n          SET node = {}\n          SET node = ").concat(he(de(Oe,e)),"\n          RETURN {id: ID(node)}\n        ")}})),e.next=3,ke(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(P.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke([{statement:"\n      MATCH ()-[edge:KISS]-()\n      WHERE ID(edge) = ".concat(t.id,"\n      SET edge = ").concat(he(de(ge,t)),"\n      RETURN {id: ID(edge)}\n  ")}]);case 2:return n=e.sent,e.abrupt("return",be(ge,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(P.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke([{statement:"\n      MATCH (node:Person)\n      WHERE ID(node) = ".concat(t.id,"\n      DETACH DELETE node\n    ")}]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(P.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke([{statement:"\n      MATCH ()-[edge:KISS]-()\n      WHERE ID(edge) = ".concat(t.id,"\n      DELETE edge\n    ")}]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).generateInterval=function(){return setInterval((function(){a.frameNumber++,a.GraphCloth.recalculate(a.deltaTime);var e=a.GraphCloth.getRecalculatedPos(),t=new Float32Array(a.edges.map((function(t){return[].concat(Object(g.a)(e[t.node0].pos),Object(g.a)(e[t.node1].pos))})).reduce((function(e,t){return[].concat(Object(g.a)(e),Object(g.a)(t))})));a.verticesBuffer.array=t,a.verticesBuffer.needsUpdate=!0}),450)};var r=e.THREE,o=e.scene,s=a.props.store.get(),i=s.nodes,u=s.edges;a.edges=u.filter((function(e){return"KISS"===e.type||"DEBATED"===e.type})).map((function(e){return{node0:i.map((function(e){return e.id})).indexOf(e.node0),node1:i.map((function(e){return e.id})).indexOf(e.node1)}})),a.GraphCloth=new H({nodes:i,edges:a.edges}),a.geometry=new r.BufferGeometry;var l=a.GraphCloth.getRecalculatedPos(),d=new Float32Array(a.edges.map((function(e){return[].concat(Object(g.a)(l[e.node0].pos),Object(g.a)(l[e.node1].pos))})).reduce((function(e,t){return[].concat(Object(g.a)(e),Object(g.a)(t))})));a.verticesBuffer=new r.BufferAttribute(d,3),a.verticesBuffer.dynamic=!0,a.geometry.setAttribute("position",a.verticesBuffer),a.deltaTime=.005,a.frameNumber=0,a.interval=a.generateInterval();var p=new r.MeshBasicMaterial({color:255});return a.line=new r.LineSegments(a.geometry,p),o.add(a.line),a}return Object(u.a)(n,[{key:"pause",value:function(){this.interval?(clearInterval(this.interval),this.interval=null):this.interval=this.generateInterval()}},{key:"save",value:function(){var e=Object(P.a)(U.a.mark((function e(){var t,n,a,r=this;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.GraphCloth.getRecalculatedPos(),n=t.map((function(e){return Object(i.a)(Object(i.a)({},r.props.store.get({id:e.id})),{},{pos:{x:e.pos[0],y:e.pos[1],z:e.pos[2]}})})),e.next=4,Te(n);case 4:a=e.sent,console.log("updated positions"),console.log(a);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"animate",value:function(){}},{key:"dispose",value:function(){}}]),n}(R),Ie={units:{heatGraph:{unit:F,disabled:!1},graphCalc:{unit:Ce,disabled:!0}}},_e=n(67),Fe=["forwardRef"],Pe=function(e){return Object(h.jsx)("a",{className:e.className,href:e.to,target:e.newTab?"_blank":"",rel:"noopener noreferrer",children:e.children})},Be=function(){function e(t,n){switch(Object(c.a)(this,e),typeof t){case"undefined":default:this.dateJS=new Date;break;case"string":if("RU"===t)return this.lang="RU",void(this.dateJS=new Date);if("ENG"===t)return this.lang="ENG",void(this.dateJS=new Date);if(0===t.length){this.dateJS=new Date;break}if(!t.includes(".")&&!t.includes("/")&&!t.includes("-")){this.dateJS=new Date(parseInt(t));break}var a;a="."===t[2]||"/"===t[2]||"-"===t[2]?t.substring(3,5)+"/"+t.substring(0,2)+"/"+t.substring(6,10):":"!==t[2]||"."!==t[8]&&"/"!==t[8]&&"-"!==t[8]?t:t.substring(0,6)+t.substring(9,11)+"/"+t.substring(6,8)+"/"+t.substring(12,16),this.dateJS=new Date(Date.parse(a));break;case"number":this.dateJS=new Date(1e3*t);break;case"object":this.dateJS=new Date(t.dateJS||t),this.lang=t.lang||"EN"}if(t&&"undefined"===typeof t.lang)if("RU"===n)this.lang=n;else this.lang="ENG"}return Object(u.a)(e,[{key:"setDate",value:function(t){this.dateJS=new e(t)}},{key:"getTime",value:function(){return this.dateJS.getTime()}},{key:"comp",value:function(t){return new e(t).getTime()-this.dateJS.getTime()}},{key:"less",value:function(t){var n=new e(t);return this.dateJS.getTime()<n.getTime()}},{key:"eq",value:function(e){var t=new Date(e);return this.dateJS.getDate()<t.getDate()&&this.dateJS.getMonth()<t.getMonth()&&this.dateJS.getFullYear()<t.getFullYear()}},{key:"sameDay",value:function(t){var n=new e(t);return this.day()===n.day()&&this.month()===n.month()&&this.year()===n.year()}},{key:"addDay",value:function(t){var n=new e(this.dateJS,this.lang);return n.dateJS.setDate(this.dateJS.getDate()+t),n}},{key:"addMonth",value:function(t){var n=new e(this.dateJS,this.lang);return n.dateJS.setMonth(this.dateJS.getMonth()+t),n}},{key:"addYear",value:function(t){var n=new e(this.dateJS,this.lang);return n.dateJS.setFullYear(this.dateJS.getFullYear()+t),n}},{key:"addMinute",value:function(t){var n=new e(this.dateJS,this.lang);return n.dateJS.setMinutes(this.dateJS.getMinutes()+t),n}},{key:"addHour",value:function(t){var n=new e(this.dateJS,this.lang);return n.dateJS.setHours(this.dateJS.getHours()+t),n}},{key:"toString",value:function(){return this.dateJS.getDate()+" "+this.monthStringForDate()+" "+this.dateJS.getFullYear()}},{key:"toStringShort",value:function(){return this.dateJS.getDate()+" "+this.monthStringShort()+" "+this.dateJS.getFullYear()}},{key:"toStringDot",value:function(){return(this.dateJS.getDate()<10?"0":"")+this.dateJS.getDate()+"."+((this.dateJS.getMonth()+1<10?"0":"")+(this.dateJS.getMonth()+1))+"."+this.dateJS.getFullYear()}},{key:"toStringSlash",value:function(){return(this.dateJS.getDate()<10?"0":"")+this.dateJS.getDate()+"."+((this.dateJS.getMonth()+1<10?"0":"")+(this.dateJS.getMonth()+1))+"."+this.dateJS.getFullYear()}},{key:"toStringDash",value:function(){return(this.dateJS.getDate()<10?"0":"")+this.dateJS.getDate()+"."+((this.dateJS.getMonth()+1<10?"0":"")+(this.dateJS.getMonth()+1))+"."+this.dateJS.getFullYear()}},{key:"date",value:function(){return"RU"===this.lang?this.day()+" "+this.monthStringForDate():this.monthStringForDate()+" "+this.day()}},{key:"dateTime",value:function(){return this.time()+" "+Ue(this.date())}},{key:"day",value:function(){return this.dateJS.getDate()}},{key:"dayNumberString",value:function(){return(this.day()<10?"0":"")+this.day()}},{key:"month",value:function(){return this.dateJS.getMonth()+1}},{key:"monthString",value:function(){return"RU"===this.lang?["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"][this.month()-1]:["january","february","march","aprill","may","june","july","august","september","october","november","december"][this.month()-1]}},{key:"monthStringForDate",value:function(){return"RU"===this.lang?["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"][this.month()-1]:["january","february","march","aprill","may","june","july","august","september","october","november","december"][this.month()-1]}},{key:"monthNumberString",value:function(){return(this.month()<10?"0":"")+this.month()}},{key:"monthStringShort",value:function(){return"RU"===this.lang?["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440","\u043c\u0430\u044f","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d\u0442","\u043e\u043a\u0442","\u043d\u043e\u044f\u0431","\u0434\u0435\u043a"][this.month()-1]:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"][this.month()-1]}},{key:"year",value:function(){return this.dateJS.getFullYear()}},{key:"yearNumberString",value:function(){return""+this.year()}},{key:"time",value:function(){return"RU"===this.lang?(this.dateJS.getHours()<10?"0":"")+this.dateJS.getHours()+":"+(this.dateJS.getMinutes()<10?"0":"")+this.dateJS.getMinutes():(this.dateJS.getHours()<10?"0":"")+(this.dateJS.getHours()>12?this.dateJS.getHours()-12:this.dateJS.getHours())+":"+(this.dateJS.getMinutes()<10?"0":"")+this.dateJS.getMinutes()+(this.dateJS.getHours()>12?" pm":" am")}},{key:"niceTime",value:function(){if(this.isToday())return this.time();if(this.isYesterday()){if("RU"===this.lang)return"\u0432\u0447\u0435\u0440\u0430";return"yesterday"}return(new e).year()===this.year()?Ue(this.date()):this.day()+" "+this.monthStringForDate()+" "+this.year()}},{key:"hour",value:function(){return this.dateJS.getHours()}},{key:"minute",value:function(){return this.dateJS.getMinutes()}},{key:"second",value:function(){return this.dateJS.getSeconds()}},{key:"isToday",value:function(){var t=new e;return t.day()===this.day()&&t.month()===this.month()&&t.year()===this.year()}},{key:"isYesterday",value:function(){var t=new e;return t.day()-1===this.day()&&t.month()===this.month()&&t.year()===this.year()}},{key:"isTomorrow",value:function(){var t=new e;return t.day()+1===this.day()&&t.month()===this.month()&&t.year()===this.year()}},{key:"pastSeconds",value:function(){var t=new e;return Math.floor((t.getTime()-this.getTime())/864e5*24*60*60)}},{key:"pastMinutes",value:function(){var t=new e;return Math.floor((t.getTime()-this.getTime())/864e5*24*60)}},{key:"pastHours",value:function(){var t=new e;return Math.floor((t.getTime()-this.getTime())/864e5*24)}},{key:"pastDays",value:function(){var t=new e;return Math.floor((t.getTime()-this.getTime())/864e5)}},{key:"pastWeeks",value:function(){var t=new e;return Math.floor((t.getTime()-this.getTime())/864e5/7)}},{key:"pastMonths",value:function(){var t=new e,n=t.month()-this.month()+12*(t.year()-this.year());return n>0&&this.day()>t.day()?n-1:n<0&&this.day()<t.day()?n+1:n}},{key:"pastYears",value:function(){return Math.floor(this.pastMonths()/12)}},{key:"countable",value:function(e,t){return e+" "+(Array.isArray(t)?e>10&&e<20||e%10>4||e%10===0?t[2]:e%10>1?t[1]:t[0]:1===e?t:t+"s")}},{key:"pastNice",value:function(){return this.pastSeconds()<60?this.countable(this.pastSeconds(),"RU"===this.lang?["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]:"second"):this.pastMinutes()<60?this.countable(this.pastMinutes(),"RU"===this.lang?["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]:"minute"):this.pastHours()<24?this.countable(this.pastHours(),"RU"===this.lang?["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]:"hour"):this.pastDays()<7?this.countable(this.pastDays(),"RU"===this.lang?["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]:"day"):this.pastMonths()<1?this.countable(this.pastWeeks(),"RU"===this.lang?["\u043d\u0435\u0434\u0435\u043b\u044e","\u043d\u0435\u0434\u0435\u043b\u0438","\u043d\u0435\u0434\u0435\u043b\u044c"]:"week"):this.pastYears()<1?this.countable(this.pastMonths(),"RU"===this.lang?["\u043c\u0435\u0441\u044f\u0446","\u043c\u0435\u0441\u044f\u0446\u0430","\u043c\u0435\u0441\u044f\u0446\u0435\u0432"]:"month"):this.countable(this.pastYears(),"RU"===this.lang?["\u0433\u043e\u0434","\u0433\u043e\u0434\u0430","\u043b\u0435\u0442"]:"year")}},{key:"pastCounter",value:function(){var t="",n=new e(this);return n.pastYears()>0&&(t+=n.countable(n.pastYears(),"RU"===n.lang?["\u0433\u043e\u0434","\u0433\u043e\u0434\u0430","\u043b\u0435\u0442"]:"year"),t+=" ",n=n.addYear(n.pastYears())),n.pastMonths()>0&&(t+=n.countable(n.pastMonths(),"RU"===n.lang?["\u043c\u0435\u0441\u044f\u0446","\u043c\u0435\u0441\u044f\u0446\u0430","\u043c\u0435\u0441\u044f\u0446\u0435\u0432"]:"month"),t+=" ",n=n.addMonth(n.pastMonths())),n.pastDays()>0&&(t+=n.countable(n.pastDays(),"RU"===n.lang?["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]:"day"),t+=" ",n=n.addDay(n.pastDays())),n.pastHours()>0&&(t+=n.countable(n.pastHours(),"RU"===n.lang?["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]:"hour"),t+=" ",n=n.addHour(n.pastHours())),n.pastMinutes()>0&&(t+=n.countable(n.pastMinutes(),"RU"===n.lang?["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]:"minute"),t+=" ",n=n.addMinute(n.pastMinutes())),t+=n.countable(n.pastSeconds(),"RU"===n.lang?["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]:"second")}},{key:"pastCounterShort",value:function(){var t="",n=new e(this);return n.pastYears()>0&&(t+=n.countable(n.pastYears(),"RU"===n.lang?["\u0433\u043e\u0434","\u0433\u043e\u0434\u0430","\u043b\u0435\u0442"]:"year"),t+=" ",n=n.addYear(n.pastYears())),n.pastMonths()>0&&(t+=n.countable(n.pastMonths(),"RU"===n.lang?["\u043c\u0435\u0441\u044f\u0446","\u043c\u0435\u0441\u044f\u0446\u0430","\u043c\u0435\u0441\u044f\u0446\u0435\u0432"]:"month"),t+=" ",n=n.addMonth(n.pastMonths())),n.pastDays()>0&&(t+=n.countable(n.pastDays(),"RU"===n.lang?["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]:"day"),t+=" ",n=n.addDay(n.pastDays())),t+=(n.pastHours()<10?"0":"")+n.pastHours(),t+=":",n.pastHours()>0&&(n=n.addHour(n.pastHours())),t+=(n.pastMinutes()<10?"0":"")+n.pastMinutes(),t+=":",n.pastMinutes()>0&&(n=n.addMinute(n.pastMinutes())),t+=(n.pastSeconds()<10?"0":"")+n.pastSeconds()}},{key:"dayOfWeek",value:function(){return"RU"===this.lang?["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"][this.dateJS.getDay()]:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][this.dateJS.getDay()]}},{key:"dayOfWeekShort",value:function(){return"RU"===this.lang?["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"][this.dateJS.getDay()]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][this.dateJS.getDay()]}},{key:"dayOfWeekNumber",value:function(){return 0===this.dateJS.getDay()?6:this.dateJS.getDay()-1}},{key:"daysInMonth",value:function(){return new Date(this.year(),this.month(),0).getDate()}}]),e}(),Ue=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},He=function(e,t){return e+" "+(Array.isArray(t)?e>10&&e<20||e%10>4||e%10===0?t[2]:e%10>1?t[1]:t[0]:1===e?t:t+"s")},Ye=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).memeDate=new Be(new Date("2018-04-01T20:48:00"),"RU"),a.siteDate=new Be(new Date("2019-07-13T01:21:24"),"RU"),a.state={memeDateString:a.memeDate.pastCounterShort(),siteDateString:a.siteDate.pastCounterShort()},setInterval((function(){return a.setState({memeDateString:a.memeDate.pastCounterShort(),siteDateString:a.siteDate.pastCounterShort()})}),1e3),a}return Object(u.a)(n,[{key:"render",value:function(){var e=[{title:"\u0417\u0430\u0447\u0435\u043c \u0432\u0441\u0451 \u044d\u0442\u043e?",text:Object(h.jsxs)("p",{className:"p",children:["\u042d\u0442\u043e\u0442 \u0441\u0430\u0439\u0442 \u043e \u041b\u044e\u0431\u0432\u0438! \u0421\u0430\u043c\u044b\u0435 \u0432\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u043e\u043c\u0435\u043d\u0442\u044b \u043b\u044e\u0434\u0435\u0439 \u0441\u043e \u0432\u0441\u0435\u0433\u043e \u041c\u0438\u0440\u0430 \u0437\u0430\u043f\u0435\u0447\u0430\u0442\u043b\u0435\u043d\u044b \u043d\u0430 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u043f\u0441\u0438\u0445\u043e\u0434\u0435\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u043c \u043f\u043e\u043b\u043e\u0442\u043d\u0435.",Object(h.jsx)("br",{}),"\u0421\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043c \u0442\u0443\u0442 \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0434\u043b\u044f \u0432\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043c\u044b\u0441\u043b\u0435\u0439 \u0447\u0443\u0432\u0441\u0442\u0432 \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0439. \u0412\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0437\u044b\u0432 \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u043c\u043d\u0435 \u0432 ",Object(h.jsx)(Pe,{newWindow:!0,to:"https://t.me/the_sociophobic",children:"\u043b\u0441"}),". \u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u0441\u0430\u0439\u0442, \u043f\u0440\u0438\u0441\u044b\u043b\u0430\u0439\u0442\u0435 ",Object(h.jsx)(Pe,{newWindow:!0,to:"/donations",children:"\u0434\u043e\u043d\u0430\u0442\u044b"})," \u0438 ",Object(h.jsx)(Pe,{newWindow:!0,to:"/btc",children:"\u0431\u0438\u0442\u043a\u043e\u0438\u043d\u044b"}),". \u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u043f\u043e\u0436\u0435\u043b\u0430\u043d\u0438\u044f, \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438, \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c ",Object(h.jsx)(Pe,{newWindow:!0,to:"https://forms.gle/i8NxcaSA94SvJXhr9",children:"\u0444\u043e\u0440\u043c\u043e\u0439 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438"}),"."]})},{title:"\u041a\u0430\u043a \u0432\u043e\u0437\u043d\u0438\u043a \u0441\u0430\u0439\u0442?",text:Object(h.jsxs)("p",{className:"p",children:["\u0412\u0441\u0451 \u043d\u0430\u0447\u0430\u043b\u043e\u0441\u044c \u0441 ",Object(h.jsx)(Pe,{newWindow:!0,to:"https://vk.com/wall-132153534?offset=60&own=1&w=wall-132153534_1352",children:"\u044d\u0442\u043e\u0433\u043e \u043f\u043e\u0441\u0442\u0430"})," \u0432 ",Object(h.jsx)(Pe,{newWindow:!0,to:"https://vk.com/ateist_r4ve",children:"\u043f\u0430\u0431\u043b\u0438\u043a\u0435 \u0441 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u043c\u0435\u043c\u0430\u043c\u0438"}),' 1 \u0430\u043f\u0440\u0435\u043b\u044f 2018 \u0433\u043e\u0434\u0430. \u041c\u043d\u0435 \u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0442\u0438\u0432\u043d\u044b\u0435 \u043c\u0435\u043c\u044b: \u043f\u0440\u043e\u0441\u0442\u0430\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0432 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043f\u0440\u043e\u0432\u043e\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u043e\u043e\u0431\u0440\u0430\u0437\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u043f\u043b\u0435\u0442\u0435\u043d\u043d\u044b\u0435 \u0446\u0435\u043f\u043e\u0447\u043a\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0432 "\u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c \u043c\u0438\u0440\u0435". \u042d\u0442\u043e\u0442 \u043c\u0435\u043c \u043e\u043a\u0430\u0437\u0430\u043b\u0441\u044f \u043d\u0435\u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e \u0436\u0438\u0432\u0443\u0447\u0438\u043c: \u043c\u043d\u0435 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e \u043f\u0440\u0438\u0441\u044b\u043b\u0430\u043b\u0438 \u0432\u0441\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u0438 \u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438! \u0412 \u0438\u0442\u043e\u0433\u0435, \u042f \u0440\u0435\u0448\u0438\u043b \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0435\u0451 \u0432 \u0432\u0438\u0434\u0435 \u0441\u0430\u0439\u0442\u0430.']})},{title:"\u042d\u0442\u043e \u0432\u0441\u0451 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e (\u0440\u0430\u0437\u0434\u0435\u043b \u0434\u043b\u044f \u043e\u0437\u0430\u0431\u043e\u0447\u0435\u043d\u044b\u0445 \u0433\u0440\u0430\u0436\u0434\u0430\u043d)",text:Object(h.jsxs)("p",{className:"p",children:["\u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u0438\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f ",Object(h.jsx)(Pe,{newWindow:!0,to:"https://www.youtube.com/watch?v=CKQHltD3Lyk",children:"\u043b\u0438\u0431\u0435\u0440\u0442\u0430\u0440\u0438\u0430\u043d\u0441\u043a\u0438\u0445 \u044d\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u043e\u0432"}),Object(h.jsx)("br",{}),"\u0418\u043d\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438, \u0432\u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0438 \u0441\u043b\u043e\u0432\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u043d\u0430\u043d\u043e\u0441\u044f\u0442 \u0432\u0440\u0435\u0434 \u0447\u0443\u0436\u043e\u0439 \u0436\u0438\u0437\u043d\u0438 \u0438 \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0443 \u2014 \u043d\u0435 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043f\u043b\u043e\u0445\u0438\u043c\u0438. \u041b\u044e\u0431\u044b\u0435 \u043e\u0442\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f \u043e\u0442 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043e\u043f\u0440\u0430\u0432\u0434\u044b\u0432\u0430\u044e\u0442 \u0446\u0435\u043d\u0437\u0443\u0440\u044b \u0438 \u0440\u0435\u043f\u0440\u0435\u0441\u0438\u0432\u043d\u044b\u0435 \u0437\u0430\u043a\u043e\u043d\u044b \u043e\u0431 \u043e\u0441\u043a\u043e\u0440\u0431\u043b\u0435\u043d\u0438\u0438 \u0447\u0443\u0432\u0441\u0442\u0432. \u0414\u0430\u043d\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 \u2014 \u0432\u0441\u0435\u0433\u043e \u043b\u0438\u0448\u044c \u0441\u0431\u043e\u0440\u043d\u0438\u043a \u043d\u0435\u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438: \u043e\u043d \u043d\u0435 \u0443\u0433\u0440\u043e\u0436\u0430\u0435\u0442 \u043d\u0438\u0447\u044c\u0435\u0439 \u0436\u0438\u0437\u043d\u0438 \u0438 \u043d\u0435 \u0432\u043e\u0440\u0443\u0435\u0442 \u0447\u0443\u0436\u0438\u0435 \u0434\u0435\u043d\u044c\u0433\u0438, \u0442.\u0435. \u0432 \u043d\u0451\u043c \u043d\u0435\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u0430\u043c\u043e\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e. \u0415\u0441\u043b\u0438 \u0432\u044b, \u0442\u0435\u043c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435, \u043e\u0431\u0435\u0441\u043f\u043e\u043a\u043e\u0435\u043d\u044b \u0441\u0432\u043e\u0431\u043e\u0434\u043e\u0439 \u0441\u043b\u043e\u0432\u0430, \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f ",Object(h.jsx)(Pe,{newWindow:!0,to:"https://forms.gle/i8NxcaSA94SvJXhr9",children:"\u0444\u043e\u0440\u043c\u043e\u0439 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438"}),"."]})}],t=this.context.store.get(),n=t.nodes,a=t.edges;return Object(h.jsxs)("div",{className:"about-container",children:[Object(h.jsxs)("p",{className:"p",children:[this.state.memeDateString," \u0441 \u043f\u0435\u0440\u0432\u043e\u0439 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u043c\u0435\u043c\u0430",Object(h.jsx)("br",{}),this.state.siteDateString," \u0441 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0441\u0430\u0439\u0442\u0430",Object(h.jsx)("br",{}),He(n.length,["\u0447\u0435\u043b\u043e\u0432\u0435\u043a","\u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430","\u0447\u0435\u043b\u043e\u0432\u0435\u043a"])," \u043d\u0430 \u0433\u0440\u0430\u0444\u0435",Object(h.jsx)("br",{}),He(a.length,["\u0441\u0432\u044f\u0437\u044c","\u0441\u0432\u044f\u0437\u0438","\u0441\u0432\u044f\u0437\u0435\u0439"])," \u043d\u0430 \u0433\u0440\u0430\u0444\u0435",Object(h.jsx)("br",{}),He(n.filter((function(e){return e.offended})).length,["\u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0437\u0430\u044f\u0432\u0438\u043b","\u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 \u0437\u0430\u044f\u0432\u0438\u043b\u0438","\u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0437\u0430\u044f\u0432\u0438\u043b\u0438"])," \u043e\u0431 \u043e\u0441\u043a\u043e\u0440\u0431\u043b\u0435\u043d\u0438\u0438 \u0447\u0443\u0432\u0441\u0442\u0432",Object(h.jsx)("br",{}),He(n.filter((function(e){return e.dead})).length,["\u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043c\u0451\u0440\u0442\u0432","\u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 \u043c\u0435\u0440\u0442\u0432\u044b","\u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043c\u0435\u0440\u0442\u0432\u043e"]),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]}),e.map((function(e){return Object(h.jsxs)("article",{className:"article",children:[Object(h.jsx)("h3",{className:"h3",children:e.title}),e.text]})}))]})}}]),n}(a.Component);Ye.contextType=S;var Ve=Ye,Ge=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},Je=[["Maxim","Max"],["Vasya","Vasily","Vasiliy"],["Valera","Valery"],["Evgeny","Evgeniy"],"Igor",["Alexander","Alexandr","Aleksander","Aleksandr","Alek","Alik","Sanya","Sanyok","Sanek"],["Roma","Roman","Romka"],["Mikhail","Mihail","Misha","Michael"],["Vitya","Viktor"],"German",["Denis","Den","Dekhiar","Dehiar","Dekhiyar","Dekhyyar"],["Tema","Tyoma","Artyom","Artem","Artyomka","Artemka","Artemy"],["Lesha","Lyosha","Alexey","Alexei","Aleksey","Aleksei","Alyesha"],["Filip","Filipp","Fil","Fill"],["Dmitriy","Dmitry","Dima"],["Danya","Daniil","Danyil","Danik","Daniel","Dan"],["Danil","Danila"],"Ruslan",["Nikita","Nikitos","Nick"],"Oleg","Egor",["Kirill","Kiril"],"Anton",["Senya","Arseny","Arseniy","Arsenii","Arseni"],["Arsenty","Arsentiy","Arsentii","Arsenti"],["Ivan","Vanya","Vano","Ioan","Ioann"],["Vyacheslav","Vyacheslev"],["Gosha","Georgy","Georgiy","Georgii","Zhorzh"],["Grisha","Grigory","Grigoriy","Grigorii","Grigori","Zhora"],"Grigor",["Seryozha","Serezha","Sergey","Sergy","Sergay","Sirgey","Sirgay","Sirgy"],["Volodya","Vladimir","Vlad","Vova","Vovan","Vladislav","Vladyslav","Vladosik"],["Ilia","Ilya","Iliya","Ilias","Iliyas","Ilyas"],["Tima","Timofey","Timofei"],"Timur",["Petya","Petia","Petiya","Pyotr","Pyotor","Petr","Peter","Petyr","Petir","Piter"],"Rolan",["Mark","Marko"],["Andrey","Andrei","Andew"],["Senya","Senia","Semyon","Semen","Sema","Syoma"],["Lenya","Lyonya","Lenny","Leonid","Leonyd"],"Aziz","Stas",["Borya","Boria","Boris"],["Artur","Arthur"],["Pasha","Pavel"],["Edik","Eduard","Edward"],"Robert",["Vadik","Vadim"],["Ildar","Eldar"],["Yuriy","Yury","Uriy","Ury","Yura","Ura"],"Stefan",["Fedya","Fedia","Fedor","Fyodor","Fydor"],["David","Devid"],["Damir","Damyr"],["Tihon","Tikhon"],["Leva","Lyova","Lev","Leo","Leon"],"Martin","Bogdan","Oslab","Savva","Yan","Klim",["Yaroslav","Yarik","Slava","Slavik"],["Konstantin","Kostya","Kostia"],"Gleb",["Venya","Venia","Veniamin","Venyamin"],["Vitalik","Vitaly","Vitaliy","Vitalii","Vitali"],["Gena","Genady","Genadiy","Genadii","Genadi"],"Mariush",["Sebastyan","Sebastian"],"Matteo","Federico","Matt","Joel",["Tarik","Turik"],"Vsevolod","Moatssem",["Tommy","Tomas","Tom","Tomasz"],"Csaba","Darie","Braulio",["Ron","Rony","Ronny"],"Felix",["Stepa","Styopa","Stepan"],"Matteus","Amir","Rostislav","Givi",["Serafim","Seraphim"],["Kolya","Kolia","Nikolay","Nikolai"],["Esconder","Eskonder"],"Rodion","Radik","Azat","Emil","Oliver",["Natan","Nathan"],"Gera","Avvakum",["Matvey","Matvei","Matviy"],"Karim","Jack","Ilnar","Stanislav","Patrick","Donatas","Marat","Yasha","Ilshat","Svyatoslav",function(e){return e.endsWith("slav")},["Dyonisy","Dyonisiy","Dionisy","Dionisiy"],"Papa","Makar","Elon",["Johnny","John"],"Anzol","Ares","Ostap","Valentin",["Ilarion","Illarion"],"Rudolph","Tagir","Said","Teodor","Jordan","Albert","Elai","Mario","Karl","Zerasim","Ramil","Kosta","Kesha","Luigi","Yuliy",["Lui","Louis"],"Tair","Archet"],Ke=[["Anastasia","Anastasiya","Nastya"],["Olga","Olya"],["Kristina","Kris"],["Anna","Anya","Anisya","Anysya","Anisia","Anysia","Ani"],["Alexandra","Aleksandra"],"Sveta",["Sonya","Sonia","Sofia","Sophia","Sofya","Sofiya"],["Polina","Polya"],["Masha","Maria","Mariya","Mary","Mari","Marusya","Maryana","Mariana"],"Maya",["Kira","Keira"],["Lena","Elena"],["Alyona","Alena"],"Elvira",["Kate","Katya","Ekaterina","Katerina","Katrin","Kathrin"],["Nata","Natasha","Natalya","Natalia","Nataliya"],["Tanya","Tatyana"],"Yana",["Julia","Juliya","Julya","Yulya","Yuliya","Yulia","Yuliana","Uliya","Ulia","Ulya"],["Liza","Lisa","Elizaveta"],["Diana","Dayana"],"Dina",["Varya","Varvara"],["Glasha","Aglaya"],["Dasha","Darya","Dariya","Daria"],"Darina","Dariko",["Tonya","Tonia","Antonina"],["Vika","Viktoriya","Viktorya","Viktoria"],["Arina","Arisha","Arishka"],["Evgenia","Evgeniya","Evgenya"],"Zhanna",["Sima","Serafima","Seraphima"],"Lana",["Nika","Veronika"],"Albina",["Ksusha","Ksenia","Kseniya","Ksenya"],["Rita","Margarita","Margo"],"Vera",["Ustya","Ustina"],["Ira","Irina","Iren"],["Emilia","Emilya","Emiliya","Emily"],["Alisa","Alice"],["Lina","Alina","Angelina"],"Milana",["Valeriya","Valeria","Valerya","Lera"],["Alesya","Alesia","Alesiya"],"Karina",["Lyuba","Luba","Lyubof","Lubof","Lyubov","Lubov"],["Elya","Elina"],["Vita","Vitalia","Vitaliya"],["Anzhela","Anzhelika","Angela","Anjela"],"Anfisa","Lolita",["Lada","Vlada","Vladislava"],"Inessa",["Taisiya","Taisia","Taisya","Tasya","Tasia"],"Kalina","Sabrina",["Ronya","Ronia"],["Liliya","Lilia","Lilya"],["Aelitta","Aelita","Aellyta","Aelyta"],"Nina",["Sveta","Svetlana"],["Nadezhda","Nadya","Nadia"],"Marta",["Patricia","Patrycia"],["Izabela","Isabela"],"Vasilisa","Fekla",["Liana","Lyana","Lianna","Lyanna","Lia","Liya","Lya"],["Galya","Galia","Galina"],"Marina","Almira","Nikol","Anisia","Yanita",["Eva","Eve"],"Yulana",["Anita","Anyta"],["Pelageya","Pelagea","Pelageiya","Pelageia"],["Rebecca","Becca","Beca","Bekka","Beka"],"Inna","Larisa","Amanda",["Safira","Saphira"],"Karolina",["Kamila","Kamilla"],["Elsa","Elza"],"Samira","Sabina",["Asya","Asia"],["Agrippina","Agripina"],"Mila",["Luda","Lyuda","Ludmila","Lyudmila"],"Alevtina","Oksana","Linda","Roza",["Katalina","Catalina"],["Stasya","Stasia","Stacy"],"Malvina",["Melanya","Melania","Melaniya"],"Mama",["Yaroslava","Jaroslava"],["Stoya","Stoia"],"Snezhanna","Ayla","Marfa","Vesta","Ksantoria","Regina","Sara",["Adel","Adelina"],"Vasilina","Laura","Shira","Mariam","Evdokia","Vladlena",["Uliana","Ulyana"],"Ioanna",["Violeta","Veta"],"Staphanie","Lea","Scharlotte"],We=function(){var e=Object(P.a)(U.a.mark((function e(t,n,a){var r,o,s,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return r.push(e)})):r.push(e)})),o=0,s=U.a.mark((function e(n){var s,c,u,l,d,p;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=parseInt(n),c=r[s],u=void 0,e.t0=typeof c,e.next="string"===e.t0?6:"function"===e.t0?8:10;break;case 6:return u=t.search({name:c}).filter((function(e){return e.name.split(" ")[0].toLowerCase()===c.toLowerCase()})),e.abrupt("break",14);case 8:return u=t.get().nodes.filter((function(e){return c(e.name.split(" ")[0].toLowerCase())})),e.abrupt("break",14);case 10:return console.log("nameOrFn unexpected type"),console.log(c),console.log(r.slice(-3)),e.abrupt("break",14);case 14:e.t1=U.a.keys(u);case 15:if((e.t2=e.t1()).done){e.next=25;break}if(l=e.t2.value,(d=u[l]).hasOwnProperty("gender")){e.next=23;break}return e.next=21,t.push(Object(i.a)(Object(i.a)({},d),{},{gender:a}),!1);case 21:p=e.sent,console.log(++o+" "+p.name+" "+p.gender);case 23:e.next=15;break;case 25:case"end":return e.stop()}}),e)})),e.t0=U.a.keys(r);case 5:if((e.t1=e.t0()).done){e.next=10;break}return c=e.t1.value,e.delegateYield(s(c),"t2",8);case 8:e.next=5;break;case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ze=function(e){We(e,Je,"m"),We(e,Ke,"f")},Ze=function(e){return"m"===e.gender||"f"===e.gender},Xe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).post=function(){var e=Object(P.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.a.post("http://localhost:7474/db/data/transaction/commit",{statements:t},{auth:{username:"neo4j",password:"dermo123"}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addCurrentData=Object(P.a)(U.a.mark((function e(){var t,n,r,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.post([{statement:"MATCH (n) DETACH DELETE n"}]);case 2:return t=a.context.store.get(),n="UNWIND "+me(Oe,t.nodes)+" AS properties\nCREATE (n:Person)\nSET n = properties\nRETURN n",e.next=6,a.post([{statement:n}]);case 6:return r=t.edges,console.log(r),o=r.map((function(e){return"\n        MATCH (node0:Person)\n        WHERE node0.name = '".concat(a.context.store.get({id:e.node0}).name,"'\n        MATCH (node1:Person)\n        WHERE node1.name = '").concat(a.context.store.get({id:e.node1}).name,"'\n        CREATE (node0)-[edge:KISS ").concat(he(de(ge,e)),"]->(node1)\n      ")})).map((function(e){return{statement:e}})),e.next=11,a.post(o);case 11:console.log("edges added");case 12:case"end":return e.stop()}}),e)}))),a.copyToJSON=function(){var e=["gender","SHR","political"],t=a.context.store.get().nodes.map((function(t){return ee.a.pickBy(Object(i.a)(Object(i.a)({},t),{},{social:ee.a.pickBy(t.social,(function(e,t){return!ve[t].disabled})),mates:t.mates?t.mates.map((function(t){return ee.a.pickBy(t,(function(t,n){return!e.includes(n)&&"undefined"!==typeof t&&null!==t}))})):void 0}),(function(t,n){return!e.includes(n)&&"undefined"!==typeof t&&null!==t}))}));Ge(JSON.stringify({nodes:t,edges:a.context.store.get().edges}))},a.getAllData=Object(P.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.context.store.copyData();case 1:case"end":return e.stop()}}),e)}))),a.state={},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{className:"button",onClick:function(){return e.copyToJSON()},children:"copy to JSON"}),Object(h.jsx)("button",{className:"button",onClick:function(){return e.context.store.copyPos()},children:"copy position"}),Object(h.jsx)("button",{className:"button",onClick:function(){return e.context.store.copyUV()},children:"copy uv"}),Object(h.jsx)("button",{className:"button",onClick:function(){return ze(e.context.store)},children:"determine genders"})]})}}]),n}(a.Component);Xe.contextType=S;var qe=Xe,Qe=n(33),$e=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).close=function(){return e.props.setOpened(!1)},e.renderOptions=function(){return e.props.options.map((function(t,n){var a=t.style||{};return Object(h.jsx)("div",{className:"form-group__input--dropdown__options__item",style:a,onClick:function(){e.props.setValue(t),e.setState({opened:!1})},children:e.props.valueRender&&e.props.valueRender(t)||t},n)}))},e.render=function(){return Object(h.jsxs)("div",{className:"form-group__input form-group__input--dropdown "+(e.props.opened?"active":""),onClick:function(){return e.props.setOpened(!0)},children:[e.props.valueRender&&e.props.value&&e.props.valueRender(e.props.value)||e.props.value||e.props.placeholder,Object(h.jsx)("div",{className:"form-group__input--dropdown__options form-group__input--dropdown__options--default",children:e.props.opened&&e.renderOptions()})]})},e}return Object(u.a)(n)}(a.Component),et=Object(Qe.a)($e),tt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).focus=function(){return a.inputFieldRef.current&&a.inputFieldRef.current.focus()},a.blur=function(){return a.inputFieldRef.current&&a.inputFieldRef.current.blur()},a.onKeyDown=function(e){var t=""+a.props.value;a.props.number&&a.props.value&&t.match(/[^0-9]/g)&&a.props.onChange(t.replace(/[^0-9]/g,"")),a.props.onKeyDown&&a.props.onKeyDown(e)},a.onBlur=function(e){a.props.onBlur&&a.props.onBlur(e)},a.render=function(){return Object(h.jsx)("div",{className:"form-group "+a.props.className+" "+(a.props.errorMessage&&"form-group--error"),children:Object(h.jsxs)("div",{className:"position-relative",children:[Object(h.jsx)("input",{ref:a.inputFieldRef,type:a.props.number?"number":"text",className:"form-group__input",placeholder:a.props.placeholder,required:a.props.required,value:a.props.value,onChange:function(e){return a.props.onChange(e.target.value)},onFocus:a.props.onFocus,onBlur:a.onBlur,onKeyDown:a.onKeyDown,disabled:a.props.disabled}),Object(h.jsx)("label",{className:"form-group__label",children:a.props.label}),a.props.showReset&&a.props.value.length>0&&Object(h.jsx)("div",{className:"reset",onClick:function(){a.focus(),a.props.onChange(null)}})]})})},a.inputFieldRef=e.inputFieldRef||r.a.createRef(),a}return Object(u.a)(n)}(a.Component),nt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).close=function(){r.props.setOpened(!1),r.props.inputFieldRef&&r.props.inputFieldRef.current.blur()},r.onChange=function(e){if(null===e)return r.setState({typedValue:""}),void r.props.onChange("");r.setState({neverTypedFlag:!1}),r.setState({typedValue:e}),r.props.updateOptions&&r.props.updateOptions(e),""!==e||r.props.keepValue||r.props.onChange("")},r.setValue=function(e){var t="undefined"!==typeof e.name?e.name:e;r.setState({typedValue:t}),r.props.onChange(e)},r.onFocus=function(){r.props.updateOptions&&r.props.updateOptions(r.state.typedValue),r.props.setOpened(!0)},r.onBlur=function(){return r.setState({neverTypedFlag:!0,typedValue:r.props.value})},r.renderOptions=function(){return r.props.options&&r.props.options.map((function(e,t){var n=e.style||{};return Object(h.jsx)("div",{style:n,className:"form-group__input--dropdown__options__item",onClick:function(){return r.setValue("string"===typeof e?e:e.value)},children:"string"===typeof e?e:e.render},t)}))},r.render=function(){return Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)(tt,{inputFieldRef:r.props.inputFieldRef,className:"form-group__input--dropdown "+r.props.className,placeholder:r.props.placeholder,required:r.props.required,value:r.state.neverTypedFlag&&r.props.value||r.state.typedValue,onChange:function(e){return r.onChange(e)},onFocus:function(){return r.onFocus()},onBlur:function(){return r.onBlur()},disabled:r.props.disabled,showReset:r.props.showReset,onKeyDown:r.props.onKeyDown}),Object(h.jsx)("div",{className:"form-group__input--dropdown__options "+(r.props.relativeOptionsList&&"position-relative"),children:r.props.opened&&r.renderOptions()})]})},r.state={typedValue:r.props.value,neverTypedFlag:!0,oldPropValue:r.props.value},r}return Object(u.a)(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){return t.oldPropValue!==e.value&&(t.oldPropValue=e.value,e.value!==t.typedValue&&(t.typedValue=e.value,t.neverTypedFlag=!1,e.required&&(e.updateOptions&&e.updateOptions(e.value),e.setOpened(!0)))),t}}]),n}(a.Component),at=Object(Qe.a)(nt),rt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).externalAreaClick=function(e){a.state.opened&&e.target.parentElement!==a.dropdownAreaRef.current&&e.target!==a.inputFieldRef.current&&a.dropdownRef&&a.dropdownRef.current&&a.dropdownRef.current.close()},a.close=function(){return a.dropdownRef.current&&a.dropdownRef.current.close&&a.dropdownRef.current.close()},a.state={opened:!1},a.dropdownAreaRef=r.a.createRef(),a.inputFieldRef=r.a.createRef(),a.dropdownRef=r.a.createRef(),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.externalAreaClick.bind(this))}},{key:"componentWillUnount",value:function(){window.removeEventListener("click",this.externalAreaClick.bind(this))}},{key:"render",value:function(){var e=this,t=!this.props.disabled&&this.state.opened;return Object(h.jsxs)("div",{className:"position-relative"+(this.props.disabled?" universal-disabled":""),ref:this.dropdownAreaRef,children:[this.props.label&&Object(h.jsx)("div",{className:"form-group__label",children:this.props.label}),this.props.input?Object(h.jsx)(at,Object(i.a)(Object(i.a)({ref:this.dropdownRef},this.props),{},{opened:t,setOpened:function(t){return e.setState({opened:t})},inputFieldRef:this.inputFieldRef})):Object(h.jsx)(et,Object(i.a)(Object(i.a)({ref:this.dropdownRef},this.props),{},{opened:t,setOpened:function(t){return e.setState({opened:t})},inputFieldRef:this.inputFieldRef}))]})}}]),n}(a.Component),ot=[{symbol:"\ud83d\udc8b",name:"kiss"},{symbol:"\ud83c\udff3\ufe0f\u200d\ud83c\udf08",name:"gay"},{symbol:"\ud83e\udde0",name:"IQ"},{symbol:"\ud83d\ude31",name:"mentalDisorder"},{symbol:"\ud83d\ude48",name:"hidden"},{symbol:"\ud83d\udde3",name:"told"},{symbol:"\ud83d\udcec",name:"letter"},{symbol:"\ud83d\udcc5",name:"date"},{symbol:"\ud83d\udcf0",name:"newspaper"},{symbol:"\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68",name:"gay2"},{symbol:"\ud83c\udf0e",name:"world"},{symbol:"\ud83d\udc80",name:"dead"},{symbol:"\ud83d\udc94",name:"offended"},{symbol:"\ud83e\udd2c",name:"triggered"},{src:n.p+"static/media/greenfrog.3c967fa8.png",name:"greenfrog"},{src:n.p+"static/media/arsenyan.1dd7f172.png",name:"arsenyan"},{symbol:"\ud83d\udef9",name:"skate"},{symbol:"\ud83d\udc73\ud83c\udffd\u200d\u2640\ufe0f",name:"hindu"},{symbol:"\ud83c\udf92",name:"school"},{symbol:"\ud83c\udfa8",name:"artist"},{symbol:"\ud83c\udfa4",name:"micro"},{symbol:"\ud83d\udcbb",name:"mac"},{symbol:"\ud83d\udcbe",name:"copy"},{symbol:"\ud83c\udf05",name:"acid"},{symbol:"\u23f3",name:"time"},{symbol:"\u231b",name:"timeup"},{symbol:"\ud83d\udcd6",name:"book"},{symbol:"\ud83e\udd31\ud83c\udffb",name:"child"},{symbol:"\ud83c\udfb8",name:"guitar"},{symbol:"\ud83c\uddee\ud83c\uddf1",name:"jew"},{symbol:"\ud83d\udc8a",name:"pill"},{symbol:"\ud83d\udc1e",name:"korovka"},{symbol:"\ud83d\udc20",name:"fish"},{symbol:"\ud83d\udc16",name:"pig"},{symbol:"\ud83d\udca9",name:"shit"},{symbol:"\ud83e\uddf1",name:"kirpich"},{symbol:"\u26bd\ufe0f",name:"football"},{symbol:"\ud83e\udd86",name:"duck"},{symbol:"\ud83c\udf19",name:"moon"},{symbol:"\ud83d\uddfd",name:"america"},{symbol:"\ud83c\uddf7\ud83c\uddfa",name:"russia"},{symbol:"\ud83e\udd56",name:"baton"},{symbol:"\ud83d\udc51",name:"crown"},{symbol:"\ud83d\udc70\ud83c\udffb",name:"married"},{symbol:"\ud83e\udd1d",name:"friendship"},{symbol:"\ud83d\udeab",name:"chivalry"},{symbol:"\ud83d\udd1e",name:"sex"},{symbol:"\ud83c\udf88",name:"baloon"},{symbol:"\ud83e\uddf8",name:"toybear"},{symbol:"\ud83c\udfb1",name:"fate"},{symbol:"\ud83e\uddd4\ud83c\udffd",name:"beard"},{symbol:"\ud83d\udec1",name:"bath"},{symbol:"\ud83c\udf4c",name:"banana"},{symbol:"\ud83c\udf46",name:"baklazhan"},{symbol:"\ud83d\udc4c\ud83c\udffb",name:"ok"},{symbol:"\u2696\ufe0f",name:"justice"},{symbol:"\ud83d\udcff",name:"prayerBeads"},{symbol:"\ud83d\udc89",name:"syringe"},{symbol:"\ud83d\udc80",name:"skull"},{symbol:"\ud83c\udf26",name:"lilRain"},{symbol:"\ud83c\udf75",name:"tea"},{symbol:"\ud83e\udd8a",name:"fox"},{symbol:"\ud83d\udcf8",name:"photo"},{symbol:"\ud83e\udd7e",name:"boot"},{symbol:"\ud83d\udcfa",name:"tv"},{symbol:"\ud83e\uddda\ud83c\udffc\u200d\u2640\ufe0f",name:"feya"},{symbol:"\ud83e\udd6d",name:"mango"},{symbol:"\ud83d\udcf8",name:"photoShot"},{symbol:"\ud83d\udc59",name:"bikini"},{symbol:"\ud83d\ude45\ud83c\udffb\u200d\u2640\ufe0f",name:"womanBan"},{symbol:"\ud83e\udd3a",name:"saber"},{symbol:"\ud83c\uddea\ud83c\uddf8",name:"Spain"},{symbol:"\ud83d\udecf",name:"krovatka"},{symbol:"\ud83c\udfe5",name:"hospital"},{symbol:"\ud83e\udddd\ud83c\udffc\u200d\u2640",name:"elf"},{symbol:"\ud83e\udd66",name:"vegan"},{symbol:"\ud83d\udca1",name:"light"},{symbol:"\ud83d\udc26",name:"pigeon"},{symbol:"\ud83d\udc38",name:"frog"},{symbol:"\ud83d\udc81\ud83c\udffb\u200d\u2642\ufe0f",name:"male"},{symbol:"\ud83d\udc81\ud83c\udffb\u200d\u2640\ufe0f",name:"female"},{symbol:"\ud83d\udc64",name:"person"},{symbol:"\ud83e\uddec",name:"gene"},{symbol:"\ud83c\udfc6",name:"winner"},{symbol:"\ud83d\udd79",name:"gamepad"},{symbol:"\ud83d\udc48\ud83c\udffb",name:"pointer"},{symbol:"\ud83d\udd0c",name:"sex"},{symbol:"\u2764\ufe0f",name:"heart"},{symbol:"\ud83d\udc94",name:"heartBroken"},{symbol:"\ud83d\udcc1",name:"folder"},{symbol:"\ud83d\udccf",name:"ruler"},{symbol:"\ud83d\udc69\ud83c\udffb\u200d\ud83d\ude80",name:"spaceman"},{symbol:"\ud83d\udea2",name:"ship"},{symbol:"\ud83c\udf10",name:"browser"},{symbol:"\ud83c\udf3a",name:"flower"},{symbol:"\ud83d\udc0d",name:"snake"},{symbol:"\ud83c\udfad",name:"theater"},{symbol:"\ud83c\udfa5",name:"kinocamera"},{symbol:"\u2697\ufe0f",name:"alchemy"},{symbol:"\ud83d\udc69\ud83c\udffc\u200d\u2696\ufe0f",name:"judge"},{symbol:"\ud83c\udfbf",name:"ski"},{symbol:"\ud83c\udf7a",name:"beer"},{symbol:"\ud83c\udde9\ud83c\uddea",name:"germany"},{symbol:"\ud83d\udc13",name:"cock"},{symbol:"\ud83e\udd16",name:"robot"},{symbol:"\ud83d\ude18",name:"empathy"}].map((function(e){return Object(Q.a)({},e.name,(function(){return Object(h.jsx)("span",{className:"emoji emoji__".concat(e.name),role:"img","aria-label":e.name,title:e.name,children:e.symbol?e.symbol:Object(h.jsx)("img",{src:e.src,className:"emoji__img"})})}))})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)})),st=ot,it=function(e){return ot.hasOwnProperty(e.name)?ot[e.name]():""},ct=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).updateOptions=function(e){if("undefined"===typeof e||0===e.length)a.setState({currentOptions:[]});else{var t=a.context.store.search({name:e,userName:e}).slice(0,a.props.optionsNumber||(window.innerHeight>736?7:5)).map((function(e){return{value:e,style:{":hover":{backgroundColor:"var(--weight-color-".concat(e.connections,")")}},render:Object(h.jsxs)("p",{className:"p",children:[e.name," ",e.emoji&&Object(h.jsx)(it,{name:e.emoji})," ",Object(h.jsx)("em",{children:e.userName?" (@".concat(e.userName,")"):""})]})}}));a.setState({currentOptions:t})}},a.close=function(){return a.dropdownRef.current&&a.dropdownRef.current.close()},a.render=function(){return Object(h.jsx)(rt,{ref:a.dropdownRef,input:!0,keepValue:!0,value:a.props.node&&a.props.node.name||"",options:a.state.currentOptions,updateOptions:function(e){return a.updateOptions(e)},onChange:function(e){return a.props.onChange(e)},placeholder:"Search...",showReset:!0,onKeyDown:a.props.onKeyDown,className:a.props.className})},a.state={currentOptions:[]},a.dropdownRef=r.a.createRef(),a}return Object(u.a)(n)}(a.Component);ct.contextType=S;var ut=ct,lt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).render=function(){var e=a.props,t=e.options;return e.canBeUndefined&&(t=[{value:void 0,label:"none"}].concat(Object(g.a)(t))),Object(h.jsx)("div",{className:"my-select "+a.props.className,children:(t||[]).map((function(e){return"string"===typeof e?{value:e,label:e}:e})).map((function(e){return Object(h.jsx)("div",{className:"my-select__option "+(a.props.value===e.value&&"my-select__option--selected"),onClick:function(){return a.props.onChange(e.value)},children:e.label},e.label)}))})},a}return Object(u.a)(n)}(a.Component),dt=function(e){return Object(h.jsx)("div",{className:"custom-checkbox ".concat(e.value&&"custom-checkbox--checked"," ").concat(e.className),onClick:function(){return e.onChange(!e.value)},children:e.children})},pt=function(e){return 0!==e.minute()||0!==e.hour()||!(0===e.second||e.second>3)},mt=function(e){var t=new Be(e.date,"RU");return Object(h.jsx)("span",{className:e.className,children:pt(t)?t.time():"?? : ??"})},ht={day:{range:[1,31],fn:"day",label:"dd",after:"/"},month:{range:[1,12],fn:"month",label:"mm",after:"/"},year:{range:[-1e4,3e3],fn:"year",label:"yyyy"},hour:{range:[0,23],fn:"hour",label:"hh",after:":"},minute:{range:[0,59],fn:"minute",label:"mm"}},ft=function(e){return Object.keys(ht).map((function(t){return Object(Q.a)({},t+"Str","undefined"===typeof e?"":e[ht[t].fn]())})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}))},bt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r,o;return Object(c.a)(this,n),(r=t.call(this,e)).recalcDate=function(e,t){var n=Object(i.a)(Object(i.a)({},r.state),{},Object(Q.a)({},e+"Str",t)),a=new Be(function(e){var t=e.year,n=e.month,a=e.day,r=e.hour,o=e.minute,s=0;"undefined"!==typeof o&&""!==o||(s=1,o=1),"undefined"!==typeof r&&""!==r||(s=2,r=1),"undefined"!==typeof a&&""!==a||(s=3,a=1),"undefined"!==typeof n&&""!==n||(s=4,n=1);var i=function(e){return"number"===typeof e?e<10?"0"+e:e:"string"===typeof e&&1===e.length?"0"+e:e};return new Date("".concat(t,"-").concat(i(n),"-").concat(i(a),"T").concat(i(r),":").concat(i(o),":").concat(i(s))).getTime()/1e3}(Object.keys(ht).map((function(e){return Object(Q.a)({},e,n[e+"Str"])})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}))));isNaN(a.getTime())?r.setState(Object(i.a)(Object(i.a)({},n),{},{myDateInstance:a})):r.props.onChange(a.getTime()/1e3)},r.render=function(){return Object(h.jsxs)("div",{className:"custom-date-picker",children:[Object(h.jsx)("div",{className:"custom-date-picker__label",children:r.props.label}),Object(h.jsx)("div",{className:"custom-date-picker__inputs",children:Object.keys(ht).map((function(e){return Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)(tt,{number:!0,range:ht[e].range,className:"custom-date-picker__inputs__item custom-date-picker__inputs__item--"+e,value:r.state[e+"Str"],onChange:function(t){return r.recalcDate(e,t)},label:ht[e].label}),Object(h.jsx)("div",{className:"custom-date-picker__inputs__after",children:ht[e].after})]})}))}),Object(h.jsx)("div",{className:"custom-date-picker__res",children:r.state.myDateInstance&&r.state.myDateInstance.time()+" "+r.state.myDateInstance.toStringDot()+" "+r.state.myDateInstance.getTime()})]})},"undefined"!==typeof e.value&&""!==e.value&&(o=new Be(e.value)),r.state=Object(i.a)(Object(i.a)({},ft(o)),{},{myDateInstance:o,prevValue:e.value}),r}return Object(u.a)(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){if(e.value!==t.prevValue){var n=""===e.value||"undefined"===typeof e.value?void 0:new Be(e.value);t=Object(i.a)(Object(i.a)({},t),{},{prevValue:e.value,myDateInstance:n},ft(n))}return t}}]),n}(a.Component),jt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).renderKey=function(e){var t=a.props,n=t.model,r=t.state,o=t.setState;switch(n[e].type){case"boolean":return Object(h.jsx)(dt,{className:"edit-node__checkbox",value:r[e],onChange:function(t){return o(Object(Q.a)({},e,t))},children:e},e);case"select":return Object(h.jsx)(lt,{className:"edit-node__select",value:r[e],onChange:function(t){return o(Object(Q.a)({},e,t))},options:n[e].options,canBeUndefined:n[e].canBeUndefined,label:e},e);case"date":return Object(h.jsx)(bt,{value:r[e],onChange:function(t){return o(Object(Q.a)({},e,t))},label:e});default:return Object(h.jsx)(tt,{className:"edit-node__input",value:r[e],onChange:function(t){return o(Object(Q.a)({},e,t))},label:e},e)}},a.render=function(){return Object.keys(a.props.model).map((function(e){return a.renderKey(e)}))},a}return Object(u.a)(n)}(a.Component),gt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).createEmptyNode=function(e,t){var n=t||o.state.currentModel,a=Object(i.a)(Object(i.a)({},function(e){return re(ce(se(e)))}(o.state.currentModel)),{},{name:e});if(je(n)){var r,s,c,u=null===(r=o.context.threeSceneRef)||void 0===r||null===(s=r.current)||void 0===s||null===(c=s.controls)||void 0===c?void 0:c.target;a=Object(i.a)(Object(i.a)({},a),{},{"pos.x":(null===u||void 0===u?void 0:u.x)+Math.random()/2-.25,"pos.y":(null===u||void 0===u?void 0:u.y)+Math.random()/2-.25,"pos.z":(null===u||void 0===u?void 0:u.z)+Math.random()/2-.25})}return a},o.setNode=function(e){var t,n=o.state.currentModel;null===e||"undefined"===typeof e||null===e.name||""===e.name?t=o.createEmptyNode(e.name):(t=e,"undefined"!==typeof e.id&&(je(t)?(n=Oe,o.context.threeSceneRef&&o.context.threeSceneRef.current.setCamera(t.pos)):n=xe),t=Object(i.a)(Object(i.a)({},o.createEmptyNode(t.name,n)),ne(te(t,Object(i.a)({id:{}},ie(Oe)))))),o.props.setNodeId(t.id),o.setState({currentModel:n}),o.setState(re(ne(t)))},o.save=Object(P.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.context.store.push(le(o.state,o.state.currentModel));case 2:t=e.sent,o.setNode(t);case 4:case"end":return e.stop()}}),e)}))),o.delete=Object(P.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.context.store.delete(le(o.state,o.state.currentModel));case 2:o.setNode({name:null});case 3:case"end":return e.stop()}}),e)}))),o.onEnterPress=function(e){13===e.keyCode&&(o.setNode({name:e.target.value}),o.nameSearchRef.current&&o.nameSearchRef.current.close())},o.render=function(){var e,t="number"!==typeof o.state.id,n=o.state,r=n.name,s=n.currentModel;return Object(h.jsxs)("div",{className:"edit-node",children:[Object(h.jsx)(ut,{ref:o.nameSearchRef,node:o.state,onChange:function(e){return o.setNode(e)},onKeyDown:function(e){return o.onEnterPress(e)},className:"mb-4",optionsNumber:15}),o.state.name&&o.state.name.length>0&&Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)("button",{className:"edit-node__button",onClick:function(){return o.save()},children:t?"Add":"Update"}),!t&&Object(h.jsx)("button",{className:"edit-node__button",onClick:function(){return o.delete()},children:"Delete"}),t&&Object(h.jsx)(lt,{value:o.state.currentModel,onChange:function(e){return o.setState(Object(i.a)(Object(i.a)({},o.createEmptyNode(r,e)),{},{currentModel:e}))},options:[{value:Oe,label:"Person"},{value:xe,label:"Concept"}],label:"node type"}),Object(h.jsx)(jt,{state:o.state,setState:o.setState.bind(Object(j.a)(o)),model:(e=s,ie(se(e)))})]})]})},o.state={currentModel:Oe},o.nameSearchRef=r.a.createRef(),o}return Object(u.a)(n)}(a.Component);gt.contextType=S;var yt=gt,vt=["commited","told","published"],Ot=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){return a.context.textInterfaceRef.current&&a.context.textInterfaceRef.current.openWorkspace&&a.context.textInterfaceRef.current.openWorkspace()},a.pushEdge=Object(P.a)(U.a.mark((function e(){var t,n,r,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.node0,r=t.node1,-1!==n&&-1!==r){e.next=3;break}return e.abrupt("return");case 3:return o=a.state,"undefined"===typeof a.state.id&&(o.published=Math.round((new Be).getTime()/1e3)),a.state.publishedInstantly&&(o.told=o.published),e.next=8,a.context.store.push(oe(o));case 8:a.context.store.copyData();case 9:case"end":return e.stop()}}),e)}))),a.deleteEdge=Object(P.a)(U.a.mark((function e(){var t,n,r,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.node0,r=t.node1,-1!==n&&-1!==r){e.next=3;break}return e.abrupt("return");case 3:return o=a.state,e.next=6,a.context.store.delete(oe(o));case 6:a.context.store.copyData();case 7:case"end":return e.stop()}}),e)}))),a.createEmptyEdge=function(e,t){return Object(i.a)(Object(i.a)({},ce(ge)),{},{node0:e,node1:t})},a.setNodeId=function(e,t){a.setState(Object(Q.a)({},t,e));var n={node0:a.context.store.get({id:a.state.node0}),node1:a.context.store.get({id:a.state.node1})};n[t]=a.context.store.get({id:e});var r=n.node0,o=n.node1;if(null!==r&&null!==o){var s={},c={KISS:"mates",MARRIED:"sposes",DEBATED:"debated",SEX:"sex",DATE:"date",BREAKUP:"breakup"}[a.state.type];if(r[c].length>0&&o[c].length>0){var u=r[c].map((function(e){return e.id})).indexOf(o.id);-1!==u&&(s=a.context.store.get({edgeId:r[c][u].edgeId}),a.setState({editingEdge:!0}))}else s=Object(i.a)(Object(i.a)({},a.createEmptyEdge(r.id,o.id)),{},{type:a.state.type}),a.setState({editingEdge:!1});s=Object(i.a)(Object(i.a)({},a.createEmptyEdge(r.id,o.id)),s),Object.keys(re(s)).forEach((function(e){return a.setState(Object(Q.a)({},e,s[e]))}))}},a.toggleCalc=function(){var e,t;null===(e=a.context.threeSceneRef)||void 0===e||null===(t=e.current)||void 0===t||t.toggleUnits();a.setState({recalcInProcess:!a.state.recalcInProcess})},a.pauseCalc=function(){var e,t,n;null===(e=a.context.threeSceneRef)||void 0===e||null===(t=e.current)||void 0===t||null===(n=t.units)||void 0===n||n.graphCalc.pause()},a.saveCalc=Object(P.a)(U.a.mark((function e(){var t,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.pauseCalc(),e.next=3,null===(t=a.context.threeSceneRef)||void 0===t||null===(n=t.current)||void 0===n||null===(r=n.units)||void 0===r?void 0:r.graphCalc.save();case 3:return e.sent,e.next=6,a.context.store.update();case 6:a.toggleCalc();case 7:case"end":return e.stop()}}),e)}))),a.state=Object(i.a)(Object(i.a)({node0:void 0,node1:void 0},vt.map((function(e){return Object(Q.a)({},e,void 0)})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}))),{},{hidden:!1,publishedInstantly:!1,editingEdge:!1,type:"KISS",recalcInProcess:!1}),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"kontrol",children:[Object(h.jsx)(qe,{}),Object(h.jsx)("button",{className:"button",onClick:function(){return e.toggleCalc()},children:this.state.recalcInProcess?"cancel":"recalc"}),this.state.recalcInProcess&&Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)("button",{className:"button",onClick:function(){return e.pauseCalc()},children:this.state.recalcInProcess?"pause":"play"}),Object(h.jsx)("button",{className:"button",onClick:function(){return e.saveCalc()},children:"save"})]}),Object(h.jsx)(lt,{value:this.state.type,onChange:function(t){return e.setState({type:t})},options:ge.type.options,label:"edgeType"}),this.state.node0&&this.state.node1&&Object(h.jsxs)("div",{className:"date-pickers",children:[(this.state.publishedInstantly?["commited"]:vt).map((function(t){return Object(h.jsx)(bt,{value:e.state[t],onChange:function(n){return e.setState(Object(Q.a)({},t,n))},label:t})})),Object(h.jsx)(dt,{className:"edit-node__checkbox",value:this.state.hidden,onChange:function(t){return e.setState({hidden:t})},children:"hidden"}),Object(h.jsx)(dt,{className:"edit-node__checkbox",value:this.state.publishedInstantly,onChange:function(t){return e.setState({publishedInstantly:t})},children:"publishedInstantly"}),Object(h.jsx)("button",{className:"date-pickers__button",onClick:function(){return e.pushEdge()},children:this.state.editingEdge?"Update":"Connect"}),this.state.editingEdge&&Object(h.jsx)("button",{className:"date-pickers__button",onClick:function(){return e.deleteEdge()},children:"Delete"})]}),Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)(yt,{node:this.state.nodeA,setNodeId:function(t){return e.setNodeId(t,"node0")}}),Object(h.jsx)(yt,{node:this.state.nodeB,setNodeId:function(t){return e.setNodeId(t,"node1")}})]})]})}}]),n}(a.Component);Ot.contextType=S;var xt=Ot,kt=function(e){return e.preventDefault()},wt=function(e){switch(e.prop){case"IQ":return e.user.iq;case"mass":return e.user.weight+"kg";case"height":return e.user.height+"cm";case"gay":return e.user.gay+"%";case"sposes":case"date":case"breakup":case"debated":return e.user[e.prop].length;default:return e.user[e.prop]}},St=function(e){return e.simple?Object(h.jsx)("div",{className:"username-link username-link--simple",children:Object(h.jsxs)("div",{className:"link d-inline-flex flex-row align-items-center",style:{color:"var(--weight-color-".concat(e.user.connections,")")},onClick:function(){return e.setNode(e.user)},children:[Object(h.jsx)("div",{className:"link__short-name",children:e.user.userName?"@"+e.user.userName:e.user.name}),e.emoji&&Object(h.jsx)(it,{name:e.emoji})]})}):e.prop?Object(h.jsxs)("div",{className:"username-link",style:{color:"var(--weight-color-".concat(e.user.connections,")")},children:["string"===typeof e.emoji&&Object(h.jsx)("div",{className:"username-link__type",children:Object(h.jsx)(it,{name:e.emoji})}),Object(h.jsx)("div",{className:"username-link__number",children:wt(e)}),Object(h.jsx)("div",{className:"username-link__name",children:Object(h.jsxs)("span",{className:"link",onClick:function(){return e.setNode(e.user)},children:[e.user.userName?"@"+e.user.userName:e.user.name,e.user.emoji&&Object(h.jsx)(it,{name:e.user.emoji})]})}),e.date&&Object(h.jsx)("div",{className:"username-link__date",children:new Be(e.date).toStringDot()})]},e.user.name):Object(h.jsxs)("div",{className:"username-link",style:{color:"var(--weight-color-".concat(e.user.connections,")")},children:["string"===typeof e.emoji&&e.emojiLink?Object(h.jsx)(p.b,{className:"username-link__type",to:e.emojiLink,children:Object(h.jsx)(it,{name:e.emoji})}):Object(h.jsx)("div",{className:"username-link__type",children:Object(h.jsx)(it,{name:e.emoji})}),Object(h.jsx)("div",{className:"username-link__number",children:e.user.connections}),Object(h.jsx)("div",{className:"username-link__name",children:Object(h.jsxs)("span",{className:"link",onClick:function(){return e.setNode(e.user)},children:[e.user.userName?"@"+e.user.userName:e.user.name,e.user.emoji&&Object(h.jsx)(it,{name:e.user.emoji})]})}),!1,e.date&&Object(h.jsx)("div",{className:"username-link__date",children:new Be(e.date).toStringDot()})]},e.user.name)},Et=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).render=function(){return Object(h.jsxs)("div",{className:"List",children:[(a.props.items||[]).slice(0,a.state.shown).map((function(e,t){return Object(h.jsx)("div",{className:"List__Item",children:Array.isArray(e)?e.map((function(e,n){return Object(h.jsx)("div",{children:e},t+" "+n)})):e},t)})),(a.props.items||[]).length>a.state.shown&&Object(h.jsx)("button",{className:"button--load-more",onClick:function(){return a.setState({shown:a.state.shown+(a.props.offset||50)})},children:"Load more"})]})},a.state={shown:e.minItems||50},a}return Object(u.a)(n)}(a.Component),Nt=function(e,t){var n=window.open(e,"_blank");t&&n.focus()},At="c04de2f0c04de2f0c04de2f07fc0274a03cc04dc04de2f09cac39268ba71a3c9507cdee",Dt=function(){var e=Object(P.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("https://api.vk.com/method/wall.search?owner_id=".concat(t.owner_id,"&v=5.103&query=#").concat(t.hashtag,"&fields=count&access_token=").concat(At));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tt=["DEBATED","KISS","BREAKUP","DATE","SEX","MARRIED"],Rt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).updateNumberOfHashtagPosts=Object(P.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,Dt({owner_id:"-190713011",hashtag:a.props.node.hashtag});case 3:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)}))),a.renderSocialLinks=function(e){return e.social&&(t=e.social,t&&Object.keys(t).filter((function(e){return!ve[e].disabled})).map((function(e){var n,a;return ve[e]&&{url:ve[e].link+("ticktok"===e||e.includes("ticktok")?"/@":"/")+t[e],userName:t[e],label:ve[e].label,noLink:null===(n=(a=ve[e]).noLink)||void 0===n?void 0:n.call(a,t[e])}}))).map((function(e){return e.url.length>0&&e.noLink?Object(h.jsx)(Pe,{className:"secret__link",children:e.noLink},e.url||e.noLink):Object(h.jsx)(Pe,{to:"https://"+e.url,newTab:!0,className:"secret__link",children:e.label},e.url||e.noLink)}));var t},a.renderProps=function(e){var t=[{name:"emoji",onClick:function(){return a.setState({showSecretLinks:!a.state.showSecretLinks})},className:"node-info__tags__item--emoji",style:{backgroundColor:"var(--weight-color-".concat(e.connections,")")},render:function(e){return Object(h.jsx)(it,{name:e.emoji})}},{name:"name",onClick:function(){Ge("".concat(e.hashtag?"#".concat(e.hashtag,"@i_love_my_frens \n"):"","https://kiss-graph.com/node/").concat(e.link,"\n")),a.setState({copied:!0}),setTimeout((function(){return a.setState({copied:!1})}),1e4)},render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.copy,{})," ",a.state.copied?"Copied to clipboard":"Share"]})}},{name:"specialSite",onClick:function(){return Nt(e.specialSite)},render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(it,{name:e.specialSiteEmoji||"world"})," ",e.specialSiteName||e.name]})}},{name:"hashtag",onClick:function(){Nt("https://vk.com/wall-190713011?q=%23".concat(e.hashtag),!0),e.hashtag2&&Nt("https://vk.com/wall-190713011?q=%23".concat(e.hashtag2))},render:function(){return Object(h.jsxs)(h.Fragment,{children:["#",e.hashtag]})}},{name:"mentalDisorder",link:"mental",text:"/10 mental disorder"},{name:"iq",render:function(){return console.log(e),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.IQ,{})," ","string"===typeof e.iq?e.iq:e.iq+(e.iq2||e.iq)>>1," IQ"]})}},{name:"eq",link:"eq",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.empathy,{})," ",e.eq," EQ"]})}},{name:"weight",link:"mass",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.justice,{})," ",e.weight," kg"]})}},{name:"height",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.ruler,{}),e.height," cm"]})}},{name:"bmim",link:"body-mass-index-male",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.justice,{})," / ",Object(h.jsx)(st.ruler,{})," ",e.bmim," BMI"]})}},{name:"bmif",link:"body-mass-index-female",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.justice,{})," / ",Object(h.jsx)(st.ruler,{})," ",e.bmif," BMI"]})}},{name:"dead"},{name:"offended",link:"triggered",emoji:"triggered",text:" triggered"},{name:"gay",text:"% gay"},{name:"sposes",link:"marriages",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.married,{})," ",e.sposes.length]})}},{name:"sex",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.sex,{})," ",e.sex.length]})}},{name:"date",link:"dates",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.heart,{})," ",e.date.length]})}},{name:"breakup",link:"break-ups",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.heartBroken,{})," ",e.breakup.length]})}},{name:"debated",link:"unrecognized",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.womanBan,{})," ",e.debated.length]})}},{name:"mates",link:"kisses",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.kiss,{})," ",e.connections,e.hiddenConnections?Object(h.jsxs)(h.Fragment,{children:[" (",e.hiddenConnections,Object(h.jsx)(st.hidden,{}),")"]}):""]})}}];return Object(h.jsx)("div",{className:"node-info__tags",children:t.filter((function(t){return!(Array.isArray(e[t.name])&&0===e[t.name].length)})).map((function(t){return"undefined"!==typeof e[t.name]&&Object(h.jsx)("button",{className:"node-info__tags__item "+t.className,style:t.style,onClick:t.onClick?t.onClick:function(){a.props.setNode(null,!1,!1),a.props.history.push("/stats/"+(t.link||t.name))},children:t.render?t.render(e):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(it,{name:t.emoji||t.name}),e[t.name],t.text||t.name]})},t.name)}))})},a.setSortBy=function(e){return a.setState({sortBy:e,orderDesc:a.state.sortBy===e?!a.state.orderDesc:"name"!==e})},a.renderConnections=function(e){return e.length>0&&Object(h.jsxs)("div",{className:"node-info__connections",children:[Object(h.jsxs)("div",{className:"username-link username-link--sort",children:[Object(h.jsx)("div",{className:"username-link__type "+("type"===a.state.sortBy&&(a.state.orderDesc?"desc-order":"asc-order")),onClick:function(){return a.setSortBy("type")},children:Object(h.jsx)(st.folder,{})}),Object(h.jsx)("div",{className:"username-link__number "+("number"===a.state.sortBy&&(a.state.orderDesc?"desc-order":"asc-order")),onClick:function(){return a.setSortBy("number")},children:Object(h.jsx)(st.kiss,{})}),Object(h.jsx)("div",{className:"username-link__name "+("name"===a.state.sortBy&&(a.state.orderDesc?"desc-order":"asc-order")),onClick:function(){return a.setSortBy("name")},children:"name"}),Object(h.jsx)("div",{className:"username-link__date "+("date"===a.state.sortBy&&(a.state.orderDesc?"desc-order":"asc-order")),onClick:function(){return a.setSortBy("date")},children:"commited"})]}),Object(h.jsx)(Et,{items:e.sort((function(e,t){var n=a.state,r=n.sortBy,o=n.orderDesc?1:-1;switch(r){case"type":return(Tt.indexOf(t.type)-Tt.indexOf(e.type))*o;case"number":return(t.connections-e.connections)*o;case"name":var s=e.userName||e.name;return(t.userName||t.name).localeCompare(s)*o;case"date":return((t[r]||0)-(e[r]||0))*o;default:return(t[r]-e[r])*o}})).map((function(e){return[Object(h.jsx)(St,{user:e,setNode:a.props.setNode,date:e.date,emoji:e.typeEmoji,emojiLink:"/edge/".concat(e.edgeId)},e.userName||e.name)]}))})]})},a.render=function(){var e=a.props.node;if("undefined"===typeof e)return Object(h.jsx)(h.Fragment,{});e=Object(i.a)(Object(i.a)({},e),{},{sex:[]});var t=Object(i.a)({emoji:"person"},e);return Object(h.jsxs)("div",{className:"node-info",children:[a.state.showSecretLinks&&Object(h.jsx)("div",{className:"secret",children:a.renderSocialLinks(e)}),a.renderProps(t),a.renderConnections([].concat(Object(g.a)(e.sposes.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{typeEmoji:"married"})}))),Object(g.a)(e.debated.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{typeEmoji:"womanBan"})}))),Object(g.a)(e.mates.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{typeEmoji:"kiss"})}))),Object(g.a)(e.sex.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{typeEmoji:"sex"})}))),Object(g.a)(e.date.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{typeEmoji:"heart"})}))),Object(g.a)(e.breakup.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{typeEmoji:"heartBroken"})})))).sort((function(e,t){return t.connections-e.connections})))]})},a.state={showSecretLinks:!0,copied:!1,sortBy:"date",orderDesc:!0},a.updateNumberOfHashtagPosts(),a}return Object(u.a)(n)}(a.Component);Rt.contextType=S;var Mt=Object(m.f)(Rt),Lt=n(155),Ct=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderEmoji=function(e){switch(e.type){case"DATE":return Object(h.jsx)(st.heart,{});case"BREAKUP":return Object(h.jsx)(st.heartBroken,{});case"DEBATED":return Object(h.jsx)(st.womanBan,{});case"MARRIED":return Object(h.jsx)(st.married,{});case"SEX":return Object(h.jsx)(st.sex,{});default:return Object(h.jsx)(st.kiss,{})}},e.render=function(){var t=e.context.store.get({edgeId:parseInt(e.props.location.pathname.replace("/edge/",""))});if("undefined"===typeof t)return Object(h.jsx)(h.Fragment,{});var n=e.context.store.get({id:t.node0}),a=e.context.store.get({id:t.node1});return Object(h.jsxs)("div",{className:"node-info",children:[Object(h.jsx)(St,{user:n,setNode:e.props.setNode}),Object(h.jsx)("div",{className:"edge-link",children:Object(h.jsxs)("div",{className:"ml-5",children:["\u2190 ",e.renderEmoji(t)," \u2192"]})}),Object(h.jsx)(St,{user:a,setNode:e.props.setNode}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),["published","told","commited"].map((function(e){return t.hasOwnProperty(e)&&Object(h.jsxs)("div",{children:[e,": ",Object(Lt.a)(new Date(1e3*t[e]),"HH:mm dd.MM.yyyy")]})}))]})},e}return Object(u.a)(n)}(a.Component);Ct.contextType=S;var It=Object(m.f)(Ct),_t=function(e,t,n){return Math.max(t,Math.min(e,n))},Ft=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).updateMaxHeight=function(){return a.setState({maxHeight:Math.floor(.8*(window.innerHeight-80))})},a.onTouchStart=function(e){e.preventDefault(),e.touches&&1!==e.touches.length||a.setState({state:"moving",prevousState:a.state.state,initialY:e.touches?e.touches[0].screenY:e.clientY,currentY:e.touches?e.touches[0].screenY:e.clientY,prevousY:e.touches?e.touches[0].screenY:e.clientY})},a.onTouchEnd=function(e){if("moving"===a.state.state){e.preventDefault();var t=a.calculateDeltaY(),n=a.state.currentY-a.state.prevousY,r=t>a.state.maxHeight/2?"opened":"closed";Math.abs(n)>12.5&&(r=n>0?"opened":"closed"),a.setState({state:r,prevousState:a.state.state,initialY:0,currentY:0,prevousY:0})}},a.onTouchMove=function(e){"moving"===a.state.state&&(e.preventDefault(),e.stopPropagation(),a.setState({prevousState:"moving"===a.state.state?a.state.prevousState:a.state.state,prevousY:a.state.currentY,currentY:e.touches?e.touches[0].screenY:e.clientY}))},a.calculateDeltaY=function(){return"closed"===a.state.prevousState?_t(a.state.currentY-a.state.initialY,0,a.state.maxHeight):_t(a.state.maxHeight+a.state.currentY-a.state.initialY,0,a.state.maxHeight)},a.open=function(){a.setState({state:"moving",prevousState:"closed",initialY:1,currentY:1}),setTimeout((function(){return a.setState({state:"opened",prevousState:"moving",initialY:0,currentY:0,prevousY:0})}),50)},a.render=function(){var e=a.calculateDeltaY(),t={};return"moving"===a.state.state&&(t={height:e+"px"}),"opened"!==a.state.state&&"opening"!==a.state.state||(t={height:a.state.maxHeight+"px"}),Object(h.jsx)("div",{className:"mobile-expander",children:Object(h.jsxs)("div",{className:"mobile-expander__abs-container",children:[Object(h.jsx)("div",{className:"mobile-expander__expanding-content-container "+a.state.state,style:t,children:Object(h.jsx)("div",{className:"mobile-expander__static-content-container",style:{height:a.state.maxHeight+"px"},children:a.props.children})}),Object(h.jsx)("div",{className:"mobile-expander__draggable-arrow "+a.state.state,ref:a.draggableArrowRef})]})})},a.state={maxHeight:0,state:"closed",prevousState:"closed",initialY:void 0,currentY:void 0,prevousY:void 0},a.draggableArrowRef=new r.a.createRef,a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.draggableArrowRef.current;t.addEventListener("touchstart",this.onTouchStart.bind(this),{passive:!1}),t.addEventListener("touchend",this.onTouchEnd.bind(this),{passive:!1}),window.addEventListener("touchmove",this.onTouchMove.bind(this),{passive:!1}),t.addEventListener("mousedown",this.onTouchStart.bind(this),{passive:!1}),t.addEventListener("mouseup",this.onTouchEnd.bind(this),{passive:!1}),window.addEventListener("mousemove",this.onTouchMove.bind(this),{passive:!1}),window.addEventListener("resize",this.updateMaxHeight.bind(this)),window.addEventListener("orientationchange",this.updateMaxHeight.bind(this)),this.updateMaxHeight();var n=this.props,a=n.prevLocation,r=n.node,o=n.edge;("/news"===a||"undefined"===typeof a&&"undefined"!==typeof r||"undefined"===typeof a&&"undefined"!==typeof o)&&setTimeout((function(){return e.open()}),50)}},{key:"componentWillUnmount",value:function(){var e=this.draggableArrowRef.current;e.removeEventListener("touchstart",this.onTouchStart.bind(this),{passive:!1}),window.removeEventListener("touchend",this.onTouchEnd.bind(this),{passive:!1}),window.removeEventListener("touchmove",this.onTouchMove.bind(this),{passive:!1}),e.addEventListener("mousedown",this.onTouchStart.bind(this),{passive:!1}),window.addEventListener("mouseup",this.onTouchEnd.bind(this),{passive:!1}),window.addEventListener("mousemove",this.onTouchMove.bind(this),{passive:!1}),window.removeEventListener("resize",this.updateMaxHeight.bind(this)),window.removeEventListener("orientationchange",this.updateMaxHeight.bind(this))}}]),n}(a.Component),Pt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;Object(c.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){return r.switchOption(r.state.currentOption)},r.switchOption=function(e){r.setState({currentOption:e});var t=(r.props.prevURL||"")+e;r.props.affectURL&&t!==r.props.location.pathname&&r.props.history.push(t),r.props.options[e].title&&(document.title=r.props.options[e].title)},r.render=function(){return Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)("div",{className:"radio-header "+(r.props.buttons&&"radio-header--buttons"),children:Object.keys(r.props.options).map((function(e){var t=r.props.options[e],n="string"===typeof t?t:t.label();return Object(h.jsx)("div",{className:"radio-header__option "+(r.state.currentOption===e&&"radio-header__option--selected"),onClick:function(){return r.switchOption(e)},children:n},e)}))}),r.props.options[r.state.currentOption].content()]})};var o=Object.keys(e.options),s=o[0];if(e.initialOption&&o.includes(e.initialOption)&&(s=e.initialOption),e.initialOptionFromURL){var i=e.location.pathname.split("/").filter((function(e){return o.includes(e)}));i.length>0&&(s=i[0])}return r.state={currentOption:s},r}return Object(u.a)(n)}(a.Component);Pt.getDerivedStateFromProps=function(e,t){if(e.affectURL){var n=Object.keys(e.options),a=e.location.pathname.split("/").filter((function(e){return n.includes(e)}));a.length>0&&(t.currentOption=a[0])}return null};var Bt=Object(m.f)(Pt),Ut=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).slowEdgesParser=function(e,t){return function(e,t){var n=[];return e.forEach((function(e){var a=new Be(e[t]).toStringDot(),r=n.map((function(e){return e.date})).indexOf(a);-1===r&&(n.push({date:a,entries:[]}),r=n.length-1),n[r].entries.push(e)})),n}(function(e){return e.map((function(e,t){var n=a.context.store.get({id:e.node0}),r=a.context.store.get({id:e.node1});return Object(i.a)(Object(i.a)({},e),{},{node0:{id:n.id,name:n.name,userName:n.userName,link:n.link,connections:n.connections,emoji:n.emoji},node1:{id:r.id,name:r.name,userName:r.userName,link:r.link,connections:r.connections,emoji:r.emoji}})}))}(e),t)},a.renderEmoji=function(e){switch(e.type){case"DATE":return Object(h.jsx)(st.heart,{});case"BREAKUP":return Object(h.jsx)(st.heartBroken,{});case"DEBATED":return Object(h.jsx)(st.womanBan,{});case"MARRIED":return Object(h.jsx)(st.married,{});case"SEX":return Object(h.jsx)(st.sex,{});default:return Object(h.jsx)(st.kiss,{})}},a.renderKisses=function(e){return a.state[e]&&a.state[e].map((function(t){return Object(h.jsxs)("div",{className:"kiss-day",children:[Object(h.jsx)("div",{className:"kiss-day__date",children:t.date}),Object(h.jsx)("div",{className:"kiss-day__entries",children:t.entries.map((function(t){return Object(h.jsxs)("div",{className:"kiss-day__entries__item",children:[Object(h.jsx)(mt,{date:t[e],className:"kiss-day__entries__item__time"}),Object(h.jsx)(St,{simple:!0,user:t.node0,emoji:t.node0.emoji,setNode:a.props.setNode}),Object(h.jsxs)(p.b,{to:"/edge/".concat(t.id),className:"edge-link",children:["\u2190",a.renderEmoji(t)," \u2192"]}),Object(h.jsx)(St,{simple:!0,user:t.node1,emoji:t.node1.emoji,setNode:a.props.setNode})]},t.id)}))})]},t.date)}))},a.renderShowMore=function(e){return Object(h.jsx)("button",{className:"button--load-more",onClick:function(){var t,n,r=a.state[e],o=a.state[e+"Shown"],s=a.slowEdgesParser(a.edgesArraysByOption[e].slice(o,o+50),e);n=r[r.length-1].date===s[0].date?[].concat(Object(g.a)(r.length>1?r.slice(0,-1):[]),[{date:s[0].date,entries:[].concat(Object(g.a)(r[r.length-1].entries),Object(g.a)(s[0].entries))}],Object(g.a)(s.length>1?s.slice(-1):[])):[].concat(Object(g.a)(r),Object(g.a)(s)),a.setState((t={},Object(Q.a)(t,e,n),Object(Q.a)(t,e+"Shown",o+50),t))},children:"Load more"})},a.render=function(){return Object(h.jsx)(Bt,{initialOptionFromURL:!0,affectURL:!0,prevURL:"/news/",options:a.options.map((function(e){return Object(Q.a)({},e,{title:"Kiss Graph: News / "+e,label:function(){return Object(h.jsxs)(h.Fragment,{children:[e,Object(h.jsx)(it,{name:a.optionsEmoji[e]})]})},content:function(){return Object(h.jsxs)(h.Fragment,{children:[a.renderKisses(e),a.state[e+"Shown"]<a.edgesArraysByOption[e].length&&a.renderShowMore(e)]})}})})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}))})},a.options=["published","told","commited"],a.optionsEmoji={told:"told",published:"world",commited:"kiss"},a.edgesArraysByOption=a.options.map((function(e){return Object(Q.a)({},e,[])})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)})),a.state=Object(i.a)({},a.options.map((function(e){return Object(Q.a)({},e+"Shown",150)})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}))),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.context.store.get().edges.filter((function(e){return"SEX"!==e.type||!1})).forEach((function(t){return e.options.forEach((function(n){var a,r,o;t.hasOwnProperty(n)&&(a=e.edgesArraysByOption[n],r=t,o=function(e,t){return e[n]-t[n]},a.splice(function(e,t,n){if(0===e.length||n(t,e[0])>0)return 0;if(n(t,e[e.length-1])<0)return e.length;for(var a=0,r=e.length-1;a<=r;){var o=r+a>>1,s=n(t,e[o]);if(s>0)r=o-1;else{if(!(s<0))return o;a=o+1}}return a}(a,r,o),0,r))}))})),this.options.forEach((function(t){return e.setState(Object(Q.a)({},t,e.slowEdgesParser(e.edgesArraysByOption[t].slice(0,150),t)))}))}}]),n}(a.Component);Ut.contextType=S;var Ht=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).renderKisses=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.connections>=2})).sort((function(e,t){return t.connections-e.connections})).map((function(e){return[Object(h.jsx)(St,{user:e,setNode:a.props.setNode})]}))})},a.renderMarriages=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.sposes.length>0})).sort((function(e,t){return t.sposes.length-e.sposes.length})).map((function(e){return[Object(h.jsx)(St,{prop:"sposes",user:e,setNode:a.props.setNode})]}))})},a.renderDates=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.date.length>0})).sort((function(e,t){return t.date.length-e.date.length})).map((function(e){return[Object(h.jsx)(St,{prop:"date",user:e,setNode:a.props.setNode})]}))})},a.renderBreakUps=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.breakup.length>0})).sort((function(e,t){return t.breakup.length-e.breakup.length})).map((function(e){return[Object(h.jsx)(St,{prop:"breakup",user:e,setNode:a.props.setNode})]}))})},a.renderDebated=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.debated.length>0})).sort((function(e,t){return t.debated.length-e.debated.length})).map((function(e){return[Object(h.jsx)(St,{prop:"debated",user:e,setNode:a.props.setNode})]}))})},a.renderIQ=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.iq})).map((function(e){return Object(i.a)(Object(i.a)({},e),{},{iq:"string"===typeof e.iq?e.iq:e.iq+(e.iq2||e.iq)>>1})})).sort((function(e,t){return("number"!==typeof t.iq?0:t.iq)-("number"!==typeof e.iq?0:e.iq)})).map((function(e){return[Object(h.jsx)(St,{prop:"IQ",user:e,setNode:a.props.setNode})]}))})},a.renderEQ=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.eq})).sort((function(e,t){return t.eq-e.eq})).map((function(e){return[Object(h.jsx)(St,{prop:"eq",user:e,setNode:a.props.setNode})]}))})},a.renderMass=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.weight})).sort((function(e,t){return t.weight-e.weight})).map((function(e){return[Object(h.jsx)(St,{prop:"mass",user:e,setNode:a.props.setNode})]}))})},a.renderHeight=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.height})).sort((function(e,t){return t.height-e.height})).map((function(e){return[Object(h.jsx)(St,{prop:"height",user:e,setNode:a.props.setNode})]}))})},a.renderBMImale=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.bmim})).sort((function(e,t){return t.bmim-e.bmim})).map((function(e){return[Object(h.jsx)(St,{prop:"bmim",user:e,setNode:a.props.setNode})]}))})},a.renderBMIfemale=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.bmif})).sort((function(e,t){return t.bmif-e.bmif})).map((function(e){return[Object(h.jsx)(St,{prop:"bmif",user:e,setNode:a.props.setNode})]}))})},a.renderMentalDisorder=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.mentalDisorder})).sort((function(e,t){return("number"!==typeof t.mentalDisorder?0:t.mentalDisorder)-("number"!==typeof e.mentalDisorder?0:e.mentalDisorder)})).map((function(e){return[Object(h.jsx)(St,{prop:"mentalDisorder",user:e,setNode:a.props.setNode})]}))})},a.renderDead=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.dead})).sort((function(e,t){return t.connections-e.connections})).map((function(e){return[Object(h.jsx)(St,{user:e,setNode:a.props.setNode})]}))})},a.renderTriggered=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.offended})).sort((function(e,t){return t.connections-e.connections})).map((function(e){return[Object(h.jsx)(St,{user:e,setNode:a.props.setNode})]}))})},a.renderGay=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.gay})).sort((function(e,t){return t.gay-e.gay})).map((function(e){return[Object(h.jsx)(St,{prop:"gay",user:e,setNode:a.props.setNode})]}))})},a.renderGenderless=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return!Ze(e)})).map((function(e){return[Object(h.jsx)(St,{user:e,setNode:a.props.setNode})]}))})},a.renderAttrMale=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.am})).sort((function(e,t){return t.am-e.am})).map((function(e){return[Object(h.jsx)(St,{prop:"am",user:e,setNode:a.props.setNode})]}))})},a.renderAttrFemale=function(){return Object(h.jsx)(Et,{items:a.context.store.get().nodes.filter((function(e){return e.af})).sort((function(e,t){return t.af-e.af})).map((function(e){return[Object(h.jsx)(St,{prop:"af",user:e,setNode:a.props.setNode})]}))})},a.render=function(){return Object(h.jsx)(Bt,{buttons:!0,initialOptionFromURL:!0,affectURL:!0,prevURL:"/stats/",options:{kisses:{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.kiss,{})," kisses"]})},content:function(){return a.renderKisses()},title:"Kiss Graph: Stats / kisses"},marriages:{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.married,{})," marriages"]})},content:function(){return a.renderMarriages()},title:"Kiss Graph: Stats / marriages"},dates:{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.heart,{})," dates"]})},content:function(){return a.renderDates()},title:"Kiss Graph: Stats / dates"},"break-ups":{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.heartBroken,{})," break ups"]})},content:function(){return a.renderBreakUps()},title:"Kiss Graph: Stats / break ups"},unrecognized:{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.womanBan,{})," unrecognized kisses"]})},content:function(){return a.renderDebated()},title:"Kiss Graph: Stats / unrecognized"},iq:{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.IQ,{})," IQ"]})},content:function(){return a.renderIQ()},title:"Kiss Graph: Stats / IQ"},eq:{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.empathy,{})," EQ"]})},content:function(){return a.renderEQ()},title:"Kiss Graph: Stats / EQ"},mass:{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.justice,{})," mass"]})},content:function(){return a.renderMass()},title:"Kiss Graph: Stats / mass"},height:{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.ruler,{})," height"]})},content:function(){return a.renderHeight()},title:"Kiss Graph: Stats / height"},"body-mass-index-male":{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.justice,{}),Object(h.jsx)(st.ruler,{}),Object(h.jsx)(st.male,{})," Body Mass Index male"]})},content:function(){return a.renderBMImale()},title:"Kiss Graph: Stats / Body Mass Index male"},"body-mass-index-female":{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.justice,{}),Object(h.jsx)(st.ruler,{}),Object(h.jsx)(st.female,{})," Body Mass Index female"]})},content:function(){return a.renderBMIfemale()},title:"Kiss Graph: Stats / Body Mass Index female"},"mental-disorder":{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.mentalDisorder,{})," mental disorder"]})},content:function(){return a.renderMentalDisorder()},title:"Kiss Graph: Stats / mental disorders"},triggered:{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.triggered,{})," triggered"]})},content:function(){return a.renderTriggered()},title:"Kiss Graph: Stats / triggered"},gay:{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.gay,{})," gay"]})},content:function(){return a.renderGay()},title:"Kiss Graph: Stats / gay"},dead:{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.dead,{})," dead"]})},content:function(){return a.renderDead()},title:"Kiss Graph: Stats / dead"},"most-fertile-males":{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.gene,{}),Object(h.jsx)(st.winner,{}),Object(h.jsx)(st.male,{})," most fertile males"]})},content:function(){return a.renderAttrMale()},title:"Kiss Graph: Stats / most fertile males"},"most-fertile-females":{label:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(st.gene,{}),Object(h.jsx)(st.winner,{}),Object(h.jsx)(st.female,{})," most fertile females"]})},content:function(){return a.renderAttrFemale()},title:"Kiss Graph: Stats / most fertile females"}}})},a.state={},a}return Object(u.a)(n)}(a.Component);Ht.contextType=S;var Yt=Ht,Vt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).render=function(){return Object(h.jsx)(Bt,{options:{news:{label:function(){return"News"},content:function(){return Object(h.jsx)(Ut,{setNode:a.props.setNode})}},stats:{label:function(){return"Stats"},content:function(){return Object(h.jsx)(Yt,{setNode:a.props.setNode})}}},initialOptionFromURL:!0})},a.state={},a}return Object(u.a)(n)}(a.Component),Gt=Object(m.f)(Vt),Jt=n(44),Kt=["af00ff","0000ff","00c3c3","00dd00","e0e000","ff8000","b90000"].map((function(e){return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)}})),Wt=["bf00ff","3f3fff","00ffff","00ff00","ffff00","ff8000","b90000"].map((function(e){return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)}})),zt=function(e,t){var n=t.length-1,a=Math.floor(e*n),r=Math.ceil(e*n),o=e*n-a;return{r:t[a].r*(1-o)+t[r].r*o,g:t[a].g*(1-o)+t[r].g*o,b:t[a].b*(1-o)+t[r].b*o}},Zt=function(e,t,n){var a;return"light"===t&&(a={r:(a=zt(e,Kt)).r,g:a.g,b:a.b},"gray"===n&&(a={r:50+a.r/2*1,g:50+a.g/2*1,b:50+a.b/2*1})),"dark"===t&&(a={r:16+(a=zt(e,Wt)).r/8*7,g:16+a.g/8*7,b:16+a.b/8*7},"gray"===n&&(a={r:70+a.r/2*1,g:70+a.g/2*1,b:70+a.b/2*1})),"#"+(a={r:2===(a={r:Math.round(a.r).toString(16),g:Math.round(a.g).toString(16),b:Math.round(a.b).toString(16)}).r.length?a.r:"0"+a.r,g:2===a.g.length?a.g:"0"+a.g,b:2===a.b.length?a.b:"0"+a.b}).r+a.g+a.b+("transparent"===n?"d0":"")},Xt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).render=function(){var t=e.context.store.get().weightSet;return Object(h.jsx)(Jt.a,{scopeSelector:":root",rules:Object(i.a)(Object(i.a)(Object(i.a)({},t.map((function(e,n){return Object(Q.a)({},"--weight-color-"+e,Zt(n/t.length,"light"))})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}))),t.map((function(e,n){return Object(Q.a)({},"--weight-color-"+e+"-gray",Zt(n/t.length,"light","gray"))})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}))),{},{mediaQueries:{"(prefers-color-scheme: dark)":Object(i.a)(Object(i.a)({},t.map((function(e,n){return Object(Q.a)({},"--weight-color-"+e,Zt(n/t.length,"dark"))})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}))),t.map((function(e,n){return Object(Q.a)({},"--weight-color-"+e+"-gray",Zt(n/t.length,"dark","gray"))})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t)})))}})})},e}return Object(u.a)(n)}(a.Component);Xt.contextType=S;var qt=Xt,Qt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).updateDeviceWidth=function(){return o.setState({deviceWidth:window.innerWidth})},o.setNode=function(e,t,n){if("undefined"!==typeof e&&null!==e)if("string"===typeof e){var a=e,r=o.context.store.get({name:a});null===r?o.props.setNode(null,t,n):o.props.setNode(r.id,t,n)}else o.props.setNode(e.id,t,n);else o.props.setNode(null,t,n)},o.openWorkspace=function(){return o.setState({desktopSpread:!0,showFooter:!1,showSearch:!1})},o.render=function(){var e,t=o.props,n=t.node,r=t.edge,s="/about"===o.props.location.pathname,i=Object(h.jsx)("div",{className:"footer",children:s?Object(h.jsx)("p",{className:"link",onClick:function(){o.props.node?(o.props.history.push("/node/".concat(o.props.node.link)),document.title="Kiss Graph: ".concat(o.props.node.name)):o.props.history.push("/news")},children:"back"}):Object(h.jsx)("p",{className:"link",onClick:function(){o.props.history.push("/about"),document.title="Kiss Graph: About"},children:"about"})}),c=Object(h.jsx)(Mt,{node:n,setNode:o.setNode.bind(Object(j.a)(o))});s?(e=Object(h.jsx)(Ve,{}),document.title="Kiss Graph: About"):e=n&&o.props.location.pathname.includes("/node/")?c:o.props.location.pathname.includes("/edge/")?Object(h.jsx)(It,{setNode:o.setNode.bind(Object(j.a)(o))}):"/kontrol"===o.props.location.pathname?Object(h.jsx)(xt,{}):Object(h.jsx)(Gt,{setNode:o.setNode.bind(Object(j.a)(o))});var u=Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)("div",{className:"flex-column position-relative",children:Object(h.jsx)("div",{className:"abs-container",children:Object(h.jsx)("div",{className:"scroll-column",children:Object(h.jsx)("div",{className:"flex-container",children:Object(h.jsxs)("div",{className:"text-interface__content",children:[o.props.children,e]})})})})}),o.state.showFooter&&i]});return Object(h.jsxs)("div",{ref:o.interfaceRef,className:"text-interface "+(o.state.desktopSpread&&"text-interface--spread"),children:[Object(h.jsx)("button",{className:"text-interface__spread-button "+(o.state.desktopSpread?"text-interface__spread-button--opened":"text-interface__spread-button--closed"),onClick:function(){return o.setState({desktopSpread:!o.state.desktopSpread})}}),Object(h.jsx)(qt,{}),Object(h.jsxs)("div",{className:"flex-container",children:[o.state.showSearch&&Object(h.jsx)("div",{ref:o.searchBarRef,className:"text-interface__search-bar",children:Object(h.jsx)(ut,{node:o.props.nodeToShow,onChange:function(e){return o.setNode(e)}})}),o.state.deviceWidth<=1024?Object(h.jsx)(Ft,{node:n,edge:r,history:o.props.history,prevLocation:o.props.prevLocation,children:Object(h.jsx)("div",{className:"flex-container position-relative",children:u})}):Object(h.jsx)("div",{className:"flex-column position-relative",children:Object(h.jsx)("div",{className:"abs-container",children:Object(h.jsx)("div",{className:"flex-container",children:u})})})]})]})},o.state={currentOptions:[],deviceWidth:0,desktopSpread:!1,showFooter:!0,showSearch:!0},o.interfaceRef=new r.a.createRef,o.searchBarRef=new r.a.createRef,o}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e;(e=this.searchBarRef.current).addEventListener("wheel",kt,{passive:!1}),e.addEventListener("touchmove",kt,{passive:!1}),window.addEventListener("resize",this.updateDeviceWidth.bind(this)),window.addEventListener("orientationchange",this.updateDeviceWidth.bind(this)),this.updateDeviceWidth()}},{key:"componentWillUnmount",value:function(){!function(e){var t,n;null===e||void 0===e||null===(t=e.removeEventListener)||void 0===t||t.call(e,"wheel",kt,{passive:!1}),null===e||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"touchmove",kt,{passive:!1})}(this.searchBarRef.current),window.removeEventListener("resize",this.updateDeviceWidth.bind(this)),window.removeEventListener("orientationchange",this.updateDeviceWidth.bind(this))}}]),n}(a.Component);Qt.contextType=S;var $t=function(e){var t=function(t){Object(l.a)(a,t);var n=Object(d.a)(a);function a(){return Object(c.a)(this,a),n.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,n=t.forwardRef,a=Object(_e.a)(t,Fe);return Object(h.jsx)(e,Object(i.a)(Object(i.a)({},a),{},{ref:n}))}}]),a}(a.Component),n=Object(m.f)(t,{withRef:!0});return r.a.forwardRef((function(e,t){return Object(h.jsx)(n,Object(i.a)(Object(i.a)({},e),{},{forwardRef:t}))}))}(Qt),en=n.p+"static/media/kiss.938743b7.png",tn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).init=function(){return a.context.threeSceneRef.current.units.heatGraph.addInitListener((function(){return a.hide()}))},a.show=function(){a.setState({display:!0,transparent:!0}),setTimeout((function(){return a.setState({transparent:!1})}),10)},a.hide=function(){a.setState({transparent:!0}),setTimeout((function(){return a.setState({display:!1})}),200)},a.render=function(){return Object(h.jsx)("div",{className:"loader",style:{transition:"opacity ".concat(200,"ms"),display:a.state.display?"flex":"none",opacity:a.state.transparent?0:1},children:Object(h.jsxs)("div",{className:"loader__container",children:[Object(h.jsx)("div",{className:"loader__emoji__container",children:Object(h.jsx)("img",{className:"emoji",src:en,alt:"kiss"})}),Object(h.jsx)("div",{className:"loader__text",children:a.props.children}),Object(h.jsxs)("div",{className:"loader__by",children:["by ",Object(h.jsx)("b",{className:"gradient-text gradient-text-animation-1",children:"@the_sociophobic"})]})]})})},a.state={display:!0,transparent:!1},a.checkInterval=setInterval((function(){var e,t,n,r;null!==(e=a.context)&&void 0!==e&&null!==(t=e.threeSceneRef)&&void 0!==t&&null!==(n=t.current)&&void 0!==n&&null!==(r=n.units)&&void 0!==r&&r.heatGraph&&(clearInterval(a.checkInterval),a.init())}),50),a}return Object(u.a)(n)}(a.Component);tn.contextType=S;var nn=tn,an=(n.p,n.p,function(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;e.length;)if(navigator.platform===e.pop())return!0;return!1}),rn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).render=function(){var e,t=a.context.store.get().weightSet,n=a.props.node,r=0;return a.heatMapRef.current&&n&&(e=a.heatMapRef.current.clientHeight,r=t.indexOf(n.connections)/(t.length-1)),Object(h.jsxs)("div",{className:"heat-map",children:[Object(h.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAaCAYAAAB2BDbRAAAAY0lEQVQImRXLsQnCABRF0ZMXwUpFtEhnxAUEF7CxcWPJAuIQWUJEAsKXNJfTXEOnsl6RXUf2B7LpiVlOc3rUV2VckKFwmxSTClvhKpo7fmPxrorn/D5I+yLLDzkhl4acW3IMf+sxFyg21XaOAAAAAElFTkSuQmCC",alt:"heatMap.png",ref:a.heatMapRef}),Object(h.jsx)("div",{className:"heat-map__0",children:t[t.length-1]}),Object(h.jsx)("div",{className:"heat-map__1",children:t[Math.round((t.length-1)/4*3)]}),Object(h.jsx)("div",{className:"heat-map__2",children:t[Math.round((t.length-1)/2)]}),Object(h.jsx)("div",{className:"heat-map__3",children:t[Math.round((t.length-1)/4)]}),Object(h.jsx)("div",{className:"heat-map__4",children:t[0]}),n&&Object(h.jsx)("div",{className:"heat-map__pointer",style:{marginTop:Math.round((1-r)*e)+"px"},children:Object(h.jsx)(st.pointer,{})})]})},a.state={},a.heatMapRef=r.a.createRef(),a}return Object(u.a)(n)}(a.Component);rn.contextType=S;var on=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).onScroll=function(){r.setState({scroll:!0}),r.scrollAttenuationTimeout&&clearTimeout(r.scrollAttenuationTimeout),r.scrollAttenuationTimeout=setTimeout((function(){r.setState({scroll:!1}),r.scrollAttenuationTimeout=void 0}),100)},r.renderTouch=function(){return""},r.renderDesktop=function(){return Object(h.jsx)("div",{className:"controls-help__desktop",children:[{flags:["click"],antiFlags:["shift"],text:"Look Around"},{flags:["shift","click"],text:"Move"},{flags:["scroll"],text:"Zoom"}].map((function(e){var t=e.flags.map((function(e){return r.state[e]})).reduce((function(e,t){return e&&t}))&&!(e.antiFlags&&e.antiFlags.map((function(e){return r.state[e]})).reduce((function(e,t){return e||t})));return Object(h.jsx)("div",{className:"controls-help__item",children:Object(h.jsxs)("div",{className:"controls-help__item__transparent-area "+(t&&"controls-help__item__transparent-area--active"),children:[Object(h.jsxs)("span",{className:"controls-help__item__text",children:[e.text,":"]}),e.flags.map((function(t){return Object(h.jsx)("div",{className:"controls-help__item__button "+("scroll"===t&&"controls-help__item__button--slow-transition ")+(r.state[t]&&" controls-help__item__button--active "),children:t},e.text+t)})).reduce((function(e,t){return Object(h.jsxs)(a.Fragment,{children:[e,"+",t]})}))]})},e.text)}))})},r.render=function(){return Object(h.jsx)("div",{className:"controls-help",children:L()?r.renderTouch():r.renderDesktop()})},r.state={click:!1,shift:!1,scroll:!1,oneFinger:!1,twoFinger:!1,zoom:!1},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",(function(t){return t.shiftKey&&e.setState({shift:!0})}),{passive:!0}),window.addEventListener("keyup",(function(t){return!t.shiftKey&&e.setState({shift:!1})}),{passive:!0});var t=document.getElementsByClassName("Viewer");(t=t&&t[0])&&(t.addEventListener("wheel",(function(){return e.onScroll()}),{passive:!0}),t.addEventListener("mousedown",(function(){return e.setState({click:!0})}),{passive:!0}),t.addEventListener("mouseup",(function(){return e.setState({click:!1})}),{passive:!0}))}}]),n}(a.Component),sn=function(e){return Object(h.jsx)("div",{className:"powered-by-nginx"})},cn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){return a.context.store.addInitListener((function(){if(an()&&window.scrollTo(0,0),a.props.location.pathname.includes("/node/")){var e=a.props.location.pathname.slice("/node/".length);if(e){var t=a.context.store.get({link:e});null!==t&&a.setNode(t.id,!1,!1)}}if(a.props.location.pathname.includes("/edge/")){var n=a.props.location.pathname.slice("/edge/".length);if(n){var r=a.context.store.get({edgeId:n,bla:"a"});null!==r&&a.setState({edgeToShow:r})}}a.setState({storeConnected:!0}),window.onpopstate=a.handleBrowserHistoryButtons.bind(Object(j.a)(a)),window.onpushstate=a.handleBrowserHistoryButtons.bind(Object(j.a)(a))}))},a.handleBrowserHistoryButtons=function(e){if(a.props.location.pathname.includes("/node/")){var t=a.props.location.pathname.slice("/node/".length),n=a.context.store.search({link:t})[0];a.setNode(n.id,!0,!1)}else a.setNode(void 0,!1,!1)},a.setNode=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=a.props.history;if("undefined"===typeof e||-1===e||null===e||e.length&&0===e.length)return a.setState({nodeToShow:void 0}),void(n&&(r.push("/news/published"),document.title="Kiss Graph: News / published"));var o=a.context.store.get({id:e});if("undefined"!==typeof o&&null!==o){a.setState({nodeToShow:o});var s=a.props.location.pathname.slice("/node/".length)||"";s!==o.link&&n&&r.push("/node/".concat(o.link)),document.title="Kiss Graph: "+o.name,a.context.threeSceneRef.current&&a.context.threeSceneRef.current.setCamera(o.pos,t)}},a.render=function(){var e={data:a.context,node:a.state.nodeToShow,edge:a.state.edgeToShow,setNode:a.setNode.bind(Object(j.a)(a)),nodeToShow:a.state.nodeToShow,history:a.props.history,prevLocation:a.props.location&&a.props.location.state&&a.props.location.state.from};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(nn,{children:[Object(h.jsx)("h1",{className:"h1",children:"Kiss Graph v5.15"}),Object(h.jsx)("h4",{className:"h4",children:"Updates:"}),Object(h.jsxs)("ul",{className:"ul",children:[Object(h.jsx)("li",{className:"li",children:"3d Engine optimised"}),Object(h.jsx)("li",{className:"li",children:"clickable edges"}),Object(h.jsx)("li",{className:"li",children:"EQ"})]})]}),a.state.storeConnected&&Object(h.jsxs)("div",{className:"page-container",children:[Object(h.jsx)($t,Object(i.a)({ref:a.context.textInterfaceRef},e)),Object(h.jsxs)("div",{className:"viewer-container",children:[Object(h.jsx)(N,Object(i.a)({ref:a.context.threeSceneRef,myScene:Ie},e)),Object(h.jsx)(rn,{node:a.state.nodeToShow}),Object(h.jsx)(on,{}),Object(h.jsx)(sn,{})]})]})]})},a.state={nodeToShow:void 0,edgeToShow:void 0,storeConnected:!1,spritesCreated:!1},a}return Object(u.a)(n)}(a.Component);cn.contextType=S;var un=[{path:"/donations",component:f},{path:"/btc",component:b},{path:"/*",component:cn}],ln=n(98);q.a.defaults.headers.post["Content-Type"]="application/json";var dn=function(){return Object(h.jsxs)(ln.a,{children:[Object(h.jsx)("meta",{"http-equiv":"cache-control",content:"max-age=0"}),Object(h.jsx)("meta",{"http-equiv":"cache-control",content:"no-cache"}),Object(h.jsx)("meta",{"http-equiv":"expires",content:"-1"}),Object(h.jsx)("meta",{"http-equiv":"expires",content:"Tue, 01 Jan 1980 11:00:00 GMT"}),Object(h.jsx)("meta",{"http-equiv":"pragma",content:"no-cache"})]})},pn=n(101),mn=n(46),hn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:void 0,sessionToken:void 0},e.cookies=new pn.a,e.checkInterval=null,e.checkUser=Object(P.a)(U.a.mark((function t(){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.post("https://kiss-graph.com/login",{sessionToken:e.cookies.get("sessionToken"),deviceInfo:JSON.stringify(Object(mn.deviceDetect)())});case 2:(n=t.sent).newSessionToken&&e.cookies.set("sessionToken",n.newSessionToken,{path:"/"}),e.setState({sessionToken:e.cookies.get("sessionToken")}),n.hasOwnProperty("user")&&e.setState({user:n.user});case 6:case"end":return t.stop()}}),t)}))),e.logout=Object(P.a)(U.a.mark((function t(){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ee.a.isEmpty(e.state.user)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,q.a.post("/logout",{sessionToken:e.cookies.get("sessionToken"),deviceInfo:JSON.stringify(Object(mn.deviceDetect)())});case 4:n=t.sent,e.cookies.set("sessionToken",n.newSessionToken,{path:"/"}),e.setState({user:void 0,sessionToken:e.cookies.get("sessionToken")});case 7:case"end":return t.stop()}}),t)}))),e.checkIfLogged=function(){var t=0;e.checkInterval=setInterval((function(){(!ee.a.isEmpty(e.state.user)||t>10)&&clearInterval(e.checkInterval),e.checkUser(),t++}),500)},e}return Object(u.a)(n)}(r.a.Component),fn=hn,bn={"\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"kh","\u0446":"ts","\u0447":"ch","\u0448":"sh","\u0449":"sch","\u044a":"","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya"},jn=function(e){return function(e){return e.split("").map((function(e){return bn[e]||e})).join("")}(e.toLowerCase().replace("\u044c\u0435","ye").replace("\u0438\u044f","ia").replace("\u044c\u044f","ia").replace("\u0438\u0439","y").replace("\u0451","\u0435"))},gn=function(e,t){return Array.from(new Set(e.map((function(e){return e[t]})))).sort((function(e,t){return e-t}))},yn=function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},vn=function(e){var t=e.nodes,n=e.edges;return{nodes:t.map((function(e){var t=e.mates.filter((function(e){return"KISS"===e.type})),n=e.mates.filter((function(e){return"MARRIED"===e.type})),a=e.mates.filter((function(e){return"DEBATED"===e.type})),r=e.mates.filter((function(e){return"SEX"===e.type})),o=e.mates.filter((function(e){return"DATE"===e.type})),s=e.mates.filter((function(e){return"BREAKUP"===e.type}));return Object(i.a)(Object(i.a)({},e),{},{connections:e.connections-n.length-a.length-r.length-o.length-s.length,mates:t,sposes:n,debated:a,date:o,breakup:s,sex:r})})),edges:n}},On=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).init=Object(P.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getData();case 2:a.callInitListeners();case 3:case"end":return e.stop()}}),e)}))),a.update=Object(P.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getData();case 2:a.callUpdateListeners();case 3:case"end":return e.stop()}}),e)}))),a.getData=Object(P.a)(U.a.mark((function e(){var t,n,r,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://raw.githubusercontent.com/the-sociophobic/kiss-graph-2/main/data/",e.next=4,q.a.get(t+"names.json");case 4:return a.metaData=e.sent.data,e.next=7,q.a.get(t+"position.json");case 7:return e.t0=e.sent.data,e.next=10,q.a.get(t+"uv.json");case 10:e.t1=e.sent.data,a.geometry={position:e.t0,uv:e.t1},e.next=24;break;case 14:return e.t2=vn,e.next=17,we();case 17:return e.t3=e.sent,e.next=20,Ee();case 20:e.t4=e.sent,e.t5={nodes:e.t3,edges:e.t4},a.metaData=(0,e.t2)(e.t5),a.metaData.nodes=a.metaData.nodes.map((function(e){if(e.mates&&Ze(e)&&e.mates.length>0&&e.mates.map((function(e){return Ze(e)})).reduce((function(e,t){return e&&t}))){var t,n,a;"m"===e.gender?(n={am:t=e.mates.filter((function(e){return"f"===e.gender})).length},e.weight&&e.height&&(a={bmim:(e.weight/Math.pow(e.height/100,2)).toFixed(1)})):(n={af:t=e.mates.filter((function(e){return"m"===e.gender})).length},e.weight&&e.height&&(a={bmif:(e.weight/Math.pow(e.height/100,2)).toFixed(1)}));var r=e.mates.length-t;return r>0&&e.mates.length>=4?Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},e),n),a),{},{gay:Math.round(r/e.mates.length*1e3)/10}):Object(i.a)(Object(i.a)(Object(i.a)({},e),n),a)}return e}));case 24:a.iqSet=gn(a.metaData.nodes,"iq"),a.weightSet=gn(a.metaData.nodes,"connections"),a.mentalDisorderSet=gn(a.metaData.nodes,"mentalDisorder"),n=function(e,t){return t.indexOf(e)/t.length},r=function(e){return e.userName||e.social&&(e.social.inst||e.social.vk&&(!e.social.vk.startsWith("id")||e.social.vk.includes("_"))&&e.social.vk||e.social.tg||e.social.twit||e.social.yt&&e.social.yt.startsWith("user/")&&e.social.yt.slice(5))||void 0},o=function(e){return(r(e)||e.name||"").toLowerCase().replace(/ /g,"-")},a.metaData.nodes=a.metaData.nodes.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{uv:n(e.connections,a.weightSet),userName:r(e),link:o(e)})}));case 31:case"end":return e.stop()}}),e)}))),a.get=function(e){var t={iqSet:a.iqSet,weightSet:a.weightSet,mentalDisorderSet:a.mentalDisorderSet,nodes:a.metaData.nodes,edges:a.metaData.edges};if("undefined"===typeof e)return t;var n,r=Object(j.a)(a).metaData;if("undefined"!==typeof e.edgeId){var o=r.edges.map((function(e){return e.id})).indexOf(parseInt(e.edgeId));if(-1!==o)return n=r.edges[o]}return Object.keys(e).forEach((function(t){if("undefined"!==typeof e[t]){var a=r.nodes.map((function(e){return e[t]})).indexOf(e[t]);-1!==a&&(n=r.nodes[a])}})),"undefined"!==typeof n?n:null},a.search=function(e){var t;if(e.link){var n=a.metaData.nodes.map((function(e){return e.link})).indexOf(e.link);if(-1!==n)return[a.metaData.nodes[n]]}else t=a.metaData.nodes.filter((function(t){return Object.keys(e).map((function(n){return t[n]&&t[n].toLowerCase().includes(jn(e[n]))})).reduce((function(e,t){return e||t}))}))||[];if(t.length<7){var r=a.metaData.nodes.filter((function(n){return!t.map((function(e){return e.id})).includes(n.id)&&Object.keys(e).map((function(t){return n[t]&&n[t].toLowerCase().includes(e[t].toLowerCase())})).reduce((function(e,t){return e||t}))}))||[];t=[].concat(Object(g.a)(t),Object(g.a)(r.slice(0,7-t.length)))}return t},a.push=function(){var e=Object(P.a)(U.a.mark((function e(t){var n,r,o,s=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(s.length>1&&void 0!==s[1])||s[1],o=Object.keys(t).includes("node0"),r=o?"undefined"===typeof t.id?Ae(t):Re(t):"undefined"===typeof t.id?Ne(t):De(t),!n){e.next=6;break}return e.next=6,a.update();case 6:return e.next=8,r;case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.delete=function(){var e=Object(P.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.keys(t).includes("node0"),n=r?Le(t):Me(t),e.next=4,a.update();case 4:return e.next=6,n;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.copyData=function(){return Ge(JSON.stringify({nodes:a.metaData.nodes,edges:a.metaData.edges}))},a.copyPos=function(){yn("position.json",JSON.stringify(a.geometry.position))},a.copyUV=function(){yn("uv.json",JSON.stringify(a.geometry.uv))},a.getGeometry=function(){return a.geometry},a.setGeometry=function(e){a.geometry=e},a.props=e,a.metaData={nodes:[],edges:[]},a.init(),a}return Object(u.a)(n)}(M),xn=On,kn=(n(152),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a,o;return Object(c.a)(this,n),(a=t.call(this,e)).state=(o={state:a.state,setState:a.setState},Object(i.a)(Object(i.a)({},o.state),{},{store:new xn(o),threeSceneRef:r.a.createRef(),textInterfaceRef:r.a.createRef()})),a}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsx)(p.a,{children:Object(h.jsxs)(S.Provider,{value:this.state,children:[Object(h.jsx)(dn,{}),Object(h.jsx)(m.c,{children:un.map((function(e){return Object(a.createElement)(m.a,Object(i.a)(Object(i.a)({},e),{},{key:e.path}))}))})]})})}}]),n}(fn));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(h.jsx)(kn,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[153,1,2]]]);
//# sourceMappingURL=main.176d2536.chunk.js.map